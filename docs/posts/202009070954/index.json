



    
        
    




{
  "result": {
    "content": "\u003cp\u003e從爬蟲開始的實作，分析資料前總得先有資料吧(;\u0026lsquo;∀\u0026rsquo;)，作為資料分析的前置作業，就來爬取媒體最愛的PTT，畢竟BBS類型的資料還蠻標準的，雖然本人不太逛PTT就是了…\u003c/p\u003e\n\u003cp\u003e後半段參考\u003ca target=\"_blank\" href=\"https://city.shaform.com/zh/2016/02/28/scrapy/\"\u003e這篇\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e完成的souce code已放上github：\u003ca target=\"_blank\" href=\"https://github.com/mikanbearer/scrapy_sample\"\u003e傳送門\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca onclick=\"window.scrollTo({top: document.getElementById(1).offsetTop, behavior: 'smooth'})\"\u003e使用Scrapy抓取資料\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca onclick=\"window.scrollTo({top: document.getElementById(2).offsetTop, behavior: 'smooth'})\"\u003e使用Matplotlib製圖\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca onclick=\"window.scrollTo({top: document.getElementById(3).offsetTop, behavior: 'smooth'})\"\u003e使用Jupyter Notebook\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca onclick=\"window.scrollTo({top: document.getElementById(4).offsetTop, behavior: 'smooth'})\"\u003e使用\u0026quot;結巴\u0026quot;進行分詞\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca onclick=\"window.scrollTo({top: document.getElementById(5).offsetTop, behavior: 'smooth'})\"\u003e使用scikit-learn進行線性預測\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca onclick=\"window.scrollTo({top: document.getElementById(6).offsetTop, behavior: 'smooth'})\"\u003e使用Pandas製作DataFrame\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca onclick=\"window.scrollTo({top: document.getElementById(7).offsetTop, behavior: 'smooth'})\"\u003e使用seaborn進行可視化\u003c/a\u003e\n\u003cbr\u003e\u003c/br\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"p-id1使用爬蟲抓取資料p\"\u003e\u003cp id=1\u003e使用爬蟲抓取資料\u003c/p\u003e\u003c/h3\u003e\n\u003chr\u003e\n\u003cp\u003e首先把環境部屬好\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ scrapy startproject scrapy_sample\r\n$ cd scrapy_sample/scrapy_sample/spiders\r\n$ scrapy genspider ptt_gossiping www.ptt.cc/bbs/Gossiping\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n編輯第一個spider，當然response是PTT確認年齡的頁面，之後要再改改\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\n\u003ctable style=\"border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\"\u003e\u003ctr\u003e\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 1\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 2\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 3\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 4\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 5\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 6\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 7\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 8\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 9\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e10\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;;width:100%\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-:scrapy_sample/spiders/ptt_gossiping.py\" data-lang=\":scrapy_sample/spiders/ptt_gossiping.py\"\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e scrapy\n\n\n\u003cspan style=\"color:#66d9ef\"\u003eclass\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ePttGossipingSpider\u003c/span\u003e(scrapy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eSpider):\n    name \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ptt_gossiping\u0026#39;\u003c/span\u003e\n    allowed_domains \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;www.ptt.cc/bbs/Gossiping\u0026#39;\u003c/span\u003e]\n    start_urls \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;http://www.ptt.cc/bbs/Gossiping\u0026#39;\u003c/span\u003e]\n\n    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eparse\u003c/span\u003e(self, response):\n        \u003cspan style=\"color:#66d9ef\"\u003eprint\u003c/span\u003e(response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003etext)\n\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n可以從source code得知年齡確認用了一個form，會post兩種value，yes和no，現在就就直接post了，省時省力\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\n\u003ctable style=\"border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\"\u003e\u003ctr\u003e\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 1\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 2\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 3\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 4\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 5\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 6\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 7\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 8\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 9\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e10\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e11\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e12\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e13\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e14\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e15\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e16\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e17\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e18\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;;width:100%\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-:scrapy_sample/spiders/ptt_gossiping.py\" data-lang=\":scrapy_sample/spiders/ptt_gossiping.py\"\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e scrapy\n\n\n\u003cspan style=\"color:#66d9ef\"\u003eclass\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ePttGossipingSpider\u003c/span\u003e(scrapy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eSpider):\n    name \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ptt_gossiping\u0026#39;\u003c/span\u003e\n    allowed_domains \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;www.ptt.cc/bbs/Gossiping\u0026#39;\u003c/span\u003e]\n    start_urls \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;http://www.ptt.cc/bbs/Gossiping\u0026#39;\u003c/span\u003e]\n\n\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eparse\u003c/span\u003e(self, response):\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e scrapy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eFormRequest\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efrom_response(\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e            response,\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e            formdata\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e{\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;yes\u0026#39;\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;yes\u0026#39;\u003c/span\u003e},\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e            callback\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eafter_ask,\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e            dont_filter\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eTrue\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e        )\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eafter_ask\u003c/span\u003e(self, response):\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e        \u003cspan style=\"color:#66d9ef\"\u003eprint\u003c/span\u003e(response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003etext)\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n再來就要開始換頁，把spider改成這樣，頁是最好先限制一下，不然好幾萬頁有點吃不消\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\n\u003ctable style=\"border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\"\u003e\u003ctr\u003e\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 1\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 2\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 3\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 4\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 5\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 6\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 7\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 8\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 9\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e10\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e11\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e12\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e13\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e14\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e15\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e16\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e17\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e18\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e19\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e20\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e21\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e22\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e23\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e24\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e25\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e26\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e27\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e28\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;;width:100%\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-:scrapy_sample/spiders/ptt_gossiping.py\" data-lang=\":scrapy_sample/spiders/ptt_gossiping.py\"\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e scrapy\n\n\n\u003cspan style=\"color:#66d9ef\"\u003eclass\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ePttGossipingSpider\u003c/span\u003e(scrapy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eSpider):\n    name \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ptt_gossiping\u0026#39;\u003c/span\u003e\n    allowed_domains \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;www.ptt.cc/bbs/Gossiping\u0026#39;\u003c/span\u003e]\n    start_urls \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;http://www.ptt.cc/bbs/Gossiping\u0026#39;\u003c/span\u003e]\n\n\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e    max_page \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e#最大頁數\u003c/span\u003e\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e    page_count \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e#計數用\u003c/span\u003e\n\u003c/span\u003e\n    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eparse\u003c/span\u003e(self, response):\n        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e scrapy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eFormRequest\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efrom_response(\n            response,\n            formdata\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e{\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;yes\u0026#39;\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;yes\u0026#39;\u003c/span\u003e},\n            callback\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eafter_ask,\n            dont_filter\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eTrue\n        )\n\n    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eafter_ask\u003c/span\u003e(self, response):\n\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epage_count \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003emax_page:\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e            next \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003expath(\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e                \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;//div[@id=\u0026#34;action-bar-container\u0026#34;]//a[contains(text(), \u0026#34;上頁\u0026#34;)]/@href\u0026#39;\u003c/span\u003e)\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eget(default\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eNone) \u003cspan style=\"color:#75715e\"\u003e#抓innertext為\u0026#34;上頁\u0026#34;的element\u003c/span\u003e\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e next:\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e                url \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eurljoin(next)\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e                \u003cspan style=\"color:#66d9ef\"\u003eprint\u003c/span\u003e(url)\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e                self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epage_count \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e                \u003cspan style=\"color:#66d9ef\"\u003eyield\u003c/span\u003e scrapy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eRequest(url\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eurl, callback\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eafter_ask, dont_filter\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eTrue) \u003cspan style=\"color:#75715e\"\u003e#再call一次after_ask\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n接下來再小小修改一下after_ask()，使用一個for來多開幾個Reuqest，callback為parse_post\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\n\u003ctable style=\"border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\"\u003e\u003ctr\u003e\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e20\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e21\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e22\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e23\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e24\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e25\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e26\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e27\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e28\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e29\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e30\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e31\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;;width:100%\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-:scrapy_sample/spiders/ptt_gossiping.py\" data-lang=\":scrapy_sample/spiders/ptt_gossiping.py\"\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eafter_ask\u003c/span\u003e(self, response):\n\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e href \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecss(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;div.r-ent div.title a::attr(href)\u0026#39;\u003c/span\u003e)\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003egetall():\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e            url \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eurljoin(href)\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e            \u003cspan style=\"color:#66d9ef\"\u003eyield\u003c/span\u003e scrapy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eRequest(url\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eurl, callback\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eparse_post, dont_filter\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eTrue)\n\u003c/span\u003e\n        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epage_count \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003emax_page:\n            next \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003expath(\n                \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;//div[@id=\u0026#34;action-bar-container\u0026#34;]//a[contains(text(), \u0026#34;上頁\u0026#34;)]/@href\u0026#39;\u003c/span\u003e)\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eget(default\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eNone)\n            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e next:\n                self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epage_count \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n                url \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eurljoin(next)\n                \u003cspan style=\"color:#66d9ef\"\u003eyield\u003c/span\u003e scrapy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eRequest(url\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eurl, callback\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eself\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eafter_ask, dont_filter\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eTrue)\n\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n先定義這個簡單的function，就能看到response.url是個標題的網址，如此一來就可以開始抓內容了\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-py\" data-lang=\"py\"\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eparse_post\u003c/span\u003e(self, response):\n        \u003cspan style=\"color:#66d9ef\"\u003eprint\u003c/span\u003e(response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eurl)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n準備好items\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\n\u003ctable style=\"border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\"\u003e\u003ctr\u003e\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 1\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 2\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 3\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 4\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 5\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 6\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 7\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 8\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 9\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e10\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e11\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e12\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;;width:100%\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-:scrapy_sample/items.py\" data-lang=\":scrapy_sample/items.py\"\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e scrapy\n\n\n\u003cspan style=\"color:#66d9ef\"\u003eclass\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ePostItem\u003c/span\u003e(scrapy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eItem):\n    url \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e scrapy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eField()\n    title \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e scrapy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eField()\n    author \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e scrapy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eField()\n    date \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e scrapy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eField()\n    content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e scrapy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eField()\n    comments \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e scrapy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eField()\n    score \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e scrapy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eField()\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n接下來回到spider，修改成下列的樣子就差不多大功告成\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\n\u003ctable style=\"border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\"\u003e\u003ctr\u003e\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e35\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e36\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e37\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e38\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e39\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e40\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e41\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e42\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e43\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e44\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e45\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e46\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e47\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e48\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e49\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e50\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e51\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e52\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e53\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e54\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e55\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e56\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e57\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e58\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e59\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e60\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e61\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e62\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e63\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e64\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e65\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e66\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e67\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e68\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e69\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e70\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e71\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e72\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;;width:100%\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-:scrapy_sample/spiders/ptt_gossiping.py\" data-lang=\":scrapy_sample/spiders/ptt_gossiping.py\"\u003e    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eparse_post\u003c/span\u003e(self, response):\n        item \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e PostItem()\n        item[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;title\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecss(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;meta[property=\u0026#34;og:title\u0026#34;]::attr(content)\u0026#39;\u003c/span\u003e)\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eget()\n        item[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;author\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003expath(\n            \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;//div[@class=\u0026#34;article-metaline\u0026#34;]/span[text()=\u0026#34;作者\u0026#34;]/following-sibling::span[1]/text()\u0026#39;\u003c/span\u003e)\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eget()\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esplit(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; \u0026#39;\u003c/span\u003e)[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e]\n\n        datetime_str \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003expath(\n            \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;//div[@class=\u0026#34;article-metaline\u0026#34;]/span[text()=\u0026#34;時間\u0026#34;]/following-sibling::span[1]/text()\u0026#39;\u003c/span\u003e)\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eget()\n        item[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;date\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e datetime\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrptime(datetime_str, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;%a %b \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%d\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e %H:%M:%S %Y\u0026#39;\u003c/span\u003e)\n        item[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;content\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecss(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;div#main-content::text\u0026#39;\u003c/span\u003e)\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eget()\n        comments \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e []\n        score_total \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e\n\n        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e comment \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecss(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;div.push\u0026#39;\u003c/span\u003e):\n            tag \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e comment\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecss(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;span.push-tag::text\u0026#39;\u003c/span\u003e)\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eget()\n            user \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e comment\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecss(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;span.push-userid::text\u0026#39;\u003c/span\u003e)\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eget()\n            content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e comment\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecss(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;span.push-content::text\u0026#39;\u003c/span\u003e)\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eget()\n\n            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;推\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e tag:\n                score \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n            \u003cspan style=\"color:#66d9ef\"\u003eelif\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;噓\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e tag:\n                score \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n            \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e:\n                score \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e\n\n            score_total \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e score\n\n            comments\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend({\n                \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;user\u0026#39;\u003c/span\u003e: user,\n                \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e: score,\n                \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;content\u0026#39;\u003c/span\u003e: content\n            })\n\n        item[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;comments\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e comments\n        item[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e score_total\n        item[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;url\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eurl\n\n        \u003cspan style=\"color:#66d9ef\"\u003eyield\u003c/span\u003e item\n\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n完成輸入指令，就能看到貼文被抓下來啦\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ scrapy crawl ptt_gossiping -o test.json\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e遲來的資料分析，原本想通通和爬蟲一起塞一篇，但一次做太多自己沒辦法進入狀況，只好先練習資料可視化開始熟悉手邊工具，之後再循序漸進繼續深入\u003c/p\u003e\n\u003c!--more--\u003e\r\n\u003cp\u003e這篇比較有點過渡期的味道，畢竟沒有太多內容，所以就索性加了一點點Jupyter notebook\u003c/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n練習的檔案，是用之前抓的PTT貼文\n\u003ca target=\"_blank\" href=\"https://github.com/mikanbearer/scrapy_sample\"\u003e這裡\u003c/a\u003e\n\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003ch3 id=\"p-id2使用matplotlib製圖p\"\u003e\u003cp id=2\u003e使用Matplotlib製圖\u003c/p\u003e\u003c/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n首先用pip下載需要用的包\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ pip install matplotlib\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n接下來將json做個簡單的處理\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-py\" data-lang=\"py\"\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e json\n\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e collections \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e defaultdict\n\n\u003cspan style=\"color:#66d9ef\"\u003ewith\u003c/span\u003e open(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;pttgossip.json\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e f:\n    posts \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e json\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eload(f) \u003cspan style=\"color:#75715e\"\u003e#讀取練習的jason\u003c/span\u003e\n\n\u003cspan style=\"color:#75715e\"\u003e#建立defaultdict物件，value type為int\u003c/span\u003e\ncomments_total \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e defaultdict(int)\npushes_total \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e defaultdict(int)\nhates_total \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e defaultdict(int)\n\n\u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e post \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e posts:\n    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e comment \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e post[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;comments\u0026#39;\u003c/span\u003e]:\n        user \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e comment[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;user\u0026#39;\u003c/span\u003e]\n\n        comments_total[user] \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n\n        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e comment[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e:\n            pushes_total[user] \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n\n        \u003cspan style=\"color:#66d9ef\"\u003eelif\u003c/span\u003e comment[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e:\n            hates_total[user] \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e這樣就能以user為key，value則是一個count\n\u003cbr\u003e\u003c/br\u003e\n接著可以畫圖囉，以user為x，那麼回應、推、噓三個則為y值，以這構想大概這樣做\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-py\" data-lang=\"py\"\u003e\u003cspan style=\"color:#75715e\"\u003e#以comment數來排序成user list，長度取50\u003c/span\u003e\nsorted_users \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [item[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e] \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e item \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e sorted(comments_total\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eitems(), key\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003elambda\u003c/span\u003e x: \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003ex[\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e])][:]\n\u003cspan style=\"color:#75715e\"\u003e#以user list來排序回覆count\u003c/span\u003e\ny_comments \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [comments_total[u] \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e sorted_users]\n\u003cspan style=\"color:#75715e\"\u003e#以user list來排序推文count\u003c/span\u003e\ny_pushes \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [pushes_total[u] \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e sorted_users]\n\u003cspan style=\"color:#75715e\"\u003e#以user list來排序噓文count\u003c/span\u003e\ny_hates \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [hates_total[u] \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e sorted_users]\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e這樣就處理好x與三個y\n\u003cbr\u003e\u003c/br\u003e\n接下來就能用mtatplotlib產生簡單的圖\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-py\" data-lang=\"py\"\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e matplotlib.pyplot \u003cspan style=\"color:#f92672\"\u003eas\u003c/span\u003e plt\n\n\n\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ecomment_graph\u003c/span\u003e(comments, pushes, hates, max_x):\n    sorted_users \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [item[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e] \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e item \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e sorted(comments\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eitems(), key\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003elambda\u003c/span\u003e x: \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003ex[\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e])][:max_x]\n    y_comments \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [comments[u] \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e sorted_users]\n    y_pushes \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [pushes[u] \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e sorted_users]\n    y_hates \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [hates[u] \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e sorted_users]\n\n    x \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e range(len(sorted_users))\n\n    plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eplot(x, y_comments, color\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;blue\u0026#39;\u003c/span\u003e, label\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;comments\u0026#39;\u003c/span\u003e)\n    plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eplot(x, y_pushes, color\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;green\u0026#39;\u003c/span\u003e, label\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;pushes\u0026#39;\u003c/span\u003e)\n    plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eplot(x, y_hates, color\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;red\u0026#39;\u003c/span\u003e, label\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;hates\u0026#39;\u003c/span\u003e)\n    plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003elegend()\n    plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eshow()\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n最後完成的code如下：\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-py\" data-lang=\"py\"\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e json\n\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e collections \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e defaultdict\n\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e matplotlib.pyplot \u003cspan style=\"color:#f92672\"\u003eas\u003c/span\u003e plt\n\n\u003cspan style=\"color:#66d9ef\"\u003ewith\u003c/span\u003e open(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;pttgossip.json\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e f:\n    posts \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e json\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eload(f)\n\ncomments_total \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e defaultdict(int)\npushes_total \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e defaultdict(int)\nhates_total \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e defaultdict(int)\n\n\u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e post \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e posts:\n    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e comment \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e post[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;comments\u0026#39;\u003c/span\u003e]:\n        user \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e comment[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;user\u0026#39;\u003c/span\u003e]\n        comments_total[user] \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n\n        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e comment[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e:\n            pushes_total[user] \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n\n        \u003cspan style=\"color:#66d9ef\"\u003eelif\u003c/span\u003e comment[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e:\n            hates_total[user] \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n\n\n\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ecomment_graph\u003c/span\u003e(comments, pushes, hates, max_x):\n    sorted_users \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [item[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e] \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e item \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e sorted(comments\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eitems(), key\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003elambda\u003c/span\u003e x: \u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003ex[\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e])][:max_x]\n    y_comments \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [comments[u] \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e sorted_users]\n    y_pushes \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [pushes[u] \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e sorted_users]\n    y_hates \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [hates[u] \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e u \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e sorted_users]\n\n    x \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e range(len(sorted_users))\n\n    plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eplot(x, y_comments, color\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;blue\u0026#39;\u003c/span\u003e, label\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;comments\u0026#39;\u003c/span\u003e)\n    plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eplot(x, y_pushes, color\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;green\u0026#39;\u003c/span\u003e, label\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;pushes\u0026#39;\u003c/span\u003e)\n    plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eplot(x, y_hates, color\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;red\u0026#39;\u003c/span\u003e, label\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;hates\u0026#39;\u003c/span\u003e)\n    plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003elegend()\n    plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003etitle(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;total comments\u0026#39;\u003c/span\u003e)\n    plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eshow()\n\ncomment_graph(comments_total, pushes_total, hates_total, \u003cspan style=\"color:#ae81ff\"\u003e100\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n這樣就能看到前幾名回應活躍的user了\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"1.png\" alt=\"\"\u003e\n\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003ch3 id=\"p-id3使用jupyter-notebookp\"\u003e\u003cp id=3\u003e使用Jupyter Notebook\u003c/p\u003e\u003c/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n畢竟要做資料練習，果然還是有個shell一般的操作方式最好吧？可用又可讀，如同IPython notebook，但這次來用用Jupyter\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ pip install ipython jupyter\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n輸入指令啟動notebook\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ jupyter notebook\r\n...\r\n[I 09:56:21.690 NotebookApp] Jupyter Notebook 6.1.3 is running at:\r\n[I 09:56:21.690 NotebookApp] http://localhost:8888/?token=389282ffb93c1426ba34e094ef8b8667ad6812ad8575a0f6\r\n[I 09:56:21.691 NotebookApp]  or http://127.0.0.1:8888/?token=389282ffb93c1426ba34e094ef8b8667ad6812ad8575a0f6\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003cbr\u003e\n接下來開啟帶有token的網址，把要分析的json上傳\n\u003cimg src=\"4.png\" alt=\"\"\u003e\n\u003cbr\u003e\u003c/br\u003e\n接著建立新的Pyhon3 Notebook\n\u003cimg src=\"5.png\" alt=\"\"\u003e\n\u003cbr\u003e\u003c/br\u003e\n接下來就能進入notebook操作了\n\u003cimg src=\"6.png\" alt=\"\"\u003e\n\u003cbr\u003e\u003c/br\u003e\n加上下列就能將圖片inline顯示\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e%matplotlib notebook\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\nrun完結果範例就像是這樣\n\u003cimg src=\"7.png\" alt=\"\"\u003e\n\u003cbr\u003e\u003c/br\u003e\nnotebook也能以.ipynb以外的格式download下來用其他工具閱讀\n\u003cimg src=\"8.png\" alt=\"\"\u003e\n目前完成的notebook(.ipynb)放在\u003ca target=\"_blank\" href=\"https://github.com/mikanbearer/scrapy_sample/blob/master/notebook1.ipynb\"\u003e這裡\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003ch3 id=\"p-id4使用結巴進行分詞p\"\u003e\u003cp id=4\u003e使用\u0026quot;結巴\u0026quot;進行分詞\u003c/p\u003e\u003c/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n接下來的練習需要這些包\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003epip install jieba sklearn pandas seaborn matplotlib \r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n延續前面的範例檔案，先來回顧一下爬回來的json中，裡面的key為何\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-py\" data-lang=\"py\"\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e json\n\n\n\u003cspan style=\"color:#66d9ef\"\u003ewith\u003c/span\u003e open(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;pttgossip.json\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e f:\n    posts \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e json\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eload(f)\n\n\u003cspan style=\"color:#66d9ef\"\u003eprint\u003c/span\u003e(posts[\u003cspan style=\"color:#ae81ff\"\u003e100\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ekeys())\n\u003cspan style=\"color:#75715e\"\u003e#dict_keys([\u0026#39;title\u0026#39;, \u0026#39;author\u0026#39;, \u0026#39;date\u0026#39;, \u0026#39;content\u0026#39;, \u0026#39;comments\u0026#39;, \u0026#39;score\u0026#39;, \u0026#39;url\u0026#39;])\u003c/span\u003e\n\u003cspan style=\"color:#66d9ef\"\u003eprint\u003c/span\u003e(posts[\u003cspan style=\"color:#ae81ff\"\u003e100\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;comments\u0026#39;\u003c/span\u003e][\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ekeys())\n\u003cspan style=\"color:#75715e\"\u003e#dict_keys([\u0026#39;user\u0026#39;, \u0026#39;score\u0026#39;, \u0026#39;content\u0026#39;])\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n接下來利用\u0026quot;結巴分詞\u0026quot;來分斷個別貼文的詞並計數，並把結果append到一個list內，分數也比照辦理\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-py\" data-lang=\"py\"\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e jieba\n\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e json\n\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e collections \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e defaultdict\n\n\u003cspan style=\"color:#66d9ef\"\u003ewith\u003c/span\u003e open(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;pttgossip.json\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e f:\n    posts \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e json\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eload(f)\n\n\nseg_posts \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [] \u003cspan style=\"color:#75715e\"\u003e#處理過的貼文列表\u003c/span\u003e\np_scores \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [] \u003cspan style=\"color:#75715e\"\u003e#分數列表\u003c/span\u003e\n\n\u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e post \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e posts:\n    words \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e defaultdict(int) \u003cspan style=\"color:#75715e\"\u003e#初始化dict\u003c/span\u003e\n    content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e post[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;content\u0026#39;\u003c/span\u003e]\n    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e post[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e!=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e:\n        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e line \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e content\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esplit(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e): \u003cspan style=\"color:#75715e\"\u003e#以行為單位分詞\u003c/span\u003e\n            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e line:\n                \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e word \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e jieba\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecut(line):\n                    words[word] \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e len(words) \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e:\n            seg_posts\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(words)\n            p_scores\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e post[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n也使用同樣的思路處理每篇貼文的回覆\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-py\" data-lang=\"py\"\u003eseg_comments \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e []\nc_scores \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e []\n\n\n\u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e post \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e posts:\n    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e comment \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e post[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;comments\u0026#39;\u003c/span\u003e]:\n        words \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e defaultdict(int)\n        line \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e comment[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;content\u0026#39;\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrip()\n        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e line \u003cspan style=\"color:#f92672\"\u003eand\u003c/span\u003e comment[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e!=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e:\n            \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e word \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e jieba\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecut(line):\n                words[word] \u003cspan style=\"color:#f92672\"\u003e+=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e len(words) \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e:\n                seg_comments\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(words)\n                c_scores\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e comment[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e到這裡為止，資料是初步處理完了\n\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003ch3 id=\"p-id5使用scikit-learn進行線性預測p\"\u003e\u003cp id=5\u003e使用scikit-learn進行線性預測\u003c/p\u003e\u003c/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n接下來要處理的就是學習的部分了，照這次實作的題目來說的話，這階段也就是常聽到的\u0026quot;Word2vec\u0026quot;，基於接觸過後學習才會比較有概念，這邊直接進入操作，以後有機會再深入探討…\u003c/p\u003e\n\u003cp\u003e首先把剛才收集來的資料用以下方式處理\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-py\" data-lang=\"py\"\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e sklearn.feature_extraction \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e DictVectorizer\n\u003cspan style=\"color:#f92672\"\u003e...\u003c/span\u003e\n\ndict_vec \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e DictVectorizer(sparse\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eFalse)\nx_posts \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e dict_vec\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efit_transform(seg_posts)\n\n\n\u003cspan style=\"color:#66d9ef\"\u003eprint\u003c/span\u003e(dict_vec\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efeature_names_) \u003cspan style=\"color:#75715e\"\u003e#列出column\u003c/span\u003e\n\n[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; \u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;!\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#34;\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026#39;\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;(\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;)\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;+\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;,\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;-\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;--\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;-----\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;.\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;..\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;...\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;....\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;......\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;0.025\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;00\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;000\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;01\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;02\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;05\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;07\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;08\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;09\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;0966\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;1\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;1%\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;1.27\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;10\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;10.8\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;100\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;1000\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;100P\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;108\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;11\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;112\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;118\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;12\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;125\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;130\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;13000\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;131\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;14\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;15\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;16\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;160\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;163\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;166\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;17\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;170\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;18\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;180\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;1912\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;1947\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;1984\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;1990\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;1993\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;2\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;20\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;2008\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;2009\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;2014\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;2017\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;2018\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;2019\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;2020\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;2022\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;21\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;2203\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;23\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;24\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;27\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;28\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;29\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;3\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;3.1\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;30\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;31\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;318\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;36\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;3c\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;4\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;4%\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;484\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;5\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;50\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;5000\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;54088\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;55\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;550\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;56\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;57\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;577\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;59\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;6\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;60\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;686\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;7\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;700\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;719\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;78%\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;8\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;80\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;800\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;817\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;88\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;8809\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;89\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;9\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;90\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;95\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;:\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026lt;\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;=\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026gt;\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;?\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;@\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;A\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ABC\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;AID\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ASUS\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Adhanom\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Asus\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;BE\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;BUT\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Berliner\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;CNN\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;CT\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;CTWANT\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Christmas\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;D\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Dcard\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Dr\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;E\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ETtoday\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;EUV\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Eats\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;FB\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;GG\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;GOOGLE\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Get\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Ghebreyesus\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Global\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;H\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;HEAD\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;HMD\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;I01WD\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;I7\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;IG\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Ich\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;JKF\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;JPTT\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Judy\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;K\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;KMT\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Keanna\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;LINE\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;LISTLESS\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Like\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Milos\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;MoneyDJ\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;N\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;N950F\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;N9750\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;NEWS\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;NO\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;No.1\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Nokia\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Note\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;N年\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;O\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;OL\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;P\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;PASS\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;PO\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;PREPARED\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;PS\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;PTT\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Party\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Petrof\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Prima\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Q\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;REFUSE\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Redmi\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Reuters\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;SM\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Samsung\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Sent\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;So\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;T\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;T295\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;TVBS\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Taiwan\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Tedros\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Tvbs\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;U\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;UDN\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;UPUPUP\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Uber\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;VPN\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;WHO\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Wiki\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Xiaomi\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Yahoo\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;YahooTV\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;YouTube\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Youtube\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Zeman\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;_\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;a\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;air\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;awkward\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;bed\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;big\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;bin\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;can\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;checks\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;cm\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;code\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;com\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;cos\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;cosplay\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;cot\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;csc\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;d\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;day\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;depressed\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ein\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;engineer\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ex\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;force\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;from\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;good\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;have\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;help\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;iPhone\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;leave\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;marz\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;my\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;neal\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;o\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;on\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;one\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;p\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;s\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;sec\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;set\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;sex\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;show\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;sin\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;some\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;source\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;swag\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ta\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;tan\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;to\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;want\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;when\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;wifi\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;wreck\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;x\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;you\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;your\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;youtube\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;yt\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;~\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;’\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;…\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;′\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;‵\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;─\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;│\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;┌\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;┐\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;○\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\u3000\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;、\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;。\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;《\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;》\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;「\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;」\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;『\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;』\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;【\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;】\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;〔\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;〕\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;う\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;お\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;さ\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;で\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;と\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;め\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ゆ\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;り\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ァ\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;エ\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;シ\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ノ\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ル\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ヴ\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;・\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ㄉ\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ㄙ\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ㄛ\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ㄟ\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;一\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;一一\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;一下\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;一中\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;一事\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;一些\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;一人\u0026#39;\u003c/span\u003e,\u003cspan style=\"color:#f92672\"\u003e....\u003c/span\u003e\n\n\u003cspan style=\"color:#66d9ef\"\u003eprint\u003c/span\u003e(x_posts) \u003cspan style=\"color:#75715e\"\u003e#查看轉換後的資料\u003c/span\u003e\n\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[[0. 0. 0. ... 0. 0. 0.]\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e [2. 0. 0. ... 0. 0. 0.]\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e [7. 0. 0. ... 0. 0. 0.]\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e ...\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e [0. 0. 0. ... 0. 0. 0.]\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e [0. 0. 0. ... 0. 0. 0.]\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e [0. 0. 0. ... 0. 0. 0.]]\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#39;\u0026#39;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e變得有接近目標的樣子了\n\u003cbr\u003e\u003c/br\u003e\n為了畫圖，再使用TfidfTransformer產生特徵向量\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-py\" data-lang=\"py\"\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e sklearn.feature_extraction.text \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e TfidfTransformer\n\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e sklearn.feature_extraction \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e DictVectorizer\n\u003cspan style=\"color:#f92672\"\u003e...\u003c/span\u003e\n\ndict_vec \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e DictVectorizer(sparse\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eFalse)\ntfidf_tf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e TfidfTransformer()\n\nx_posts \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e tfidf_tf\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efit_transform(dict_vec\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efit_transform(seg_posts))\n\n\u003cspan style=\"color:#66d9ef\"\u003eprint\u003c/span\u003e(x_posts)\n\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e  (0, 5466)\t0.3164131590857888\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e  (0, 5428)\t0.26977341604814975\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e  (0, 5071)\t0.29198209629586447\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e  (0, 4921)\t0.26977341604814975\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e  (0, 4913)\t0.2540161066463822\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e  ...\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#39;\u0026#39;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n回覆的部分也比照辦理，並且使用LinearSVC（Linear Support Vector Classification，線性支援向量分類)進行處理，\n兩個在一起的話大概像這樣\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-py\" data-lang=\"py\"\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e sklearn.feature_extraction.text \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e TfidfTransformer\n\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e sklearn.feature_extraction \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e DictVectorizer\n\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e sklearn.svm \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e LinearSVC\n\u003cspan style=\"color:#f92672\"\u003e...\u003c/span\u003e\n\np_dict_vec \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e DictVectorizer(sparse\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eFalse)\np_tfidf_tf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e TfidfTransformer()\np_x \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e p_tfidf_tf\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efit_transform(p_dict_vec\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efit_transform(seg_posts))\np_svc \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e LinearSVC()\np_svc\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efit(p_x, p_scores)\n\nc_dict_vec \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e DictVectorizer(sparse\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eFalse)\nc_tfidf_tf \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e TfidfTransformer()\nc_x \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e c_tfidf_tf\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efit_transform(c_dict_vec\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efit_transform(seg_comments))\nc_svc \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e LinearSVC()\nc_svc\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efit(c_x, c_scores)\n\n\u003cspan style=\"color:#66d9ef\"\u003eprint\u003c/span\u003e(p_svc\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecoef_[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e])\n\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[-0.72464228 -0.45262722  0.21239902 ... -0.12832172 -0.12832172\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e -0.12832172]\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#39;\u0026#39;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003ch3 id=\"p-id6使用pandas製作dataframep\"\u003e\u003cp id=6\u003e使用Pandas製作DataFrame\u003cp\u003e\u003c/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n讓資料變得簡單可用的過渡步驟，這部分比較單純一點，就是利用Pandas來把剛才處理好的資料做成一個DataFrame表格，首先放上column name，做成一個空的DataFrame\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-py\" data-lang=\"py\"\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e pandas \u003cspan style=\"color:#f92672\"\u003eas\u003c/span\u003e pd\n\n\np_df \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pd\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eDataFrame(columns\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;word\u0026#39;\u003c/span\u003e])\n\u003cspan style=\"color:#66d9ef\"\u003eprint\u003c/span\u003e(p_df)\n\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eEmpty DataFrame\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eColumns: [score, word]\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eIndex: []\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#39;\u0026#39;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n接者把剛剛LinearSVC完成的資料放進來，回覆也比照辦理\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-py\" data-lang=\"py\"\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e pandas \u003cspan style=\"color:#f92672\"\u003eas\u003c/span\u003e pd\n\n\u003cspan style=\"color:#f92672\"\u003e...\u003c/span\u003e\np_df \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pd\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eDataFrame(columns\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;word\u0026#39;\u003c/span\u003e])\np_df[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e], p_df[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;word\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e p_svc\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecoef_[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e], p_dict_vec\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efeature_names_\n\nc_df \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pd\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eDataFrame(columns\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;word\u0026#39;\u003c/span\u003e])\nc_df[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e], c_df[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;word\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e c_svc\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecoef_[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e], c_dict_vec\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efeature_names_\n\n\u003cspan style=\"color:#66d9ef\"\u003eprint\u003c/span\u003e(p_df)\n\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[5475 rows x 2 columns]\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e         score word\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e0    -0.724645     \n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e1    -0.452623    !\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e2     0.212401    \u0026#34;\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e3     0.143647    \u0026#39;\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e4     0.095657    (\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e...        ...  ...\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e5470 -0.128321    ｉ\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e5471 -0.128321    ｎ\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e5472 -0.128321    ｓ\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e5473 -0.128321    ｔ\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e5474 -0.128321    ｙ\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#39;\u0026#39;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\nDataFrame提供了很多便利的操作，能更快速的整理資料，而這次實作單純只用到排序\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-py\" data-lang=\"py\"\u003e\u003cspan style=\"color:#f92672\"\u003e....\u003c/span\u003e\n\n\u003cspan style=\"color:#66d9ef\"\u003eprint\u003c/span\u003e(p_df\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esort_values(by\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e))\n\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e         score word\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e0    -0.724642     \n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e3259 -0.661204   比較\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e4633 -0.585509   豬肉\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e4208 -0.539002   胞胎\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e1174 -0.530751   加入\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e...        ...  ...\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e5218  0.389572  電磁學\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e1412  0.392787   各位\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e728   0.399305   他們\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e1529  0.471990    啊\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e1394  0.515951   台灣\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#39;\u0026#39;\u003c/span\u003e\n\n\u003cspan style=\"color:#66d9ef\"\u003eprint\u003c/span\u003e(p_df\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esort_values(by\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e, ascending\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eFalse))\n\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[5475 rows x 2 columns]\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e         score word\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e1394  0.515951   台灣\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e1529  0.471990    啊\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e728   0.399305   他們\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e1412  0.392787   各位\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e5218  0.389572  電磁學\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e...        ...  ...\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e1174 -0.530751   加入\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e4208 -0.539002   胞胎\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e4633 -0.585509   豬肉\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e3259 -0.661204   比較\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e0    -0.724642     \n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#39;\u0026#39;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003ch3 id=\"p-id7使用seaborn進行可視化p\"\u003e\u003cp id=7\u003e使用seaborn進行可視化\u003c/p\u003e\u003c/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n前半段已經使用matplotlib了，這次就搭配seaborn，已經儘量簡化了看起來還是有點繁瑣…\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-py\" data-lang=\"py\"\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e seaborn \u003cspan style=\"color:#f92672\"\u003eas\u003c/span\u003e sns\n\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e pandas \u003cspan style=\"color:#f92672\"\u003eas\u003c/span\u003e pd\n\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e matplotlib \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e pyplot \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e plt\n\n\n\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eshow_chart\u003c/span\u003e(data, top_n, sup):\n    fig, (ax1, ax2) \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esubplots(ncols\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e, sharey\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eTrue) \u003cspan style=\"color:#75715e\"\u003e#建立兩張並排\u003c/span\u003e\n    p \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e sns\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ebarplot(x\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;word\u0026#39;\u003c/span\u003e, y\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e, data\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003edata\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esort_values(by\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e, ascending\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eFalse)[:top_n], color\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;green\u0026#39;\u003c/span\u003e, ax\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eax1) \u003cspan style=\"color:#75715e\"\u003e#正向分析圖\u003c/span\u003e\n    n \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e sns\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ebarplot(x\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;word\u0026#39;\u003c/span\u003e, y\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e, data\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003edata\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esort_values(by\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;score\u0026#39;\u003c/span\u003e)[:top_n], color\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;red\u0026#39;\u003c/span\u003e, ax\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eax2) \u003cspan style=\"color:#75715e\"\u003e#負向分析圖\u003c/span\u003e\n    p\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eset_title(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;positive\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#75715e\"\u003e#正向分析標題\u003c/span\u003e\n    n\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eset_title(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;negative\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#75715e\"\u003e#負向分析標題\u003c/span\u003e\n    \u003cspan style=\"color:#75715e\"\u003e#fig.set_size_inches(18.5, 10.5) #有需要的話用來調整尺寸\u003c/span\u003e\n    plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esuptitle(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;PTT Gossiping\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%s\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e詞彙TOP \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%s\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e (sup, top_n), fontsize\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e16\u003c/span\u003e) \u003cspan style=\"color:#75715e\"\u003e#副標題\u003c/span\u003e\n    plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ercParams[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;font.sans-serif\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;simhei\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#75715e\"\u003e#指定中文字體，否則會無法顯示\u003c/span\u003e\n    plt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eshow()\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n記得PTT的回覆是叫推文來著？總之接下來就能輸出圖片啦\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-py\" data-lang=\"py\"\u003eshow_chart(p_df, \u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;本文\u0026#39;\u003c/span\u003e)\nshow_chart(c_df, \u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;推文\u0026#39;\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n能力不足做不出漂亮圖片…\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"1.png\" alt=\"\"\u003e\n\u003cimg src=\"2.png\" alt=\"\"\u003e\n\u003cbr\u003e\u003c/br\u003e\n完成的notebook放在\u003ca target=\"_blank\" href=\"https://github.com/mikanbearer/scrapy_sample/blob/master/notebook2.ipynb\"\u003e這裡\u003c/a\u003e\u003c/p\u003e",
    "kind": "page",
    "params": {
      "categories": [
        "Web Crawler"
      ],
      "date": "2020-09-07T09:54:48+08:00",
      "draft": false,
      "iscjklanguage": true,
      "lastmod": "2020-09-07T09:54:48+08:00",
      "publishdate": "2020-09-07T09:54:48+08:00",
      "tags": [
        "Python",
        "Scrapy",
        "scikit-learn"
      ],
      "title": "Python資料分析入門練習"
    },
    "permalink": "https://mikanbearer.github.io/posts/202009070954/index.json",
    "type": "posts",
    "wordcount": 4556
  }
}