



    
        
    




{
  "result": {
    "content": "\u003cp\u003e這次來嘗試抓抓Spotify的資料\u003c/p\u003e\n\u003cp\u003eSpotify提供了一個給開發者使用的\u003ca href=\"https://developer.spotify.com/documentation/web-api/\" target=\"_blank\"\u003eAPI\u003c/a\u003e，採用OAuth 2.0，為了省些工可以使用這款\u003ca href=\"https://github.com/plamere/spotipy\" target=\"_blank\"\u003eSpotipy\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e使用pip安裝\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003epip install spotipy\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cp\u003e驗證範例如下\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e spotipy\n\nclient_id \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;37c881433d69.......\u0026#39;\u003c/span\u003e\nclient_secret \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;c6c9d751f188......\u0026#39;\u003c/span\u003e\nclient_credentials_manager \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e spotipy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eoauth2\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eSpotifyClientCredentials(client_id, client_secret)\n\nspotify \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e spotipy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eSpotify(client_credentials_manager\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eclient_credentials_manager)\n\nname \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;rihanna\u0026#39;\u003c/span\u003e\nresult \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e spotify\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esearch(q\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;artist:\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e name, type\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;artist\u0026#39;\u003c/span\u003e)\n\u003cspan style=\"color:#66d9ef\"\u003eprint\u003c/span\u003e(result)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cp\u003e線習的清單使用\u003ca href=\"https://spotifycharts.com/\" target=\"_blank\"\u003eSpotify Charts\u003c/a\u003e，抓Viral榜\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e pandas \u003cspan style=\"color:#f92672\"\u003eas\u003c/span\u003e pd\n\nviral_tw_weekly \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pd\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eread_csv(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;viral-tw-weekly-latest.csv\u0026#34;\u003c/span\u003e, header\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e)\nviral_tw_weekly\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ehead(\u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/bt\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"1.png\" alt=\"\"\u003e\n\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cp\u003e接著出動spotipy，將API上取得的曲目特徵依照排名產生新的df\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e spotipy\n\nclient_id \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;37c881433d69..........\u0026#39;\u003c/span\u003e\nclient_secret \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;c6c9d751f1..........\u0026#39;\u003c/span\u003e\nclient_credentials_manager \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e spotipy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eoauth2\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eSpotifyClientCredentials(client_id, client_secret)\n\nspotify \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e spotipy\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eSpotify(client_credentials_manager\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eclient_credentials_manager)\n\ntracks_features_tw \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pd\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eDataFrame()\n\n\u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e index, track \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e viral_tw_weekly\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eiterrows():\n    audio_features \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e spotify\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eaudio_features(track[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;URL\u0026#39;\u003c/span\u003e])\n    audio_features[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Position\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e  track[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Position\u0026#39;\u003c/span\u003e]\n    df \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pd\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eDataFrame\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efrom_dict(audio_features)\n    tracks_features_tw \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e tracks_features_tw\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(df)\n\ntracks_features_tw \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e tracks_features_tw\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ereset_index(drop\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eTrue)\ntracks_features_tw\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ehead(\u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e)\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/bt\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"2.png\" alt=\"\"\u003e\n\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cp\u003eglobal也可以比照辦理\n\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003eviral_global_weekly \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pd\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eread_csv(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;viral-global-weekly-latest.csv\u0026#34;\u003c/span\u003e, header\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e)\nviral_global_weekly\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ehead(\u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e)\n\ntracks_features_global \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pd\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eDataFrame()\n\n\u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e index, track \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e viral_tw_weekly\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eiterrows():\n    audio_features \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e spotify\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eaudio_features(track[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;URL\u0026#39;\u003c/span\u003e])\n    audio_features[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Position\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e  track[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Position\u0026#39;\u003c/span\u003e]\n    df \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e pd\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eDataFrame\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003efrom_dict(audio_features)\n    tracks_features_global \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e tracks_features_global\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(df)\n\ntracks_features_global \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e tracks_features_global\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ereset_index(drop\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eTrue)\ntracks_features_global\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ehead(\u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"3.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cp\u003e試著用seaborn來畫圖\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e matplotlib.pyplot \u003cspan style=\"color:#f92672\"\u003eas\u003c/span\u003e plt\n\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e seaborn \u003cspan style=\"color:#f92672\"\u003eas\u003c/span\u003e sns\n\n\n\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003ematplotlib inline\n\nsns\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edistplot(tracks_features_tw[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;danceability\u0026#39;\u003c/span\u003e], hist\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eFalse)\nsns\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edistplot(tracks_features_global[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;danceability\u0026#39;\u003c/span\u003e], hist\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eFalse)\nplt\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eshow()\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cp\u003e將taiwan和global的標準分布重合起來，結果就像下列的範例\u003c/p\u003e\n\u003cdiv style=\"background-color: white;\"\u003e\n\u003cimg src=\"4.png\" width=\"260\"\u003e\n\u003cimg src=\"5.png\" width=\"260\"\u003e\n\u003cimg src=\"6.png\" width=\"260\"\u003e\n\u003cimg src=\"7.png\" width=\"260\"\u003e\n\u003cimg src=\"8.png\" width=\"260\"\u003e\n\u003cimg src=\"9.png\" width=\"260\"\u003e\n\u003cimg src=\"10.png\" width=\"260\"\u003e\n\u003cimg src=\"11.png\" width=\"260\"\u003e\n\u003cimg src=\"12.png\" width=\"260\"\u003e\n\u003cimg src=\"13.png\" width=\"260\"\u003e\n\u003cimg src=\"14.png\" width=\"260\"\u003e\n\u003c/div\u003e\n\u003cbr\u003e\u003c/br\u003e\n\u003cp\u003e稍微介紹一下各特徵\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003edanceability(舞蹈性)：從節奏、拍子、規律性等等判斷是否適合舞蹈，愈高則愈適合舞蹈，0.0-1.0表示\u003c/li\u003e\n\u003cli\u003eenergy(活力性)：強度與活躍的感知度量，愈高愈讓人覺得快速、響亮、吵雜，0.0-1.0表示\u003c/li\u003e\n\u003cli\u003ekey(調性)：調性，無法偵測為-1\u003c/li\u003e\n\u003cli\u003emode(調式)：0為小調，1為大調\u003c/li\u003e\n\u003cli\u003eloudness(音量)：樂曲整體音量，為dB\u003c/li\u003e\n\u003cli\u003espeechiness(朗誦性)：朗誦性愈高，則樂曲中朗誦比例愈高，0.0-1.0表示\u003c/li\u003e\n\u003cli\u003eacousticness(原聲性)：愈高則代表不插電的原聲樂器 (acoustic musical instrument) 所佔比例愈高，0.0-1.0表示\u003c/li\u003e\n\u003cli\u003einstumentalness(器樂性)：器樂比例，人聲愈少器樂性愈高，0.0-1.0表示\u003c/li\u003e\n\u003cli\u003eliveness(現場性)：觀眾聲音的高低，愈高愈可能是現場錄製，0.0-1.0表示\u003c/li\u003e\n\u003cli\u003evalence(情緒向性)：愈低愈接近消極情緒(悲傷、憤怒、沮喪)，愈高則最接近積極(快樂、開朗)，0.0-1.0表示\u003c/li\u003e\n\u003cli\u003etempo(速度)：以BPM(beats per minute)推測樂曲速度\n\u003cbr\u003e\u003c/br\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e之後就可以嘗試分析了\u003c/p\u003e",
    "kind": "page",
    "params": {
      "categories": [
        "Data Science"
      ],
      "date": "2021-01-14T14:38:55+08:00",
      "draft": false,
      "iscjklanguage": true,
      "lastmod": "2021-01-14T14:38:55+08:00",
      "publishdate": "2021-01-14T14:38:55+08:00",
      "tags": [
        "Spotify",
        "Spotipy",
        "Python"
      ],
      "title": "使用Spotipy取得Spotify資料"
    },
    "permalink": "https://mikanbearer.github.io/posts/202101141438/index.json",
    "type": "posts",
    "wordcount": 779
  }
}