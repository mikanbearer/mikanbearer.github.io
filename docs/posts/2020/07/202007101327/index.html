<p>最近想把學習過程中碰到的小問題做些筆記，剛好又對static site generator有些興趣，
就到<a href="https://www.staticgen.com/">https://www.staticgen.com/</a>找個人氣度高的來用，之後就選上了這個<strong>Hugo</strong>，
雖然這個Beautiful Hugo的theme挺好看的，之後還是要改一下，首先還是先搞定code block…</p>
<p>預設的code black原本的是這樣</p>
<pre><code>#include &lt;stdio.h&gt;

int main(int argc, char *args[])
{
    printf(&quot;Hello, world!\n&quot;);
    return 0;
}
</code></pre><p>Hugo有使用<strong>Chroma Highlighting</strong>，只要在<code>```</code>後加上語言名稱即可</p>
<p>範例：</p>
<pre>
<code>```c
#include <stdio.h>

int main(int argc, char *args[])
{
    printf("Hello, world!\n");
    return 0;
}
```</code>
</pre>
<p>顯示：</p>
<p><img src="block-1.PNG" alt=""></p>
<p>不過個人偏好像<strong><a href="https://qiita.com/">Qiita</a></strong>那樣能顯示title，
如下圖：
<img src="qiita-block.PNG" alt="">
所以剛好參考了這篇<strong><a href="https://aakira.app/blog/2018/12/code-block-title/"><a href="https://aakira.app/blog/2018/12/code-block-title/">https://aakira.app/blog/2018/12/code-block-title/</a></a></strong>
就開始動手了，但個人要的是有Line Number的版本：</p>
<p>首先弄一個</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>args[])
{
    printf(<span style="color:#e6db74">&#34;Hello, world!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></td></tr></table>
</div>
</div><p>然後來找看看<code>&lt;code class=&quot;&quot;&gt;</code>會跑到哪兒…
<img src="inspector.PNG" alt="">
躲很深…</p>
<p>知道大概位置就可以可以寫個js了</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">list</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">getElementsByClassName</span>(<span style="color:#e6db74">&#39;highlight&#39;</span>);

<span style="color:#66d9ef">for</span>(<span style="color:#a6e22e">i</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">list</span>.<span style="color:#a6e22e">length</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>){
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">table</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">list</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">firstElementChild</span>.<span style="color:#a6e22e">firstElementChild</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">code</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">table</span>.<span style="color:#a6e22e">firstElementChild</span>.<span style="color:#a6e22e">firstElementChild</span>.<span style="color:#a6e22e">childNodes</span>[<span style="color:#ae81ff">2</span>].<span style="color:#a6e22e">firstElementChild</span>.<span style="color:#a6e22e">firstElementChild</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">codeName</span> <span style="color:#f92672">=</span>  <span style="color:#a6e22e">code</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">code</span>.<span style="color:#a6e22e">className</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#39;:&#39;</span>)[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>;
  <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">codeName</span>) {
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">div</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#39;div&#39;</span>);
    <span style="color:#a6e22e">div</span>.<span style="color:#a6e22e">textContent</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">codeName</span>;
    <span style="color:#a6e22e">div</span>.<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">add</span>(<span style="color:#e6db74">&#39;code-name&#39;</span>);
    <span style="color:#a6e22e">table</span>.<span style="color:#a6e22e">parentNode</span>.<span style="color:#a6e22e">insertBefore</span>(<span style="color:#a6e22e">div</span>, <span style="color:#a6e22e">table</span>);
  }
}

</code></pre></td></tr></table>
</div>
</div><p>感覺抓element的方式非常差勁，大概會是史上最醜的code之一…</p>
<p>然後稍微用css修飾一下</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">.<span style="color:#a6e22e">highlight</span> <span style="color:#f92672">td</span>:<span style="color:#a6e22e">first-child</span> <span style="color:#f92672">pre</span> {
	<span style="color:#66d9ef">border-top-left-radius</span>: <span style="color:#66d9ef">unset</span>;
	<span style="color:#66d9ef">border-top-right-radius</span>: <span style="color:#66d9ef">unset</span>;
	<span style="color:#66d9ef">border-bottom-left-radius</span>: <span style="color:#ae81ff">4</span><span style="color:#66d9ef">px</span>;
	<span style="color:#66d9ef">border-bottom-right-radius</span>: <span style="color:#66d9ef">unset</span>;
	<span style="color:#66d9ef">overflow</span>: <span style="color:#66d9ef">hidden</span>;
}

.<span style="color:#a6e22e">highlight</span> <span style="color:#f92672">td</span>:<span style="color:#a6e22e">last-child</span> <span style="color:#f92672">pre</span> {
	<span style="color:#66d9ef">border-top-left-radius</span>: <span style="color:#66d9ef">unset</span>;
	<span style="color:#66d9ef">border-top-right-radius</span>: <span style="color:#66d9ef">unset</span>;
	<span style="color:#66d9ef">border-bottom-left-radius</span>: <span style="color:#66d9ef">unset</span>;
	<span style="color:#66d9ef">border-bottom-right-radius</span>: <span style="color:#ae81ff">4</span><span style="color:#66d9ef">px</span>;
	<span style="color:#66d9ef">overflow</span>: <span style="color:#66d9ef">hidden</span>;
}
</code></pre></div><p>css也寫得不高明…</p>
<p>完成！</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-:Hello.c" data-lang=":Hello.c"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>args[])
{
    printf(<span style="color:#e6db74">&#34;Hello, world!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></td></tr></table>
</div>
</div><p>syntax也可以用副檔名判斷，意外地貼心！
現階段還是臨時成軍，之後再修正吧…大概</p>


<v-card class="mt-5 content">
  <v-card-text>
  <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "mikanmimi" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </v-card-text>
</v-card>
