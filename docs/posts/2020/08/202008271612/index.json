



    
        
    




{
  "result": {
    "content": "\u003cp\u003eFlask本身沒自帶ORM對製作CRUD而言是略為麻煩，這裡就使用SQLAlchemy來操作資料庫，剛好有個\u003ca target=\"_blank\" href=\"https://flask-sqlalchemy.palletsprojects.com/en/2.x/\"\u003eFlask-SQLAlchemy\u003c/a\u003e可使用，大大縮短coding時間\u003c/p\u003e\n\u003cp\u003e先安裝需要的包\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003epip install Flask Flask-SQLAlchemy \r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n照\u003ca target=\"_blank\" href=\"https://flask-sqlalchemy.palletsprojects.com/en/2.x/quickstart/#a-minimal-application\"\u003e這裡\u003c/a\u003e的範例，db之類的設定通通先放在app.py\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\n\u003ctable style=\"border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\"\u003e\u003ctr\u003e\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 1\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 2\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 3\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 4\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 5\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 6\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 7\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 8\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 9\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e10\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e11\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e12\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e13\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e14\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e15\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e16\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e17\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e18\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;;width:100%\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-:app/app.py\" data-lang=\":app/app.py\"\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e flask \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e Flask\n\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e flask_sqlalchemy \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e SQLAlchemy\n\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e datetime \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e datetime\n\napp \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e Flask(__name__)\napp\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003econfig[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;SQLALCHEMY_DATABASE_URI\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;sqlite:///app.db\u0026#39;\u003c/span\u003e\ndb \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e SQLAlchemy(app)\n\n\n\u003cspan style=\"color:#66d9ef\"\u003eclass\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eUser\u003c/span\u003e(db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eModel):\n    id \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eColumn(db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eInteger, primary_key\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eTrue)\n    username \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eColumn(db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eString(\u003cspan style=\"color:#ae81ff\"\u003e80\u003c/span\u003e), unique\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eTrue, nullable\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eFalse)\n    email \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eColumn(db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eString(\u003cspan style=\"color:#ae81ff\"\u003e120\u003c/span\u003e), unique\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eTrue, nullable\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eFalse)\n    created_at \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eColumn(db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eDateTime, nullable\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eFalse, default\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003edatetime\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003enow)\n    updated_at \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eColumn(db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eDateTime, nullable\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eFalse, default\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003edatetime\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003enow, onupdate\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003edatetime\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003enow)\n\n    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e __repr__(self):\n        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026lt;User \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%r\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026gt;\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eusername\n\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n進入console，就能做以下動作初始化db並建立table\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026gt;\u0026gt;\u0026gt; from flask_app.app.app import db\r\n\u0026gt;\u0026gt;\u0026gt; db.create_all()\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n然後是個建立一筆record\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026gt;\u0026gt;\u0026gt; from flask_app.app.app import User\r\n\u0026gt;\u0026gt;\u0026gt; testuser = User(username='testuser', email='test@example.com')\r\n\u0026gt;\u0026gt;\u0026gt; db.session.add(testuser)\r\n\u0026gt;\u0026gt;\u0026gt; db.session.commit()\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n接著試著用Model來query\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026gt;\u0026gt;\u0026gt; User.query.all()\r\n...\r\nsqlalchemy.exc.ProgrammingError: (sqlite3.ProgrammingError) SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 43852 and this is thread id 43488.\r\n[SQL: SELECT user.id AS user_id, user.username AS user_username, user.email AS user_email, user.created_at AS user_created_at, user.updated_at AS user_updated_at \r\nFROM user]\r\n[parameters: [immutabledict({})]]\r\n(Background on this error at: http://sqlalche.me/e/13/f405)\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eError啦！！\n\u003cbr\u003e\u003c/br\u003e\n這是sqlite3的問題，當時commit建立的thread id 43852還沒結束，query又產生了id 43488，算是一個防呆吧，加上\u003ccode\u003echeck_same_thread=False\u003c/code\u003e就OK了\u003c/p\u003e\n\u003cp\u003e修改成下面的樣子\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\n\u003ctable style=\"border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\"\u003e\u003ctr\u003e\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e6\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;;width:100%\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-:app/app.py\" data-lang=\":app/app.py\"\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003eapp\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003econfig[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;SQLALCHEMY_DATABASE_URI\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;sqlite:///app.db?check_same_thread=False\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n這樣就能流暢使用囉，順便多做幾個測試\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026gt;\u0026gt;\u0026gt; db.session.add(test3)\r\n\u0026gt;\u0026gt;\u0026gt; db.session.commit()\r\n\u0026gt;\u0026gt;\u0026gt; User.query.all()\r\n[\u0026lt;User 'test'\u0026gt;, \u0026lt;User 'test2'\u0026gt;, \u0026lt;User 'test3'\u0026gt;]\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n最後就是設定個view來驗證啦，只要敲上網址就能看到db的東西就大功告成\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\n\u003ctable style=\"border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\"\u003e\u003ctr\u003e\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 1\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 2\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 3\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 4\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 5\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 6\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 7\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 8\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 9\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e10\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e11\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e12\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e13\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e14\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e15\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e16\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e17\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e18\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e19\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e20\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e21\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e22\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e23\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e24\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;;width:100%\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-:app/app.py\" data-lang=\":app/app.py\"\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e flask \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e Flask, request, render_template\n\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e flask_sqlalchemy \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e SQLAlchemy\n\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e datetime \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e datetime\n\napp \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e Flask(__name__)\napp\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003econfig[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;SQLALCHEMY_DATABASE_URI\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;sqlite:///app.db?check_same_thread=False\u0026#39;\u003c/span\u003e\ndb \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e SQLAlchemy(app)\n\n\n\u003cspan style=\"color:#66d9ef\"\u003eclass\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eUser\u003c/span\u003e(db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eModel):\n    id \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eColumn(db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eInteger, primary_key\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eTrue)\n    username \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eColumn(db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eString(\u003cspan style=\"color:#ae81ff\"\u003e80\u003c/span\u003e), unique\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eTrue, nullable\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eFalse)\n    email \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eColumn(db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eString(\u003cspan style=\"color:#ae81ff\"\u003e120\u003c/span\u003e), unique\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eTrue, nullable\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eFalse)\n    created_at \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eColumn(db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eDateTime, nullable\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eFalse, default\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003edatetime\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003enow)\n    updated_at \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eColumn(db\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eDateTime, nullable\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eFalse, default\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003edatetime\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003enow, onupdate\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003edatetime\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003enow)\n\n    \u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e __repr__(self):\n        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026lt;User \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%r\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026gt;\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e self\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eusername\n\n\n\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"color:#a6e22e\"\u003e@app.route\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eindex\u003c/span\u003e():\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e    users \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e User\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003equery\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eall()\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e render_template(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;index.html\u0026#34;\u003c/span\u003e, users\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eusers)\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n建立template\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\n\u003ctable style=\"border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\"\u003e\u003ctr\u003e\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 6\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 7\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 8\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 9\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e10\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e11\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e12\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e13\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e14\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e15\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e16\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e17\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e18\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e19\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e20\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e21\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e22\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e23\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e24\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e25\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e26\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e27\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e28\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e29\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e30\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e31\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e32\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e33\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e34\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;;width:100%\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-:app/templates/index.html\" data-lang=\":app/templates/index.html\"\u003e\u003cspan style=\"color:#75715e\"\u003e\u0026lt;!DOCTYPE html\u0026gt;\u003c/span\u003e\n\u0026lt;\u003cspan style=\"color:#f92672\"\u003ehtml\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003elang\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;en\u0026#34;\u003c/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\"color:#f92672\"\u003ehead\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\"color:#f92672\"\u003emeta\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003echarset\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;UTF-8\u0026#34;\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\"color:#f92672\"\u003etitle\u003c/span\u003e\u0026gt;Title\u0026lt;/\u003cspan style=\"color:#f92672\"\u003etitle\u003c/span\u003e\u0026gt;\n\u0026lt;/\u003cspan style=\"color:#f92672\"\u003ehead\u003c/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\"color:#f92672\"\u003ebody\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\"color:#f92672\"\u003etable\u003c/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\"color:#f92672\"\u003etbody\u003c/span\u003e\u0026gt;\n        {% for user in users %}\n            \u0026lt;\u003cspan style=\"color:#f92672\"\u003etr\u003c/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\"color:#f92672\"\u003etd\u003c/span\u003e\u0026gt;\n                    {{ user.username }}\n                \u0026lt;/\u003cspan style=\"color:#f92672\"\u003etd\u003c/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\"color:#f92672\"\u003etd\u003c/span\u003e\u0026gt;\n                    {{ user.email }}\n                \u0026lt;/\u003cspan style=\"color:#f92672\"\u003etd\u003c/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\"color:#f92672\"\u003etd\u003c/span\u003e\u0026gt;\n                    {{ user.careted_at }}\n                \u0026lt;/\u003cspan style=\"color:#f92672\"\u003etd\u003c/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\"color:#f92672\"\u003etd\u003c/span\u003e\u0026gt;\n                    {{ user.updated_at }}\n                \u0026lt;/\u003cspan style=\"color:#f92672\"\u003etd\u003c/span\u003e\u0026gt;\n            \u0026lt;/\u003cspan style=\"color:#f92672\"\u003etr\u003c/span\u003e\u0026gt;\n        {% endfor %}\n        \u0026lt;/\u003cspan style=\"color:#f92672\"\u003etbody\u003c/span\u003e\u0026gt;\n    \u0026lt;/\u003cspan style=\"color:#f92672\"\u003etable\u003c/span\u003e\u0026gt;\n\u0026lt;/\u003cspan style=\"color:#f92672\"\u003ebody\u003c/span\u003e\u0026gt;\n\u0026lt;/\u003cspan style=\"color:#f92672\"\u003ehtml\u003c/span\u003e\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n這樣就能看到剛才建立的record了\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"1.PNG\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003e下次就可以做個簡單的CRUD了\u003c/p\u003e",
    "kind": "page",
    "params": {
      "categories": [
        "Web Development"
      ],
      "date": "2020-08-27T16:12:20+08:00",
      "draft": false,
      "iscjklanguage": true,
      "lastmod": "2020-08-27T16:12:20+08:00",
      "publishdate": "2020-08-27T16:12:20+08:00",
      "tags": [
        "Flask",
        "Python"
      ],
      "title": "【Flask入門練習-CRUD篇1】在Flask中導入ORM操作"
    },
    "permalink": "https://mikanbearer.github.io/posts/2020/08/202008271612/index.json",
    "type": "posts",
    "wordcount": 726
  }
}