<!DOCTYPE html>
<html><head>
  <title>活到老學到死</title>

  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@mdi/font@5.x/css/materialdesignicons.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://mikanbearer.github.io/css/main.css" />
  <link rel="stylesheet" href="https://mikanbearer.github.io/css/code-block.css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
  
  <style>
    body {
      width: 100%;
      height: 100%;
      background-attachment: fixed;
      top: 0;
      left: 0;
      background-size: cover;
      
      background-color: #272727;
      


      
    }

    #inspire {
      background: none;
    }
  </style>

</head>
<body>
<div id="app">
  <v-app id="inspire">
    <v-app id="inspire">
      <v-app-bar
  app
  clipped-left
  dense
  dark
  hide-on-scroll
>

  <v-app-bar-nav-icon @click.stop="drawer = !drawer"></v-app-bar-nav-icon>

  <v-toolbar-title class="mr-12 align-center">
    <span class="title"></span>
  </v-toolbar-title>

  <v-spacer></v-spacer>
  <v-btn icon @click.stop="dialog = !dialog">
    <v-icon>mdi-magnify</v-icon>
  </v-btn>


</v-app-bar>









<v-dialog v-model="dialog" max-width="600">
  <v-card>
    <v-card-title>
      Search Posts
    </v-card-title>
    <v-tabs 
      v-model="tab"
      background-color="transparent"
      class="mb-3"
      
    >
      <v-tab>
        Title
      </v-tab>
      <v-tab>
        Tag
      </v-tab>
      <v-tab>
        Category
      </v-tab>
    </v-tabs>

    <v-tabs-items v-model="tab" style="background-color: transparent;">
      <v-tab-item>
        <v-card-text>
          <v-autocomplete
            v-model="model"
            :items="items"
            :search-input.sync="search"
            hide-no-data
            hide-details
            item-text="title"
            item-value="url"
            prepend-inner-icon="mdi-magnify"
            return-object
            clearble
            height="42"
          >
          </v-autocomplete>
        </v-card-text>
        <v-expand-transition>
          <v-card-text v-if="model">
            <div v-if="model">
            <v-divider></v-divider>
            <v-card-title class="text-h6">
              [[ model.title ]]
            </v-card-title>
            <v-card-subtitle class="text-body-1">
              [[ model.date ]]
              <a  v-for="category in model.categories">[[ category ]]</a>
              <div>
                <v-chip
                  v-for="tag in model.tags"
                  v-bind:key="tag.id"
                  color="accent"
                  label
                  text-color="white"
                  x-small
                  :href="'https://mikanbearer.github.io/tags/' + tag"
                  class="mr-1"
                >
                  [[ tag ]]
                </v-chip>
              </div>
              <v-divider></v-divider>
            </v-card-subtitle>
            <v-card-text v-html="model.summary" class="text-body-1"></v-card-text>
            <v-card-actions>
            <v-spacer></v-spacer>
            <v-btn
              :disabled="!model"
              color="error"
              @click="model = null"
              small
            >
              Clear
              <v-icon right small>mdi-close-circle</v-icon>
            </v-btn>
            <v-btn
              v-if="model"
              color="primary"
              :href="model.url"
              small
            >
              Go to the Post
            </v-btn>
            <v-btn
              v-else
              color="primary"
              disabled
              small
            >
              Continue Reading
            </v-btn>
            </v-card-actions>
            </div>
          </v-card-text>
        </v-expand-transition>
      </v-tab-item>

      <v-tab-item>
        <v-card-text>
          <v-combobox 
            v-model="seltags"
            :items="tags"
            chips
            clearable
            multiple
            hide-selected
            hide-details
            prepend-inner-icon="mdi-tag-multiple"
          >
            <template v-slot:selection="{ attrs, item, select, selected }">
              <v-chip
                color="accent"
                v-bind="attrs"
                :input-value="selected"
                close
                @click:close="remove(item)"
              >
               [[ item ]]
              </v-chip>
            </template>              
          </v-combobox>
        </v-card-text>
        
        <v-expand-transition >
          <v-card-text v-if="tfilteredposts.length">
            <v-simple-table v-if="tfilteredposts.length">
              <template>
                <thead>
                  <tr>
                    <th class="text-left">Date</th>
                    <th class="text-left">Tags</th>
                    <th class="text-left">Title</th>
                  </tr>
                </thead>
                <tbody>
                  <tr v-for="post in tfilteredposts">
                    <td>[[ post.date ]]</td>
                    <td>
                      <div v-for="tag in post.tags" class="d-inline">
                        <v-chip
                          v-if="seltags.includes(tag)"
                          color="accent"
                          label
                          x-small
                          :href="'https://mikanbearer.github.io/tags/' + tag"
                          class="mr-1"
                        >
                          [[ tag ]]
                        </v-chip>
                        <v-chip
                          v-else
                          color="secondary"
                          text-color="grey"
                          label
                          x-small
                          :href="'https://mikanbearer.github.io/tags/' + tag"
                          class="mr-1"
                        >
                          [[ tag ]]
                        </v-chip>
                      </div>
                    </td>
                    <td><a :href="post.url">[[ post.title ]]</a></td>
                  </tr>
                </tbody>
              </template>
            </v-simple-table>
            </v-card-text>
          </v-expand-transition>
      </v-tab-item>

      <v-tab-item>
        <v-card-text>
          <v-autocomplete
            v-model="selcategories"
            :items="categories"
            clearable
            hide-selected
            hide-details
            prepend-inner-icon="mdi-folder"
            height="42"
          >
          </v-autocomplete>
        </v-card-text>
        
        <v-expand-transition>
          <v-card-text v-if="cfilteredposts.length">
            <v-simple-table v-if="cfilteredposts.length">
              <template>
                <thead>
                  <tr>
                    <th class="text-left">Date</th>
                    <th class="text-left">Categories</th>
                    <th class="text-left">Title</th>
                  </tr>
                </thead>
                <tbody>
                  <tr v-for="post in cfilteredposts">
                    <td>[[ post.date ]]</td>
                    <td>
                      <div v-for="category in post.categories" class="d-inline">
                        <a :href="'https://mikanbearer.github.io/categories/' + category">
                          [[ category ]]
                        </v-chip>
                      </div>
                    </td>
                    <td><a :href="post.url">[[ post.title ]]</a></td>
                  </tr>
                </tbody>
              </template>
            </v-simple-table>
          </v-card-text>
        </v-expand-transition>
      </v-tab-item>

    </v-tabs-items>
  </v-card>
</v-dialog>
      
<v-navigation-drawer
  v-model="drawer"
  app
  fixed
  clipped
  temporary
  dark
>
  <v-list>
    
    <v-list-item link href="https://mikanbearer.github.io/">
      <v-list-item-action>
        <v-icon>mdi-home</v-icon>
      </v-list-item-action>
      <v-list-item-title>Home</v-list-item-title>
    </v-list-item>
  
    <v-list-item link href="https://mikanbearer.github.io/about">
      <v-list-item-action>
        <v-icon>mdi-information</v-icon>
      </v-list-item-action>
      <v-list-item-title>About</v-list-item-title>
    </v-list-item>

  </v-list>

  

  <v-list>
    <v-subheader class="mt-4">BLOG</v-subheader>

    <v-list-item link href="https://mikanbearer.github.io/posts">
      <v-list-item-action>
        <v-icon>mdi-file-document-multiple</v-icon>
      </v-list-item-action>
      <v-list-item-title>Posts</v-list-item-title>
    </v-list-item>



    <v-list-item link href="https://mikanbearer.github.io/tags">
      <v-list-item-action>
        <v-icon>mdi-tag-multiple</v-icon>
      </v-list-item-action>
      <v-list-item-title>Tags</v-list-item-title>
    </v-list-item>

    <v-list-item link href="https://mikanbearer.github.io/categories">
      <v-list-item-action>
        <v-icon>mdi-folder-multiple</v-icon>
      </v-list-item-action>
      <v-list-item-title>Categories</v-list-item-title>
    </v-list-item>


    <v-divider></v-divider>




  </v-list>
</v-navigation-drawer>



    
      <v-main>
        <v-container fluid style="width: 800px">
          <v-row dense>
            <v-col cols=12>
              <div>
                <v-card class="content">
                  <v-card-title class="text-h6 grey--text text--lighten-4" style="background-color: #556265;">
                    <div>
                      【Flask入門練習-CRUD篇2】製作簡單的CRUD
                    </div>
                  </v-card-title>
                  <v-card-subtitle class="text-body-1 mt-2">
                    <div>
                      2020-09-11
                      
                        
                          <a href="https://mikanbearer.github.io//categories/%E7%B6%B2%E9%A0%81%E8%A3%BD%E4%BD%9C/">網頁製作</a>
                        
                      
                    </div>
                    <div>
                      
                      
                        <v-chip
                          color="accent"
                          label
                          text-color="white"
                          x-small
                          href="https://mikanbearer.github.io//tags/Flask/"
                        >
                          Flask
                        </v-chip>
                      
                        <v-chip
                          color="accent"
                          label
                          text-color="white"
                          x-small
                          href="https://mikanbearer.github.io//tags/Flask-Migrate/"
                        >
                          Flask-Migrate
                        </v-chip>
                      
                        <v-chip
                          color="accent"
                          label
                          text-color="white"
                          x-small
                          href="https://mikanbearer.github.io//tags/Python/"
                        >
                          Python
                        </v-chip>
                      
                    
                    </div>
                  <v-divider></v-divider>
                  </v-card-subtitle>
                  <v-card-text class="text-body-1">
                    <p>經過了前面的練習，咱們的小App已經有了ORM，既然有了ORM，不做成CRUD(Create、Read、Update、Delete)怎麼行？</p>
<p>所以繼續動手做</p>
<p>完成的source code放在<a href="https://github.com/mikanbearer/flask_crud_example/releases/tag/simple_crud">這裡</a></p>
<p>這次主要在於練習template的搭配，為省下初期佈建的麻煩，多加上Flask-Migrate簡化初期的部屬步驟，這樣就不需要用python shell來操作了</p>
<p>首先安裝Flask-Migrate</p>
<pre><code>pip install Flask-Migrate
</code></pre><p><br></br>
在app中增加Migrate</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-:app/app.py" data-lang=":app/app.py"><span style="color:#f92672">from</span> flask <span style="color:#f92672">import</span> Flask, request, render_template
<span style="color:#f92672">from</span> flask_sqlalchemy <span style="color:#f92672">import</span> SQLAlchemy
<span style="display:block;width:100%;background-color:#3c3d38"><span style="color:#f92672">from</span> flask_migrate <span style="color:#f92672">import</span> Migrate
</span><span style="color:#f92672">from</span> datetime <span style="color:#f92672">import</span> datetime

app <span style="color:#f92672">=</span> Flask(__name__)
app<span style="color:#f92672">.</span>config[<span style="color:#e6db74">&#39;SQLALCHEMY_DATABASE_URI&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;sqlite:///app.db?check_same_thread=False&#39;</span>
db <span style="color:#f92672">=</span> SQLAlchemy(app)
<span style="display:block;width:100%;background-color:#3c3d38">migrate <span style="color:#f92672">=</span> Migrate(app, db)
</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span>(db<span style="color:#f92672">.</span>Model):
    id <span style="color:#f92672">=</span> db<span style="color:#f92672">.</span>Column(db<span style="color:#f92672">.</span>Integer, primary_key<span style="color:#f92672">=</span>True)
    username <span style="color:#f92672">=</span> db<span style="color:#f92672">.</span>Column(db<span style="color:#f92672">.</span>String(<span style="color:#ae81ff">80</span>), unique<span style="color:#f92672">=</span>True, nullable<span style="color:#f92672">=</span>False)
    email <span style="color:#f92672">=</span> db<span style="color:#f92672">.</span>Column(db<span style="color:#f92672">.</span>String(<span style="color:#ae81ff">120</span>), unique<span style="color:#f92672">=</span>True, nullable<span style="color:#f92672">=</span>False)
    created_at <span style="color:#f92672">=</span> db<span style="color:#f92672">.</span>Column(db<span style="color:#f92672">.</span>DateTime, nullable<span style="color:#f92672">=</span>False, default<span style="color:#f92672">=</span>datetime<span style="color:#f92672">.</span>now)
    updated_at <span style="color:#f92672">=</span> db<span style="color:#f92672">.</span>Column(db<span style="color:#f92672">.</span>DateTime, nullable<span style="color:#f92672">=</span>False, default<span style="color:#f92672">=</span>datetime<span style="color:#f92672">.</span>now, onupdate<span style="color:#f92672">=</span>datetime<span style="color:#f92672">.</span>now)

    <span style="color:#66d9ef">def</span> __repr__(self):
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;&lt;User </span><span style="color:#e6db74">%r</span><span style="color:#e6db74">&gt;&#39;</span> <span style="color:#f92672">%</span> self<span style="color:#f92672">.</span>username
</code></pre></div><p><br></br>
之後輸入指令</p>
<pre><code>$ flask db init
</code></pre><p><br></br>
這樣目錄中會產生migrations</p>
<pre><code>.
│  run.py
│
├─app
│     app.py
│
└─migrations
      alembic.ini
      env.py
      README
      script.py.mako
</code></pre><p><br></br>
接下來輸入以下指令就能寫進db了</p>
<pre><code>$ flask db upgrade
</code></pre><p><br></br>
接下來就開始把app完成，首先是必要的模組與第一個view，也就是list</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-app:app.py" data-lang="app:app.py"><span style="color:#f92672">from</span> flask <span style="color:#f92672">import</span> Flask, request, render_template, redirect, url_for <span style="color:#75715e">#redirect為重新導向用，url_for能將name轉換成url</span>
<span style="color:#f92672">from</span> flask_sqlalchemy <span style="color:#f92672">import</span> SQLAlchemy
<span style="color:#f92672">from</span> flask_migrate <span style="color:#f92672">import</span> Migrate
<span style="color:#f92672">from</span> datetime <span style="color:#f92672">import</span> datetime

<span style="color:#f92672">...</span>

<span style="color:#a6e22e">@app.route</span>(<span style="color:#e6db74">&#39;/&#39;</span>)
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">list</span>():
    users <span style="color:#f92672">=</span> User<span style="color:#f92672">.</span>query<span style="color:#f92672">.</span>all()
    <span style="color:#66d9ef">return</span> render_template(<span style="color:#e6db74">&#39;list.html&#39;</span>, users<span style="color:#f92672">=</span>users)
</code></pre></div><p>只是一個很普通的get
<br></br>
接下來就是template，這次用{% extend %}來節省一下文件行數，畢竟head和script都是會重複的部分，這次範例使用bootstrap4來儘量讓版面好看</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-:app/templates/base.html" data-lang=":app/templates/base.html"><span style="color:#75715e">&lt;!doctype html&gt;</span>
&lt;<span style="color:#f92672">html</span>&gt;
  &lt;<span style="color:#f92672">head</span>&gt;
    &lt;<span style="color:#f92672">link</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;stylesheet&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css&#34;</span> <span style="color:#a6e22e">integrity</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm&#34;</span> <span style="color:#a6e22e">crossorigin</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;anonymous&#34;</span>&gt;
    &lt;<span style="color:#f92672">title</span>&gt;Flask CRUD Example&lt;/<span style="color:#f92672">title</span>&gt;
  &lt;/<span style="color:#f92672">head</span>&gt;
  &lt;<span style="color:#f92672">body</span>&gt;
    &lt;<span style="color:#f92672">nav</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;navbar navbar-expand-lg navbar-light bg-light&#34;</span>&gt;
  &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;navbar-brand&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ url_for(&#39;list&#39;) }}&#34;</span>&gt;Flask CRUD Example&lt;/<span style="color:#f92672">a</span>&gt;
  &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;navbar-toggler&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;button&#34;</span> <span style="color:#a6e22e">data-toggle</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;collapse&#34;</span> <span style="color:#a6e22e">data-target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#navbarText&#34;</span> <span style="color:#a6e22e">aria-controls</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;navbarText&#34;</span> <span style="color:#a6e22e">aria-expanded</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;false&#34;</span> <span style="color:#a6e22e">aria-label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Toggle navigation&#34;</span>&gt;
    &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;navbar-toggler-icon&#34;</span>&gt;&lt;/<span style="color:#f92672">span</span>&gt;
  &lt;/<span style="color:#f92672">button</span>&gt;
  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;collapse navbar-collapse&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;navbarText&#34;</span>&gt;
    &lt;<span style="color:#f92672">ul</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;navbar-nav mr-auto&#34;</span>&gt;
      &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nav-item&#34;</span>&gt;
        &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nav-link&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">{{</span> <span style="color:#a6e22e">url_for</span><span style="color:#960050;background-color:#1e0010">(&#39;</span><span style="color:#a6e22e">list</span><span style="color:#960050;background-color:#1e0010">&#39;)</span> <span style="color:#960050;background-color:#1e0010">}}</span>&gt;List&lt;/<span style="color:#f92672">a</span>&gt; {# link to list #}
      &lt;/<span style="color:#f92672">li</span>&gt;
      &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nav-item&#34;</span>&gt;
        &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nav-link&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">{{</span> <span style="color:#a6e22e">url_for</span><span style="color:#960050;background-color:#1e0010">(&#39;</span><span style="color:#a6e22e">create</span><span style="color:#960050;background-color:#1e0010">&#39;)</span> <span style="color:#960050;background-color:#1e0010">}}</span>&gt;Create&lt;/<span style="color:#f92672">a</span>&gt; {# link to create #}
      &lt;/<span style="color:#f92672">li</span>&gt;
    &lt;/<span style="color:#f92672">ul</span>&gt;
  &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">nav</span>&gt;
    {% block content %}
    {% endblock %}
  &lt;/<span style="color:#f92672">body</span>&gt;
  &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://code.jquery.com/jquery-3.2.1.slim.min.js&#34;</span> <span style="color:#a6e22e">integrity</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN&#34;</span> <span style="color:#a6e22e">crossorigin</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;anonymous&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
  &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js&#34;</span> <span style="color:#a6e22e">integrity</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q&#34;</span> <span style="color:#a6e22e">crossorigin</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;anonymous&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
  &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js&#34;</span> <span style="color:#a6e22e">integrity</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl&#34;</span> <span style="color:#a6e22e">crossorigin</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;anonymous&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><p>為求簡單，就只切一個名為content的block
<br></br>
接下來的才是list用的template本體</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-:app/templates/list.html" data-lang=":app/templates/list.html">{% extends &#39;base.html&#39; %}
{% block content %}
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;container mt-4&#34;</span>&gt;
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;row&#34;</span>&gt;
        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-12&#34;</span>&gt;
            &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;card&#34;</span>&gt;
                &lt;<span style="color:#f92672">h5</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;card-header&#34;</span>&gt;
                    List
                &lt;/<span style="color:#f92672">h5</span>&gt;
                &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;card-body&#34;</span>&gt;
                    &lt;<span style="color:#f92672">ul</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;list-group&#34;</span>&gt;
                        {% for user in users %}
                        &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;list-group-item&#34;</span>&gt;
                            &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;row&#34;</span>&gt;
                                &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-3&#34;</span>&gt;
                                    &lt;<span style="color:#f92672">p</span>&gt;Name&lt;/<span style="color:#f92672">p</span>&gt;
                                &lt;/<span style="color:#f92672">div</span>&gt;
                                &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-9&#34;</span>&gt;
                                    &lt;<span style="color:#f92672">p</span>&gt;{{ user.username }}&lt;/<span style="color:#f92672">p</span>&gt;
                                &lt;/<span style="color:#f92672">div</span>&gt;
                            &lt;/<span style="color:#f92672">div</span>&gt;
                            &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;row&#34;</span>&gt;
                                &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-3&#34;</span>&gt;
                                    &lt;<span style="color:#f92672">p</span>&gt;Created at&lt;/<span style="color:#f92672">p</span>&gt;
                                &lt;/<span style="color:#f92672">div</span>&gt;
                                &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-9&#34;</span>&gt;
                                    &lt;<span style="color:#f92672">p</span>&gt;{{user.created_at}}&lt;/<span style="color:#f92672">p</span>&gt;
                                &lt;/<span style="color:#f92672">div</span>&gt;
                            &lt;/<span style="color:#f92672">div</span>&gt;
                            &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;row&#34;</span>&gt;
                                &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-12&#34;</span>&gt;
                                    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;float-right&#34;</span>&gt;
                                        &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;btn btn-primary&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ url_for(&#39;detail&#39;, user_id=user.id) }}&#34;</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;button&#34;</span>&gt;Detail&lt;/<span style="color:#f92672">a</span>&gt;
                                        &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;btn btn-primary&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ url_for(&#39;update&#39;, user_id=user.id) }}&#34;</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;button&#34;</span>&gt;Update&lt;/<span style="color:#f92672">a</span>&gt;
                                        &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;btn btn-primary&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ url_for(&#39;delete&#39;, user_id=user.id) }}&#34;</span> <span style="color:#a6e22e">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;button&#34;</span>&gt;Delete&lt;/<span style="color:#f92672">a</span>&gt;
                                    &lt;/<span style="color:#f92672">div</span>&gt;
                                &lt;/<span style="color:#f92672">div</span>&gt;
                            &lt;/<span style="color:#f92672">div</span>&gt;
                        &lt;/<span style="color:#f92672">li</span>&gt;
                        {% endfor %}
                    &lt;/<span style="color:#f92672">ul</span>&gt;
                &lt;/<span style="color:#f92672">div</span>&gt;
            &lt;/<span style="color:#f92672">div</span>&gt;
        &lt;/<span style="color:#f92672">div</span>&gt;
    &lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><p><br></br>
下一個view是create，因為template能和update共用，所以就一併做</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-:app/app.py" data-lang=":app/app.py"><span style="color:#f92672">...</span>

<span style="color:#a6e22e">@app.route</span>(<span style="color:#e6db74">&#39;/create&#39;</span>, methods<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;get&#39;</span>, <span style="color:#e6db74">&#39;post&#39;</span>])
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">create</span>():
    <span style="color:#66d9ef">if</span> request<span style="color:#f92672">.</span>method <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;POST&#39;</span>:
        username <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span>form[<span style="color:#e6db74">&#39;username&#39;</span>]
        email <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span>form[<span style="color:#e6db74">&#39;email&#39;</span>]
        user <span style="color:#f92672">=</span> User(username<span style="color:#f92672">=</span>username, email<span style="color:#f92672">=</span>email)
        db<span style="color:#f92672">.</span>session<span style="color:#f92672">.</span>add(user)
        db<span style="color:#f92672">.</span>session<span style="color:#f92672">.</span>commit()
        <span style="color:#66d9ef">return</span> redirect(url_for(<span style="color:#e6db74">&#39;list&#39;</span>))
    <span style="color:#66d9ef">return</span> render_template(<span style="color:#e6db74">&#39;form.html&#39;</span>)

<span style="color:#a6e22e">@app.route</span>(<span style="color:#e6db74">&#39;/update/&lt;user_id&gt;&#39;</span>, methods<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;get&#39;</span>, <span style="color:#e6db74">&#39;post&#39;</span>])
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">update</span>(user_id):
    user <span style="color:#f92672">=</span> User<span style="color:#f92672">.</span>query<span style="color:#f92672">.</span>filter_by(id<span style="color:#f92672">=</span>user_id)<span style="color:#f92672">.</span>first()
    <span style="color:#66d9ef">if</span> request<span style="color:#f92672">.</span>method <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;POST&#39;</span>:
        user<span style="color:#f92672">.</span>username <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span>form[<span style="color:#e6db74">&#39;username&#39;</span>]
        user<span style="color:#f92672">.</span>email <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span>form[<span style="color:#e6db74">&#39;email&#39;</span>]
        db<span style="color:#f92672">.</span>session<span style="color:#f92672">.</span>add(user)
        db<span style="color:#f92672">.</span>session<span style="color:#f92672">.</span>commit()
        <span style="color:#66d9ef">return</span> redirect(url_for(<span style="color:#e6db74">&#39;list&#39;</span>))
    <span style="color:#66d9ef">return</span> render_template(<span style="color:#e6db74">&#39;form.html&#39;</span>, user<span style="color:#f92672">=</span>user)
</code></pre></div><p>兩個基本上都有GET、POST兩個method，而update在get的時候會返回user
<br></br>
接下來是共通的template</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-:app/templates/form.html" data-lang=":app/templates/form.html">{% extends &#39;base.html&#39; %}
{% block content %}
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;container mt-4&#34;</span>&gt;
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;row&#34;</span>&gt;
        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-12&#34;</span>&gt;
            &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;card&#34;</span>&gt;
                &lt;<span style="color:#f92672">h5</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;card-header&#34;</span>&gt;
                    {% if user %}
                        {% set username, email = user.username, user.email %} {# set username及email兩個變數 #}
                        Update: {{ username }}
                    {% else %}
                        Create user
                        {% set username, email = &#39;&#39;, &#39;&#39; %} {# 若無user(也就是在create時)則為空白 #}
                    {% endif %}
                &lt;/<span style="color:#f92672">h5</span>&gt;
                &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;card-body&#34;</span>&gt;
                    &lt;<span style="color:#f92672">form</span> <span style="color:#a6e22e">method</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post&#34;</span>&gt; {# 將username及email都放進input內的value這個attr #}
                        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;form-group&#34;</span>&gt;
                            &lt;<span style="color:#f92672">label</span> <span style="color:#a6e22e">for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;username&#34;</span>&gt;Username&lt;/<span style="color:#f92672">label</span>&gt;
                            &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;username&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;username&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ username }}&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;form-control&#34;</span>&gt;
                        &lt;/<span style="color:#f92672">div</span>&gt;
                        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;form-group&#34;</span>&gt;
                            &lt;<span style="color:#f92672">label</span> <span style="color:#a6e22e">for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;email&#34;</span>&gt;Email&lt;/<span style="color:#f92672">label</span>&gt;
                            &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;email&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;email&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ email }}&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;form-control&#34;</span>&gt;
                        &lt;/<span style="color:#f92672">div</span>&gt;
                        &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;btn btn-primary&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;submit&#34;</span>&gt;Submit&lt;/<span style="color:#f92672">button</span>&gt;
                    &lt;/<span style="color:#f92672">form</span>&gt;
                &lt;/<span style="color:#f92672">div</span>&gt;
            &lt;/<span style="color:#f92672">div</span>&gt;
        &lt;/<span style="color:#f92672">div</span>&gt;
    &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
{% endblock %}
</code></pre></div><p><br></br>
最後就剩下detail和delete了，delate長得會有點像update</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-:app/app.py" data-lang=":app/app.py"><span style="color:#a6e22e">@app.route</span>(<span style="color:#e6db74">&#39;/detail/&lt;user_id&gt;&#39;</span>)
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">detail</span>(user_id):
    user <span style="color:#f92672">=</span> User<span style="color:#f92672">.</span>query<span style="color:#f92672">.</span>filter_by(id<span style="color:#f92672">=</span>user_id)<span style="color:#f92672">.</span>first()
    <span style="color:#66d9ef">return</span> render_template(<span style="color:#e6db74">&#39;detail.html&#39;</span>, user<span style="color:#f92672">=</span>user)

<span style="color:#a6e22e">@app.route</span>(<span style="color:#e6db74">&#39;/delete/&lt;user_id&gt;&#39;</span>, methods<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;get&#39;</span>, <span style="color:#e6db74">&#39;post&#39;</span>])
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">delete</span>(user_id):
    user <span style="color:#f92672">=</span> User<span style="color:#f92672">.</span>query<span style="color:#f92672">.</span>filter_by(id<span style="color:#f92672">=</span>user_id)<span style="color:#f92672">.</span>first()
    <span style="color:#66d9ef">if</span> request<span style="color:#f92672">.</span>method <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;POST&#39;</span>:
        db<span style="color:#f92672">.</span>session<span style="color:#f92672">.</span>delete(user)
        db<span style="color:#f92672">.</span>session<span style="color:#f92672">.</span>commit()
        <span style="color:#66d9ef">return</span> redirect(url_for(<span style="color:#e6db74">&#39;list&#39;</span>))
    <span style="color:#66d9ef">return</span> render_template(<span style="color:#e6db74">&#39;detail.html&#39;</span>, user<span style="color:#f92672">=</span>user)
</code></pre></div><p><br></br>
template也能共用</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-:app/templates/detail.html" data-lang=":app/templates/detail.html">{% extends &#39;base.html&#39; %}
{% block content %}
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;container mt-4&#34;</span>&gt;
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;row&#34;</span>&gt;
        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-12&#34;</span>&gt;
            &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;card&#34;</span>&gt;
                &lt;<span style="color:#f92672">h5</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;card-header&#34;</span>&gt;
                    {% if &#39;delete&#39; in request.path %}
                        Delete:
                    {% else %}
                        Detail:
                    {% endif %}
                    {{ user.username }}
                &lt;/<span style="color:#f92672">h5</span>&gt;
                &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;card-body&#34;</span>&gt;
                    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;row&#34;</span>&gt;
                        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-3&#34;</span>&gt;
                            &lt;<span style="color:#f92672">p</span>&gt;Username&lt;/<span style="color:#f92672">p</span>&gt;
                        &lt;/<span style="color:#f92672">div</span>&gt;
                    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-9&#34;</span>&gt;
                            &lt;<span style="color:#f92672">p</span>&gt;{{ user.username }}&lt;/<span style="color:#f92672">p</span>&gt;
                    &lt;/<span style="color:#f92672">div</span>&gt;
                &lt;/<span style="color:#f92672">div</span>&gt;
                &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;row&#34;</span>&gt;
                    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-3&#34;</span>&gt;
                        &lt;<span style="color:#f92672">p</span>&gt;Email&lt;/<span style="color:#f92672">p</span>&gt;
                    &lt;/<span style="color:#f92672">div</span>&gt;
                    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-9&#34;</span>&gt;
                        &lt;<span style="color:#f92672">p</span>&gt;{{ user.email }}&lt;/<span style="color:#f92672">p</span>&gt;
                    &lt;/<span style="color:#f92672">div</span>&gt;
                &lt;/<span style="color:#f92672">div</span>&gt;
                &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;row&#34;</span>&gt;
                    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-3&#34;</span>&gt;
                        &lt;<span style="color:#f92672">p</span>&gt;Created at&lt;/<span style="color:#f92672">p</span>&gt;
                    &lt;/<span style="color:#f92672">div</span>&gt;
                    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-9&#34;</span>&gt;
                        &lt;<span style="color:#f92672">p</span>&gt;{{ user.created_at }}&lt;/<span style="color:#f92672">p</span>&gt;
                    &lt;/<span style="color:#f92672">div</span>&gt;
                &lt;/<span style="color:#f92672">div</span>&gt;
                &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;row&#34;</span>&gt;
                    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-3&#34;</span>&gt;
                        &lt;<span style="color:#f92672">p</span>&gt;Updated at&lt;/<span style="color:#f92672">p</span>&gt;
                    &lt;/<span style="color:#f92672">div</span>&gt;
                    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-9&#34;</span>&gt;
                        &lt;<span style="color:#f92672">p</span>&gt;{{ user.updated_at}}&lt;/<span style="color:#f92672">p</span>&gt;
                    &lt;/<span style="color:#f92672">div</span>&gt;
                &lt;/<span style="color:#f92672">div</span>&gt;
                {% if &#39;delete&#39; in request.path %} {# 當request.path包含delete時才出現的form #}
                &lt;<span style="color:#f92672">form</span> <span style="color:#a6e22e">method</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post&#34;</span>&gt;
                    &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;btn btn-primary&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;submit&#34;</span>&gt;Delete&lt;/<span style="color:#f92672">button</span>&gt;
                &lt;/<span style="color:#f92672">form</span>&gt;
                {% endif %}
                &lt;/<span style="color:#f92672">div</span>&gt;
            &lt;/<span style="color:#f92672">div</span>&gt;
        &lt;/<span style="color:#f92672">div</span>&gt;
    &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
{% endblock %}
</code></pre></div><p>到此就算大功告成啦！
<br></br>
也能從browser看看成果了</p>
<img style="display:inline;" width="150" src="1.png">
<img style="display:inline;" width="150" src="2.png">
<img style="display:inline;" width="150" src="3.png">
<img style="display:inline;" width="150" src="4.png">
<p><br></br>
但是到目前為止這App還不算完整，畢竟毫無安全性可言，下次就要加上CSRF了</p>
                  </v-card-text>
                </v-card>


                
                <v-card class="mt-5 content">
                  <v-card-text>
                  <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "mikanmimi" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                  </v-card-text>
                </v-card>
                





            
                
                  
                    
                  
                  
                  <v-card class="mt-5 content">
                    <v-card-title>
                      See Also
                    </v-card-title>
                    <v-card-text>
                    
                    
                        <v-list-item>
                          <v-list-item-content>
                            <v-tooltip top>
                              <template v-slot:activator="{ on }">
                                <v-list-item-title>
                                  <a v-on="on" href="https://mikanbearer.github.io/posts/2020/09/202009161132/">scikit-learn新手入門之決策樹篇</a>
                                </v-list-item-title>
                              </template>
                              <span><p>身為資料分析&amp;機器學習的超級新手，個人還是覺得實際操作一遍比理論更好理解，
這次練習的是之前曾草草帶過的機械學習工具scikit-learn，主題就決定是決策樹了</p></span>
                            </v-tooltip>
                          </v-list-item-content>
                        </v-list-item>
                      <v-divider></v-divider>
                    
                        <v-list-item>
                          <v-list-item-content>
                            <v-tooltip top>
                              <template v-slot:activator="{ on }">
                                <v-list-item-title>
                                  <a v-on="on" href="https://mikanbearer.github.io/posts/2020/09/202009151049/">【Flask入門練習-CRUD篇4】使用Flask-WTF導入CSRF Protection</a>
                                </v-list-item-title>
                              </template>
                              <span><p>暫定是最後一個入門練習，這次使用Flask-WTF來做CSRF Protection，Flask-WTF是WTForms結合Flask用的module</p></span>
                            </v-tooltip>
                          </v-list-item-content>
                        </v-list-item>
                      <v-divider></v-divider>
                    
                        <v-list-item>
                          <v-list-item-content>
                            <v-tooltip top>
                              <template v-slot:activator="{ on }">
                                <v-list-item-title>
                                  <a v-on="on" href="https://mikanbearer.github.io/posts/2020/09/202009141257/">【Flask入門練習-CRUD篇3】使用Flask-Login實作登入畫面</a>
                                </v-list-item-title>
                              </template>
                              <span><p>這次實作目標是導入Flask-Login，讓咱們的app受驗證機制保護</p></span>
                            </v-tooltip>
                          </v-list-item-content>
                        </v-list-item>
                      <v-divider></v-divider>
                    
                        <v-list-item>
                          <v-list-item-content>
                            <v-tooltip top>
                              <template v-slot:activator="{ on }">
                                <v-list-item-title>
                                  <a v-on="on" href="https://mikanbearer.github.io/posts/2020/09/202009091346/">【Python資料分析練習-入門篇2】自然語言處理與機器學習</a>
                                </v-list-item-title>
                              </template>
                              <span><p>這次的練習就稍微複雜一點，使用的是機械學習常用的工具scikit-learn，一樣是朝著可視化的目標前進，所以也會做張圖…</p></span>
                            </v-tooltip>
                          </v-list-item-content>
                        </v-list-item>
                      <v-divider></v-divider>
                    
                        <v-list-item>
                          <v-list-item-content>
                            <v-tooltip top>
                              <template v-slot:activator="{ on }">
                                <v-list-item-title>
                                  <a v-on="on" href="https://mikanbearer.github.io/posts/2020/09/202009081138/">結巴分詞工具的簡單筆記</a>
                                </v-list-item-title>
                              </template>
                              <span><p>這次來使用大名鼎鼎的&quot;結巴中文分詞&quot;了，應該是目前最好的的斷詞工具，之後的實作會用上所以稍微筆記一下</p></span>
                            </v-tooltip>
                          </v-list-item-content>
                        </v-list-item>
                      <v-divider></v-divider>
                    
                    </v-card-text>
                  </v-card>
                  
                




                
                <div class="d-flex justify-space-between mt-5">
                  
                  <v-tooltip top>
                    <template v-slot:activator="{ on }">
                      <v-btn
                        href="https://mikanbearer.github.io/posts/2020/09/202009101608/"
                        v-on="on"
                        text
                      >
                        <v-icon>mdi-arrow-left</v-icon>
                        Prev Post
                      </v-btn>
                    </template>
                    <span>安裝並嘗試使用Arista ZTPServer</span>
                  </v-tooltip>
                
                
          
                
                <v-tooltip top>
                  <template v-slot:activator="{ on }">
                    <v-btn
                      href="https://mikanbearer.github.io/posts/2020/09/202009141257/"
                      v-on="on"
                      text
                    >
                      Next Post
                      <v-icon>mdi-arrow-right</v-icon>
                    </v-btn>
                  </template>
                  <span>【Flask入門練習-CRUD篇3】使用Flask-Login實作登入畫面</span>
                </v-tooltip>
                
                </div>




          
              </div>

            </v-col>
          </v-row>








        </v-container>
      </v-main>        
      <v-footer padless color="transparent" class="mt-5">
  <v-col
    class="text-center text-body-2"
    cols="12"
  >
    <div>
      [[ new Date().getFullYear() ]] — 
      
      Zhang San
      
    </div>
    <div>
      Theme <a href="https://github.com/mikanbearer/hugo-vue-mix">hugo-vue-mix</a>
    </div>
  </v-col>
</v-footer>


    </v-app>
  </v-app>
</div>

<script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>



<script>
  var vm = new Vue({
    delimiters: ['[[', ']]'],
    el: '#app',
    vuetify: new Vuetify(),
    props: {
    },
    data: {
      drawer: false,
      panel: [],
      page: null,
      tab: null,
      dialog: null,
      model: null,
      search: null,

      tags: null,
      categories: null,
      posts: null,
      seltags: null,
      selcategories: null,
      tfilteredposts: [],
      cfilteredposts: [],
      
    },

    
    created () {
      this.$vuetify.theme.dark = true
    },

    computed: {
      items () {
        if (this.search) {
          return this.posts
        }else{
          return []
        }
      },
    },


    methods: {
      remove (item) {
        this.seltags.splice(this.seltags.indexOf(item), 1)
        this.seltags = [...this.seltags]
      },
    }
  })

  vm.$vuetify.theme.themes.light.primary = '#007C8A'
  vm.$vuetify.theme.themes.light.secondary = '#44617B'
  vm.$vuetify.theme.themes.light.accent = '#009BAC'
  vm.$vuetify.theme.themes.light.error = '#D7003A'
  vm.$vuetify.theme.themes.light.warning = '#F08300'


  vm.$vuetify.theme.themes.dark.primary = '#F08300'
  vm.$vuetify.theme.themes.dark.secondary = '#006e54'
  vm.$vuetify.theme.themes.dark.warning = '#d3381c'
  vm.$vuetify.theme.themes.dark.error = '#D7003A'
  vm.$vuetify.theme.themes.dark.accent = '#00a381'


  vm.$vuetify.theme.themes.dark.header = '#1f3134'
  vm.$vuetify.theme.themes.dark.content = '#333a40'




var posts = [

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009211136\/',
    
      title: '使用Angular嘗試製作SPA登入畫面',
    
    
      summary: '\u003cp\u003e練習的時候到啦，這次一樣是用登入畫面，本篇寫作風格有點改變，嘗試放多一點圖(尤其gif)，內文不包含API的部分，大部分都是盲做，不完善的地方非常之多…\u003c\/p\u003e\n\u003cp\u003e畢竟，熟能生巧嘛(;´Д`A ```\u003c\/p\u003e',
      content: '\u003cp\u003e練習的時候到啦，這次一樣是用登入畫面，本篇寫作風格有點改變，嘗試放多一點圖(尤其gif)，內文不包含API的部分，大部分都是盲做，不完善的地方非常之多…\u003c\/p\u003e\n\u003cp\u003e畢竟，熟能生巧嘛(;´Д`A ```\u003c\/p\u003e\n\u003cp\u003eAPI使用之前Django REST Framework的練習：\u003c\/p\u003e\n\u003cp\u003e\u003ca href=\u0022https:\/\/github.com\/mikanbearer\/django_rest_example\u0022\u003ehttps:\/\/github.com\/mikanbearer\/django_rest_example\u003c\/a\u003e\u003c\/p\u003e\n\u003cp\u003e是個功能有點少的API，只有兩個url\u003c\/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003emethod\u003c\/th\u003e\n\u003cth\u003eurl\u003c\/th\u003e\n\u003cth\u003efield\u003c\/th\u003e\n\u003c\/tr\u003e\n\u003c\/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003ePOST\u003c\/td\u003e\n\u003ctd\u003eapi\/api-auth-token\/\u003c\/td\u003e\n\u003ctd\u003eusername, password\u003c\/td\u003e\n\u003c\/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ePOST\u003c\/td\u003e\n\u003ctd\u003eapi\/api-auth-verify\/\u003c\/td\u003e\n\u003ctd\u003etoken\u003c\/td\u003e\n\u003c\/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/td\u003e\n\u003ctd\u003e\u003c\/td\u003e\n\u003ctd\u003e\u003c\/td\u003e\n\u003c\/tr\u003e\n\u003c\/tbody\u003e\n\u003c\/table\u003e\n\u003cp\u003e以下是練習環境：\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e     _                      _                 ____ _     ___\n    \/ \\   _ __   __ _ _   _| | __ _ _ __     \/ ___| |   |_ _|\n   \/ △ \\ | \u0027_ \\ \/ _` | | | | |\/ _` | \u0027__|   | |   | |    | |\n  \/ ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\n \/_\/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\n                |___\/\n    \n\nAngular CLI: 10.1.2\nNode: 12.16.1\nOS: win32 x64\n\nAngular: 10.1.2\n... animations, cli, common, compiler, compiler-cli, core, forms\n... platform-browser, platform-browser-dynamic, router\nIvy Workspace: Yes\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit\/architect       0.1001.2\n@angular-devkit\/build-angular   0.1001.2\n@angular-devkit\/core            10.1.2\n@angular-devkit\/schematics      10.1.2\n@angular\/cdk                    10.2.2\n@angular\/material               10.2.2\n@schematics\/angular             10.1.2\n@schematics\/update              0.1001.2\nrxjs                            6.6.3\ntypescript                      4.0.3\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=#1\u003e事前準備\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=#2\u003e製作登入畫面\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=#3\u003e製作登入功能\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=#4\u003e製作主畫面與登出功能\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=#5\u003e驗證登入狀態\u003c\/a\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003ch3 id=\u0022p-id1事前準備p\u0022\u003e\u003cp id=1\u003e事前準備\u003cp\u003e\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n建立project\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ ng new angular-login-example\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n建立名為login的component\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ cd angular-login-example\n$ ng generate component components\/login\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n打★為新增的部分\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e│  app-routing.module.ts\n│  app.component.css\n│  app.component.html\n│  app.component.spec.ts\n│  app.component.ts\n│  app.module.ts\n│\n└─components ★\n    └─login　★\n            login.component.css　★\n            login.component.html　★\n            login.component.spec.ts　★\n            login.component.ts　★\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n將剛才建立的component加進routing module\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app-routing.module.ts\u0022 data-lang=\u0022:app\/app-routing.module.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eNgModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eRoutes\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eRouterModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/router\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eLoginComponent\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/components\/login\/login.component\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eroutes\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eRoutes\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  { \u003cspan style=\u0022color:#a6e22e\u0022\u003epath\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;login\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003ecomponent\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eLoginComponent\u003c\/span\u003e },\n\u003c\/span\u003e];\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@NgModule\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eimports\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003eRouterModule\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eforRoot\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eroutes\u003c\/span\u003e)],\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eexports\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003eRouterModule\u003c\/span\u003e]\n})\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppRoutingModule\u003c\/span\u003e { }\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n再來把app.component.html改了\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.component.html\u0022 data-lang=\u0022:app\/app.component.html\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003erouter-outlet\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003erouter-outlet\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n輸入網址後能看到畫面就沒問題了\u003c\/p\u003e\n\u003cp\u003e\u003cimg src=\u00221.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022p-id2製作登入畫面p\u0022\u003e\u003cp id=2\u003e製作登入畫面\u003c\/p\u003e\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來準備一個登入的form，這次採用Angular material作為練習\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ ng add @angular\/material\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n把會用到的module加進來\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.module.ts\u0022 data-lang=\u0022:app\/app.module.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eBrowserModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/platform-browser\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eNgModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppRoutingModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/app-routing.module\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppComponent\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/app.component\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eLoginComponent\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/components\/login\/login.component\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eBrowserAnimationsModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/platform-browser\/animations\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eReactiveFormsModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/forms\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatCardModule\u003c\/span\u003e} \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/material\/card\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatInputModule\u003c\/span\u003e} \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/material\/input\u0026#39;\u003c\/span\u003e; \n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatFormFieldModule\u003c\/span\u003e} \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/material\/form-field\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatButtonModule\u003c\/span\u003e} \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/material\/button\u0026#39;\u003c\/span\u003e; \n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatMenuModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/material\/menu\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatIconModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/material\/icon\u0026#39;\u003c\/span\u003e; \n\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@NgModule\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003edeclarations\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppComponent\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eLoginComponent\u003c\/span\u003e,\n  ],\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eimports\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eBrowserModule\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppRoutingModule\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eBrowserAnimationsModule\u003c\/span\u003e,\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003eReactiveFormsModule\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003eHttpClientModule\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatCardModule\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatFormFieldModule\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatInputModule\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatToolbarModule\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatMenuModule\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatButtonModule\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatIconModule\u003c\/span\u003e\n\u003c\/span\u003e  ],\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eproviders\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [],\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003ebootstrap\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003eAppComponent\u003c\/span\u003e]\n})\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppModule\u003c\/span\u003e { }\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n新增一個FormGroup與名為login的function，稍後用來測試FormControl是否有作用\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/components\/login\/login.component.ts\u0022 data-lang=\u0022:app\/components\/login\/login.component.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eComponent\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eOnInit\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eFormControl\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eFormGroup\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/forms\u0026#39;\u003c\/span\u003e;\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@Component\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eselector\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;app-login\u0026#39;\u003c\/span\u003e,\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003etemplateUrl\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/login.component.html\u0026#39;\u003c\/span\u003e,\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003estyleUrls\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/login.component.css\u0026#39;\u003c\/span\u003e]\n})\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eLoginComponent\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eimplements\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eOnInit\u003c\/span\u003e {\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003eloginForm\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eFormGroup\u003c\/span\u003e({\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eFormControl\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e),\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eFormControl\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e),\n\u003c\/span\u003e  });\n  \n  \u003cspan style=\u0022color:#66d9ef\u0022\u003econstructor\u003c\/span\u003e() { }\n\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003engOnInit\u003c\/span\u003e()\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003evoid\u003c\/span\u003e {\n  }\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003elogin\u003c\/span\u003e() \u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003evoid\u003c\/span\u003e {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003econsole\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003elog\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eloginForm\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e)\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  }\n\u003c\/span\u003e}\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來做一個簡單的template，因為偷工減掉的關係所以很醜\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/components\/login\/login.component.html\u0022 data-lang=\u0022:app\/components\/login\/login.component.html\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emat-card\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;example-card\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003estyle\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;max-width: 600px; margin: 10px auto; top: 30%;\u0026#34;\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emat-card-header\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emat-card-title\u003c\/span\u003e\u0026gt;Login\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003emat-card-title\u003c\/span\u003e\u0026gt;\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003emat-card-header\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emat-card-content\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e \u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e[\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003eformGroup\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e]=\u0026#34;\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003eloginForm\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\u0026#34;\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emat-form-field\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;example-full-width\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003estyle\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;width: 80%;\u0026#34;\u003c\/span\u003e\u0026gt;\n          \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ematInput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eplaceholder\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Username\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eformControlName\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;username\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erequired\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003emat-form-field\u003c\/span\u003e\u0026gt;\n      \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emat-form-field\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;example-full-width\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003estyle\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;width: 80%;\u0026#34;\u003c\/span\u003e\u0026gt;\n          \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ematInput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eplaceholder\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Password\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eformControlName\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;password\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;password\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erequired\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003emat-form-field\u003c\/span\u003e\u0026gt;\n      \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e\u0026gt;\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003emat-card-content\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emat-card-actions\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emat-raised-button\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecolor\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;primary\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;submit\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e[\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003edisabled\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e]=\u0026#34;!\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003eloginForm\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e.\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003evalid\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e(\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003eclick\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e)=\u0026#34;\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003elogin\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e()\u0026#34;\u003c\/span\u003e\u0026gt;Submit\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003emat-card-actions\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003emat-card\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n重新run起來就能看到畫面了\n\u003cimg src=\u00222.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n嘗試看看click()能否觸發conponent中的function login\n\u003cimg src=\u00221.gif\u0022 alt=\u0022\u0022\u003e\n到此為止外觀算是完成\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022製作登入功能\u0022\u003e製作登入功能\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來就是主軸的認證機制了，目標是使用Http Client取得Json Web Token，首先需要的是http client的是module\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.module.ts\u0022 data-lang=\u0022:app\/app.module.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eBrowserModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/platform-browser\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eNgModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppRoutingModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/app-routing.module\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppComponent\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/app.component\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eLoginComponent\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/components\/login\/login.component\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eBrowserAnimationsModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/platform-browser\/animations\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eReactiveFormsModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/forms\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eHttpClientModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/common\/http\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatCardModule\u003c\/span\u003e} \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/material\/card\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatInputModule\u003c\/span\u003e} \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/material\/input\u0026#39;\u003c\/span\u003e; \n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatFormFieldModule\u003c\/span\u003e} \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/material\/form-field\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatButtonModule\u003c\/span\u003e} \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/material\/button\u0026#39;\u003c\/span\u003e; \n\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@NgModule\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003edeclarations\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppComponent\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eLoginComponent\u003c\/span\u003e,\n  ],\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eimports\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eBrowserModule\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppRoutingModule\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eBrowserAnimationsModule\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eReactiveFormsModule\u003c\/span\u003e,\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003eHttpClientModule\u003c\/span\u003e,\n\u003c\/span\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatCardModule\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatFormFieldModule\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatInputModule\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eMatButtonModule\u003c\/span\u003e,\n  ],\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eproviders\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [],\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003ebootstrap\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003eAppComponent\u003c\/span\u003e]\n})\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppModule\u003c\/span\u003e { }\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n建立一個service，之後的function主要都放在這裡\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ ng generate service services\/auth\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n再來測試http client靈不靈，看看form → http這段是否真能作用\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/services\/auth.service.ts\u0022 data-lang=\u0022:app\/services\/auth.service.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eInjectable\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eHttpClient\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/common\/http\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eBehaviorSubject\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;rxjs\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ebaseUrl\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003estring\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;http:\/\/127.0.0.1:8000\/api\/\u0026#39;\u003c\/span\u003e;\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@Injectable\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eprovidedIn\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;root\u0026#39;\u003c\/span\u003e\n})\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eAuthService\u003c\/span\u003e {\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003eprivete\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eloggedIn\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eBehaviorSubject\u003c\/span\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eboolean\u003c\/span\u003e\u0026gt;(\u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e);\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003eprivate\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003estring\u003c\/span\u003e;\n\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003econstructor\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003eprivate\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehttp\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eHttpClient\u003c\/span\u003e) { }\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003elogin\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e) {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ehttp\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003epost\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e`\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e${\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003ebaseUrl\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e}\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eapi-token-auth\/`\u003c\/span\u003e, { \u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eusername\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003epassword\u003c\/span\u003e })\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    .\u003cspan style=\u0022color:#a6e22e\u0022\u003esubscribe\u003c\/span\u003e((\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eany\u003c\/span\u003e) \u003cspan style=\u0022color:#f92672\u0022\u003e=\u0026gt;\u003c\/span\u003e {\u003cspan style=\u0022color:#a6e22e\u0022\u003econsole\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003elog\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e)})\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  }\n\u003c\/span\u003e}\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n那麼咱們的login page就使用service了\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/components\/login\/login.component.ts\u0022 data-lang=\u0022:app\/components\/login\/login.component.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eComponent\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eOnInit\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eFormControl\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eFormGroup\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/forms\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eAuthService\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;..\/..\/services\/auth.service\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@Component\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eselector\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;app-login\u0026#39;\u003c\/span\u003e,\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003etemplateUrl\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/login.component.html\u0026#39;\u003c\/span\u003e,\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003estyleUrls\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/login.component.css\u0026#39;\u003c\/span\u003e],\n})\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eLoginComponent\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eimplements\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eOnInit\u003c\/span\u003e {\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eloginForm\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eFormGroup\u003c\/span\u003e({\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eFormControl\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e),\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eFormControl\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e),\n  });\n  \n  \u003cspan style=\u0022color:#66d9ef\u0022\u003econstructor\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003eprivate\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eauthService\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eAuthService\u003c\/span\u003e) { }\n\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003engOnInit\u003c\/span\u003e()\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003evoid\u003c\/span\u003e {\n  }\n\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003elogin\u003c\/span\u003e() \u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003evoid\u003c\/span\u003e {\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eloginForm\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eloginForm\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eauthService\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003elogin\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e);\n\u003c\/span\u003e  }\n}\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nCORS沒問題的話，沒意外就能拿到token了\n\u003cimg src=\u00222.gif\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n接下來回過頭到auth.service.ts，把login改成這樣\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-::app\/services\/auth.service.ts\u0022 data-lang=\u0022::app\/services\/auth.service.ts\u0022\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003elogin\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e) {\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ehttp\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003epost\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e`\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e${\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003ebaseUrl\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e}\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eapi-token-auth\/`\u003c\/span\u003e, { \u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eusername\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003epassword\u003c\/span\u003e })\n    .\u003cspan style=\u0022color:#a6e22e\u0022\u003esubscribe\u003c\/span\u003e((\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eany\u003c\/span\u003e) \u003cspan style=\u0022color:#f92672\u0022\u003e=\u0026gt;\u003c\/span\u003e {\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e!==\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eundefined\u003c\/span\u003e) {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eloggedIn\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003enext\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e);\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#a6e22e\u0022\u003elocalStorage\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003esetItem\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;user\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e);\n\u003c\/span\u003e      }\n    })\n  }\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n如此一來就能透過localStorage.setItem把token保存起來，就能以此保存登入狀態了\n\u003cimg src=\u00223.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022p-id4製作主畫面與登出功能a\u0022\u003e\u003cp id=4\u003e製作主畫面與登出功能\u003c\/a\u003e\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來做登入後的主畫面，就叫home唄\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ ng generate component components\/home\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nrouting加入剛才新增的component\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app-routing.module.ts\u0022 data-lang=\u0022:app\/app-routing.module.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eNgModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eRoutes\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eRouterModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/router\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eLoginComponent\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/components\/login\/login.component\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eHomeComponent\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/components\/home\/home.component\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eroutes\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eRoutes\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n  { \u003cspan style=\u0022color:#a6e22e\u0022\u003epath\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;login\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003ecomponent\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eLoginComponent\u003c\/span\u003e },\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  { \u003cspan style=\u0022color:#a6e22e\u0022\u003epath\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003ecomponent\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eHomeComponent\u003c\/span\u003e },\n\u003c\/span\u003e];\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@NgModule\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eimports\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003eRouterModule\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eforRoot\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eroutes\u003c\/span\u003e)],\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eexports\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003eRouterModule\u003c\/span\u003e]\n})\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppRoutingModule\u003c\/span\u003e { }\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nauth.service也跟進增加下列的部分\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/services\/auth.service.ts\u0022 data-lang=\u0022:app\/services\/auth.service.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eInjectable\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eHttpClient\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/common\/http\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eBehaviorSubject\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;rxjs\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eRouter\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/router\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ebaseUrl\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003estring\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;http:\/\/127.0.0.1:8000\/api\/\u0026#39;\u003c\/span\u003e;\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@Injectable\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eprovidedIn\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;root\u0026#39;\u003c\/span\u003e\n})\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eAuthService\u003c\/span\u003e {\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003eprivate\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eloggedIn\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eBehaviorSubject\u003c\/span\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eboolean\u003c\/span\u003e\u0026gt;(\u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e);\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003eprivate\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003estring\u003c\/span\u003e;\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003econstructor\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003eprivate\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehttp\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eHttpClient\u003c\/span\u003e, \u003cspan style=\u0022color:#66d9ef\u0022\u003eprivate\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erouter\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eRouter\u003c\/span\u003e) { }\n\u003c\/span\u003e\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003elogin\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e) {\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ehttp\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003epost\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e`\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e${\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003ebaseUrl\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e}\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eapi-token-auth\/`\u003c\/span\u003e, { \u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eusername\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003epassword\u003c\/span\u003e })\n    .\u003cspan style=\u0022color:#a6e22e\u0022\u003esubscribe\u003c\/span\u003e((\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eany\u003c\/span\u003e) \u003cspan style=\u0022color:#f92672\u0022\u003e=\u0026gt;\u003c\/span\u003e {\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e!==\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eundefined\u003c\/span\u003e) {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e;\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eloggedIn\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003enext\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e);\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003elocalStorage\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003esetItem\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;user\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e);\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003erouter\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003enavigateByUrl\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e);\n\u003c\/span\u003e      }\n    })\n  }\n\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003elogout() {\u003c\/span\u003e\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003elocalStorage\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eremoveItem\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;user\u0026#39;\u003c\/span\u003e);\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eloggedIn\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003enext\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e);\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003erouter\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003enavigateByUrl\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/login\u0026#39;\u003c\/span\u003e);\n  }\n}\n\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來就是主畫面的home\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/components\/home.component.ts\u0022 data-lang=\u0022:app\/components\/home.component.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eComponent\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eOnInit\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eAuthService\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;..\/..\/services\/auth.service\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@Component\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eselector\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;app-home\u0026#39;\u003c\/span\u003e,\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003etemplateUrl\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/home.component.html\u0026#39;\u003c\/span\u003e,\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003estyleUrls\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/home.component.css\u0026#39;\u003c\/span\u003e]\n})\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eHomeComponent\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eimplements\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eOnInit\u003c\/span\u003e {\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003eprivate\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eloggedIn\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eboolean\u003c\/span\u003e;\n\u003c\/span\u003e\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003econstructor\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003eprivate\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eauthService\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eAuthService\u003c\/span\u003e) { }\n\u003c\/span\u003e\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003engOnInit\u003c\/span\u003e()\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003evoid\u003c\/span\u003e {\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  }\n\u003c\/span\u003e\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003elogout\u003c\/span\u003e() \u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003evoid\u003c\/span\u003e {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eauthService\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003elogout\u003c\/span\u003e();\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  }\n\u003c\/span\u003e}\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n然後是不入流的template\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/components\/home.component.html\u0022 data-lang=\u0022:app\/components\/home.component.html\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emat-toolbar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecolor\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;primary\u0026#34;\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emat-toolbar-row\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003espan\u003c\/span\u003e\u0026gt;My App\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003espan\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003espan\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003estyle\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;flex: 1 1 auto;\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003espan\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emat-icon-button\u003c\/span\u003e \u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e[\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003ematMenuTriggerFor\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e]=\u0026#34;\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emenu\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\u0026#34;\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emat-icon\u003c\/span\u003e\u0026gt;more_vert\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003emat-icon\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emat-menu\u003c\/span\u003e \u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e#\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emenu\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;matMenu\u0026#34;\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emat-menu-item\u003c\/span\u003e \u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e(\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003eclick\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e)=\u0026#34;\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003elogout\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e()\u0026#34;\u003c\/span\u003e\u0026gt;Logout\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003emat-menu\u003c\/span\u003e\u0026gt;\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003emat-toolbar-row\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003emat-toolbar\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n就可以嘗試登入和登出了，可以看到local storage也符合期望被清空！接下來是頁面轉移的部分\n\u003cimg src=\u00223.gif\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022p-id5驗證登入狀態p\u0022\u003e\u003cp id=5\u003e驗證登入狀態\u003c\/p\u003e\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n最後的部分就是驗證登入狀態了，理想的情況是檢查LocalStorage是否有token，這樣就不用每次都要登入\u003c\/p\u003e\n\u003cp\u003e在auth.service.ts最後增加tryloggedIn()，為了方便之後用promise的方式sync，使用map\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e41\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e42\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e43\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e44\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e45\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e46\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e47\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e48\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/services\/auth.service.ts\u0022 data-lang=\u0022:app\/services\/auth.service.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eInjectable\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eHttpClient\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/common\/http\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eBehaviorSubject\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;rxjs\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003emap\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;rxjs\/operators\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eRouter\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/router\u0026#39;\u003c\/span\u003e;\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ebaseUrl\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003estring\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;http:\/\/127.0.0.1:8000\/api\/\u0026#39;\u003c\/span\u003e;\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@Injectable\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eprovidedIn\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;root\u0026#39;\u003c\/span\u003e\n})\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eAuthService\u003c\/span\u003e {\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003epublic\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eloggedIn\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eBehaviorSubject\u003c\/span\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eboolean\u003c\/span\u003e\u0026gt;(\u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e);\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003eprivate\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003estring\u003c\/span\u003e;\n\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003econstructor\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003eprivate\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehttp\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eHttpClient\u003c\/span\u003e, \u003cspan style=\u0022color:#66d9ef\u0022\u003eprivate\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erouter\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eRouter\u003c\/span\u003e) { }\n\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003elogin\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e) {\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ehttp\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003epost\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e`\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e${\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003ebaseUrl\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e}\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eapi-token-auth\/`\u003c\/span\u003e, { \u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eusername\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003epassword\u003c\/span\u003e })\n    .\u003cspan style=\u0022color:#a6e22e\u0022\u003esubscribe\u003c\/span\u003e((\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eany\u003c\/span\u003e) \u003cspan style=\u0022color:#f92672\u0022\u003e=\u0026gt;\u003c\/span\u003e {\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e!==\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eundefined\u003c\/span\u003e) {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e;\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eloggedIn\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003enext\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e);\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003elocalStorage\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003esetItem\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;user\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e);\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003erouter\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003enavigateByUrl\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e);\n      }\n    })\n  }\n\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003elogout() {\u003c\/span\u003e\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003elocalStorage\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eremoveItem\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;user\u0026#39;\u003c\/span\u003e);\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eloggedIn\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003enext\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e);\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003erouter\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003enavigateByUrl\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/login\u0026#39;\u003c\/span\u003e);\n  }\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003etryloggedIn\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e) {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ehttp\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003epost\u003c\/span\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eany\u003c\/span\u003e\u0026gt;(\u003cspan style=\u0022color:#e6db74\u0022\u003e`\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e${\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003ebaseUrl\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e}\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eapi-token-verify\/`\u003c\/span\u003e, {\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003etoken\u003c\/span\u003e})\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      .\u003cspan style=\u0022color:#a6e22e\u0022\u003epipe\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003emap\u003c\/span\u003e(\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u0026gt;\u003c\/span\u003e{\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e===\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e) {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eloggedIn\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003enext\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e);\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          }\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        }\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      ));\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  }\n\u003c\/span\u003e\n}\n\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n建立一個router guard\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ ng generate guard guards\/auth  \n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n然後把剛才的tryloggedIn()放進來\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/guards\/auth.guard.ts\u0022 data-lang=\u0022:app\/guards\/auth.guard.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eInjectable\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eCanActivate\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eActivatedRouteSnapshot\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eRouterStateSnapshot\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eUrlTree\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eRouter\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/router\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eObservable\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;rxjs\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eAuthService\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;..\/services\/auth.service\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@Injectable\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eprovidedIn\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;root\u0026#39;\u003c\/span\u003e\n})\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eAuthGuard\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eimplements\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eCanActivate\u003c\/span\u003e {\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003econstructor\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003eprivate\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erouter\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eRouter\u003c\/span\u003e, \u003cspan style=\u0022color:#66d9ef\u0022\u003eprivate\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eauthService\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eAuthService\u003c\/span\u003e) { }\n\u003c\/span\u003e\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003ecanActivate\u003c\/span\u003e(\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eroute\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eActivatedRouteSnapshot\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003estate\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eRouterStateSnapshot\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eObservable\u003c\/span\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eboolean\u003c\/span\u003e \u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e|\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eUrlTree\u003c\/span\u003e\u0026gt; \u003cspan style=\u0022color:#f92672\u0022\u003e|\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ePromise\u003c\/span\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eboolean\u003c\/span\u003e \u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e|\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eUrlTree\u003c\/span\u003e\u0026gt; \u003cspan style=\u0022color:#f92672\u0022\u003e|\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eboolean\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e|\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eUrlTree\u003c\/span\u003e {\n    \n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elocalStorage\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003egetItem\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;user\u0026#39;\u003c\/span\u003e) \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/嘗試從LocalStorage取得token\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e) {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eauthService\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etryloggedIn\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e).\u003cspan style=\u0022color:#a6e22e\u0022\u003etoPromise\u003c\/span\u003e() \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/observable to promise\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e      .\u003cspan style=\u0022color:#a6e22e\u0022\u003ethen\u003c\/span\u003e(()\u003cspan style=\u0022color:#f92672\u0022\u003e=\u0026gt;\u003c\/span\u003e{\u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e})\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      .\u003cspan style=\u0022color:#66d9ef\u0022\u003ecatch\u003c\/span\u003e(()\u003cspan style=\u0022color:#f92672\u0022\u003e=\u0026gt;\u003c\/span\u003e{\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003erouter\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003enavigateByUrl\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/login\u0026#39;\u003c\/span\u003e);\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e});\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    }\u003cspan style=\u0022color:#66d9ef\u0022\u003eelse\u003c\/span\u003e{\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003erouter\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003enavigateByUrl\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/login\u0026#39;\u003c\/span\u003e)\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    }\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  }\n\u003c\/span\u003e  \n}\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來就用剛才建立的AuthGuard保護咱們的主頁\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app-routing.module.ts\u0022 data-lang=\u0022:app\/app-routing.module.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eNgModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eRoutes\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eRouterModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/router\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eLoginComponent\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/components\/login\/login.component\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eHomeComponent\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/components\/home\/home.component\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eAuthGuard\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/guards\/auth.guard\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eroutes\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eRoutes\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n  { \u003cspan style=\u0022color:#a6e22e\u0022\u003epath\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;login\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003ecomponent\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eLoginComponent\u003c\/span\u003e },\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  { \u003cspan style=\u0022color:#a6e22e\u0022\u003epath\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003ecomponent\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eHomeComponent\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003ecanActivate\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003eAuthGuard\u003c\/span\u003e] }, \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/追加Guard\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e];\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@NgModule\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eimports\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003eRouterModule\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eforRoot\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eroutes\u003c\/span\u003e)],\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eexports\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003eRouterModule\u003c\/span\u003e]\n})\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppRoutingModule\u003c\/span\u003e { }\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n如此一來在local storage沒有token的情況，會直接導去登入頁面，而有token的話則會去嘗試驗證\n\u003cimg src=\u00224.gif\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022檢討\u0022\u003e檢討\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n這次練習還是有很多不完善的地方，以下一一列出\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e對Observable不夠熟悉：因為之前沒什麼接觸rxjs，實在用得不輪轉，最後Guard還是用了Promise\u003c\/li\u003e\n\u003cli\u003eAPI功能太少：練習用的API太陽春，沒放上驗證以外的功能，理想的情況是每次與backend通訊都在header裡加上token，而不是一開始的post token\u003c\/li\u003e\n\u003cli\u003eSPA不完全：這次練習的重點幾乎放在Guard上了，其實應該在LocalStorage裡加上token到期日可能會好一點？\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n不過經過此練習也能有點概念了，之後大概會使用其他大神的JWT Helper\u003c\/p\u003e\n\u003cp\u003e這次練習一樣會放在github上：\u003ca href=\u0022https:\/\/github.com\/mikanbearer\/angular-login-example\u0022\u003ehttps:\/\/github.com\/mikanbearer\/angular-login-example\u003c\/a\u003e\u003c\/p\u003e\n\u003cp\u003e之後有更完善的版本會考慮關閉\u003c\/p\u003e',
    
    
      date: '2020-09-21',
    
    
      tags: '[Angular Node.js TypeScript]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009181018\/',
    
      title: '從今天開始學Angular',
    
    
      summary: '\u003cp\u003e從今天開始系列最新作，沒方向的時候就是學framework的最好時機(？\u003c\/p\u003e',
      content: '\u003cp\u003e從今天開始系列最新作，沒方向的時候就是學framework的最好時機(？\u003c\/p\u003e\n\u003cp\u003e參考資料:\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\u0022https:\/\/angular.io\/docs\u0022\u003ehttps:\/\/angular.io\/docs\u003c\/a\u003e\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022建立project\u0022\u003e建立Project\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n首先安裝Angular CLI\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e# npm install -g @angular\/cli\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n這樣就能使用Angular CLI的指令\u0026quot;ng\u0026rdquo;，這裡就直接建立一個project，stylesheet就選擇CSS好了，建立好之後就直接進入稍後要編集的目錄\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ ng new my-app\n\n? Would you like to add Angular routing? Yes\n? Which stylesheet format would you like to use?\n\u0026gt; CSS\n\n$ cd my-app\n$ ng serve --open\n\n...\n** Angular Live Development Server is listening on localhost:4200, open your browser on http:\/\/localhost:4200\/ **\n: Compiled successfully.\n\nDate: 2020-09-18T06:00:05.332Z - Hash: c048b12df6567723f106\n5 unchanged chunks\n\nTime: 1042ms\n: Compiled successfully.\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下能就能到localhost:4200來看看編譯好的頁面\u003c\/p\u003e\n\u003cp\u003e\u003cimg src=\u00221.png\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n要動的東西大多都在src，附上目錄的樹狀圖\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003esrc\n│  favicon.ico\n│  index.html\n│  main.ts\n│  polyfills.ts\n│  styles.css\n│  test.ts\n│\n├─app\n│      app-routing.module.ts\n│      app.component.css\n│      app.component.html\n│      app.component.spec.ts\n│      app.component.ts\n│      app.module.ts\n│\n├─assets\n│      .gitkeep\n│\n└─environments\n        environment.prod.ts\n        environment.ts\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022建立component\u0022\u003e建立Component\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n建立新的components，會產生下列檔案\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ ng generate component test\nCREATE src\/app\/test\/test.component.html (19 bytes)\nCREATE src\/app\/test\/test.component.spec.ts (612 bytes)\nCREATE src\/app\/test\/test.component.ts (267 bytes)     \nCREATE src\/app\/test\/test.component.css (0 bytes)      \nUPDATE src\/app\/app.module.ts (537 bytes)\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n目錄看起來是這樣\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e...\n│\n└─test\n        test.component.css\n        test.component.html\n        test.component.spec.ts\n        test.component.ts\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n同時會自動在app.module.ts中import剛才建立的component\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.module.ts\u0022 data-lang=\u0022:app\/app.module.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eBrowserModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/platform-browser\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eNgModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppRoutingModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/app-routing.module\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppComponent\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/app.component\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eTestComponent\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/test\/test.component\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@NgModule\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003edeclarations\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppComponent\u003c\/span\u003e,\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003eTestComponent\u003c\/span\u003e\n\u003c\/span\u003e  ],\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eimports\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eBrowserModule\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppRoutingModule\u003c\/span\u003e\n  ],\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eproviders\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [],\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003ebootstrap\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003eAppComponent\u003c\/span\u003e]\n})\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppModule\u003c\/span\u003e { }\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n而component長得像是這樣\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/test\/test.component.ts\u0022 data-lang=\u0022:app\/test\/test.component.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eComponent\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eOnInit\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003e@Component\u003c\/span\u003e({\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003eselector\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;app-test\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003etemplateUrl\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/test.component.html\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003estyleUrls\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/test.component.css\u0026#39;\u003c\/span\u003e]\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e})\n\u003c\/span\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eTestComponent\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eimplements\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eOnInit\u003c\/span\u003e {\n\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003econstructor\u003c\/span\u003e() { }\n\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003engOnInit\u003c\/span\u003e()\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003evoid\u003c\/span\u003e {\n  }\n\n}\n\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003eselector的部分，也就是tag像這打的話就能指向component的內容\n\u003cbr\u003e\u003c\/br\u003e\nindex.html預設是app-root，也就是剛才run的畫面，如果將index.html修改成下列這樣\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-index.html\u0022 data-lang=\u0022index.html\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u0026lt;!doctype html\u0026gt;\u003c\/span\u003e\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elang\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;en\u0026#34;\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emeta\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003echarset\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;utf-8\u0026#34;\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;MyApp\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebase\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehref\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;\/\u0026#34;\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emeta\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;viewport\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003econtent\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;width=device-width, initial-scale=1\u0026#34;\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003elink\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erel\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;icon\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;image\/x-icon\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehref\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;favicon.ico\u0026#34;\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eapp-test\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eapp-test\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n也將app.module.ts中的bootstrap array改成剛才建立的component\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.module.ts\u0022 data-lang=\u0022:app\/app.module.ts\u0022\u003e...\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eTestComponent\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/test\/test.component\u0026#39;\u003c\/span\u003e;\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@NgModule\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003edeclarations\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppComponent\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eTestComponent\u003c\/span\u003e\n  ],\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eimports\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eBrowserModule\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppRoutingModule\u003c\/span\u003e\n  ],\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eproviders\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [],\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003ebootstrap\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003eTestComponent\u003c\/span\u003e]\n\u003c\/span\u003e})\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppModule\u003c\/span\u003e { }\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n就會layout出TestComponent的template中的內容\n\u003cimg src=\u00222.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022將data在view中顯示\u0022\u003e將Data在view中顯示\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n在component中定義一個變數，並在constructor()下給予一個值\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/test\/test.component.ts\u0022 data-lang=\u0022:app\/test\/test.component.ts\u0022\u003e...\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eTestComponent\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eimplements\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eOnInit\u003c\/span\u003e {\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003etitle\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003estring\u003c\/span\u003e;\n\u003c\/span\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003econstructor\u003c\/span\u003e() { \n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etitle\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Hello, World!!\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e  }\n\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003engOnInit\u003c\/span\u003e()\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003evoid\u003c\/span\u003e {\n  }\n\n}\n\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n再修改tamplete\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/test\/test.component.html\u0022 data-lang=\u0022:app\/test\/test.component.html\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;{{ title }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n就能顯示剛才給予的值了\n\u003cimg src=\u00223.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022建立service\u0022\u003e建立Service\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n一樣能使用ng來建立service\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ ng generate service test\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接著修改test.service.ts，以console.log測試\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/test.service.ts\u0022 data-lang=\u0022:app\/test.service.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eInjectable\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@Injectable\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eprovidedIn\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;root\u0026#39;\u003c\/span\u003e\n})\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eTestService\u003c\/span\u003e {\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003elog\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003emsg\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eany\u003c\/span\u003e)   { \u003cspan style=\u0022color:#a6e22e\u0022\u003econsole\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003elog\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003emsg\u003c\/span\u003e); }\n\u003c\/span\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003econstructor\u003c\/span\u003e() { \n   }\n}\n\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nservice可以用以下方式使用\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/test\/test.component.ts\u0022 data-lang=\u0022:app\/test\/test.component.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eComponent\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eOnInit\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eTestService\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;..\/test.service\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@Component\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eselector\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;app-test\u0026#39;\u003c\/span\u003e,\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003etemplateUrl\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/test.component.html\u0026#39;\u003c\/span\u003e,\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003estyleUrls\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/test.component.css\u0026#39;\u003c\/span\u003e],\n})\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eTestComponent\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eimplements\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eOnInit\u003c\/span\u003e {\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003etitle\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003estring\u003c\/span\u003e;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003econstructor\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003eprivate\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eBackend\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eTestService\u003c\/span\u003e) { \n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etitle\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Hello, World!\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eBackend\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003elog\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etitle\u003c\/span\u003e);\n\u003c\/span\u003e  }\n\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003engOnInit\u003c\/span\u003e()\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003evoid\u003c\/span\u003e {\n  }\n\n}\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n值得注意的是service有階層化，若在@Injectable中，providedIn不是root的情形下，如範例\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/test.service.ts\u0022 data-lang=\u0022:app\/test.service.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eInjectable\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@Injectable\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eprovidedIn\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e\n})\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e...\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n則component要依賴service的話，必須要在providers指定service\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/test\/test.component.ts\u0022 data-lang=\u0022:app\/test\/test.component.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eComponent\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eOnInit\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eTestService\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;..\/test.service\u0026#39;\u003c\/span\u003e;\n\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@Component\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eselector\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;app-test\u0026#39;\u003c\/span\u003e,\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003etemplateUrl\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/test.component.html\u0026#39;\u003c\/span\u003e,\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003estyleUrls\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/test.component.css\u0026#39;\u003c\/span\u003e],\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003eproviders\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003eTestService\u003c\/span\u003e]\n\u003c\/span\u003e})\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022binding\u0022\u003eBinding\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nProperty binding範例如下：\u003c\/p\u003e\n\u003cp\u003etarget property的value會綁定view model中的v\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026lt;input type=\u0026quot;text\u0026quot; [value]=\u0026quot;v\u0026quot;\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nEvent binding範例如下：\u003c\/p\u003e\n\u003cp\u003e範例中的target event為click，觸發後會執行後面的statement，範例為view model中的function changeTitle\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026lt;button (click)=\u0026quot;changeTitle(v)\u0026quot;\u0026gt;Click Me!\u0026lt;\/button\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nTemplate reference variable範例如下：\u003c\/p\u003e\n\u003cp\u003e範例中input會產生一個名為test的object HTMLInputElement，供template反覆利用\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026lt;input type=\u0026quot;text\u0026quot; #test\u0026gt;\n\n\u0026lt;button (click)=\u0026quot;changeTitle(test.value)\u0026quot;\u0026gt;Change title!\u0026lt;\/button\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nTwo-way binding範例：\u003c\/p\u003e\n\u003cp\u003evalue綁定變數v，而變數v又會透過event更新為test這個object的值，實現雙向綁定\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026lt;input type=\u0026quot;text\u0026quot; #test [value]=\u0026quot;v\u0026quot; (input)=\u0026quot;v = test.value\u0026quot;\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n測試範例：\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/test\/test.component.html\u0022 data-lang=\u0022:app\/test\/test.component.html\u0022\u003e{{ title }}\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;text\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e#\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003etest\u003c\/span\u003e \u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e[\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e]=\u0026#34;\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e(\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003einput\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e)=\u0026#34;\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003ev \u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003etest.value\u0026#34;\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e \u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e(\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003eclick\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e)=\u0026#34;\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003echangeTitle\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e(\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e)\u0026#34;\u003c\/span\u003e\u0026gt;Change title!\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/test\/test.component.ts\u0022 data-lang=\u0022:app\/test\/test.component.ts\u0022\u003e...\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eTestComponent\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eimplements\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eOnInit\u003c\/span\u003e {\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003etitle\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003estring\u003c\/span\u003e;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003estring\u003c\/span\u003e;\n\u003c\/span\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003econstructor\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003eprivate\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eBackend\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eTestService\u003c\/span\u003e) { \n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etitle\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Hello, World!\u0026#39;\u003c\/span\u003e;\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eBackend\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003elog\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etitle\u003c\/span\u003e);\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;QAQ\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e  }\n\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003engOnInit\u003c\/span\u003e()\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003evoid\u003c\/span\u003e {\n  }\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003echangeTitle\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003estring\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003evoid\u003c\/span\u003e {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etitle\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  }\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n\u003cimg src=\u00224.gif\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022routing\u0022\u003eRouting\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n一樣能用ng command自動建立\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ ng generate module app-routing --flat --module=app\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003cbr\u003e\n剛建立的Routes是空的，routing由此定義\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app-routing.module.ts\u0022 data-lang=\u0022:app\/app-routing.module.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eNgModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eRoutes\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eRouterModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/router\u0026#39;\u003c\/span\u003e;\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eroutes\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eRoutes\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [];\n\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@NgModule\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eimports\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003eRouterModule\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eforRoot\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eroutes\u003c\/span\u003e)],\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eexports\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003eRouterModule\u003c\/span\u003e]\n})\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppRoutingModule\u003c\/span\u003e { }\n\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n直接建立兩個component\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ ng generate component foo\n$ ng generate component bar\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nimport剛才建立的component，並加到routes\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app-routing.module.ts\u0022 data-lang=\u0022:app\/app-routing.module.ts\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eNgModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/core\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eRoutes\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eRouterModule\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@angular\/router\u0026#39;\u003c\/span\u003e;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eFooComponent\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/foo\/foo.component\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e { \u003cspan style=\u0022color:#a6e22e\u0022\u003eBarComponent\u003c\/span\u003e } \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/bar\/bar.component\u0026#39;\u003c\/span\u003e;\n\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eroutes\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eRoutes\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  { \u003cspan style=\u0022color:#a6e22e\u0022\u003epath\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;foo\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003ecomponent\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eBarComponent\u003c\/span\u003e },\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  { \u003cspan style=\u0022color:#a6e22e\u0022\u003epath\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;bar\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003ecomponent\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eFooComponent\u003c\/span\u003e },\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  { \u003cspan style=\u0022color:#a6e22e\u0022\u003epath\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;**\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eredirectTo\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/\u0026#39;\u003c\/span\u003e }\n\u003c\/span\u003e];\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e@NgModule\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eimports\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003eRouterModule\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eforRoot\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eroutes\u003c\/span\u003e)],\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eexports\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003eRouterModule\u003c\/span\u003e]\n})\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eAppRoutingModule\u003c\/span\u003e { }\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n將template改成以下的樣子\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/test\/test.component.html\u0022 data-lang=\u0022:app\/test\/test.component.html\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erouterLink\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;foo\u0026#34;\u003c\/span\u003e\u0026gt;Go To Foo\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erouterLink\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;bar\u0026#34;\u003c\/span\u003e\u0026gt;Go To Bar\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003erouter-outlet\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003erouter-outlet\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n輸入不同的path(foo, bar)就會layout指定的component\u003c\/p\u003e\n\u003cp\u003e\u003cimg src=\u00225.gif\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n若是使用routes以外的path，則會mapping到\u0026rsquo;**\u0027，像範例會導回首頁\u003c\/p\u003e\n\u003cp\u003e\u003cimg src=\u00226.gif\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cp\u003e基礎練習大概就到此為止，下次大概就從Material UI到試做Login畫面了，Angular大概會成為個人做SPA的另一個選項\u003c\/p\u003e',
    
    
      date: '2020-09-18',
    
    
      tags: '[Angular Node.js TypeScript]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009161132\/',
    
      title: 'scikit-learn新手入門之決策樹篇',
    
    
      summary: '\u003cp\u003e身為資料分析\u0026amp;機器學習的超級新手，個人還是覺得實際操作一遍比理論更好理解，\n這次練習的是之前曾草草帶過的機械學習工具scikit-learn，主題就決定是決策樹了\u003c\/p\u003e',
      content: '\u003cp\u003e身為資料分析\u0026amp;機器學習的超級新手，個人還是覺得實際操作一遍比理論更好理解，\n這次練習的是之前曾草草帶過的機械學習工具scikit-learn，主題就決定是決策樹了\u003c\/p\u003e\n\u003cp\u003e首先要提一下決策樹，決策樹顧名思義是一種樹形結構，利用層層推理來進行數據的分類，決策樹的構成可分為：\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e根節點(root node)： 全部的數據樣本\u003c\/li\u003e\n\u003cli\u003e內部節點(internal node)： 對應的特徵屬性測試\u003c\/li\u003e\n\u003cli\u003e葉節點(leaf node)： 決策的結果\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n以下圖範例來看的話，A就是根節點，C、D、E則是葉節點，剩餘的B就是內部節點\u003c\/p\u003e\n\u003cp\u003e\u003cimg src=\u00223.png\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e本次練習的參考資料：\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\u0022https:\/\/qiita.com\/3000manJPY\/items\/ef7495960f472ec14377\u0022\u003ehttps:\/\/qiita.com\/3000manJPY\/items\/ef7495960f472ec14377\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022https:\/\/qiita.com\/Hawaii\/items\/53efe3e96b1171ebc7db\u0022\u003ehttps:\/\/qiita.com\/Hawaii\/items\/53efe3e96b1171ebc7db\u003c\/a\u003e\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n做好的結果也可直接觀看\u003ca href=\u0022https:\/\/github.com\/mikanbearer\/experiments\/blob\/master\/tree.ipynb\u0022\u003ehttps:\/\/github.com\/mikanbearer\/experiments\/blob\/master\/tree.ipynb\u003c\/a\u003e\u003c\/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022載入測試用的資料集\u0022\u003e載入測試用的資料集\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nscikit-learn提供了很多練習用的資料集方便練習，這次練習使用load_wine()，可以從DESCR查看詳細資料\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e sklearn \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e datasets\n\n\nwine \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e datasets\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eload_wine()\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(wine\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ekeys())\n\u003cspan style=\u0022color:#75715e\u0022\u003e#dict_keys([\u0026#39;data\u0026#39;, \u0026#39;target\u0026#39;, \u0026#39;frame\u0026#39;, \u0026#39;target_names\u0026#39;, \u0026#39;DESCR\u0026#39;, \u0026#39;feature_names\u0026#39;])\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(wine\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eDESCR)\n\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e.. _wine_dataset:\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eWine recognition dataset\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e------------------------\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e**Data Set Characteristics:**\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    :Number of Instances: 178 (50 in each of three classes)\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    :Number of Attributes: 13 numeric, predictive attributes and the class\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    :Attribute Information:\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e \t\t- Alcohol\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e \t\t- Malic acid\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e \t\t- Ash\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\t\t- Alcalinity of ash  \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e \t\t- Magnesium\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\t\t- Total phenols\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e \t\t- Flavanoids\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e \t\t- Nonflavanoid phenols\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e \t\t- Proanthocyanins\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\t\t- Color intensity\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e \t\t- Hue\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e \t\t- OD280\/OD315 of diluted wines\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e \t\t- Proline\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    - class:\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e            - class_0\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e            - class_1\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e            - class_2\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\t\t\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    :Summary Statistics:\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    ============================= ==== ===== ======= =====\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e                                   Min   Max   Mean     SD\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    ============================= ==== ===== ======= =====\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    Alcohol:                      11.0  14.8    13.0   0.8\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    Malic Acid:                   0.74  5.80    2.34  1.12\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    Ash:                          1.36  3.23    2.36  0.27\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    Alcalinity of Ash:            10.6  30.0    19.5   3.3\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    Magnesium:                    70.0 162.0    99.7  14.3\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    Total Phenols:                0.98  3.88    2.29  0.63\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    Flavanoids:                   0.34  5.08    2.03  1.00\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    Nonflavanoid Phenols:         0.13  0.66    0.36  0.12\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    Proanthocyanins:              0.41  3.58    1.59  0.57\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    Colour Intensity:              1.3  13.0     5.1   2.3\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    Hue:                          0.48  1.71    0.96  0.23\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    OD280\/OD315 of diluted wines: 1.27  4.00    2.61  0.71\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    Proline:                       278  1680     746   315\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    ============================= ==== ===== ======= =====\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    :Missing Attribute Values: None\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    :Class Distribution: class_0 (59), class_1 (71), class_2 (48)\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    :Creator: R.A. Fisher\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    :Donor: Michael Marshall (MARSHALL%PLU@io.arc.nasa.gov)\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    :Date: July, 1988\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eThis is a copy of UCI ML Wine recognition datasets.\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003ehttps:\/\/archive.ics.uci.edu\/ml\/machine-learning-databases\/wine\/wine.data\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eThe data is the results of a chemical analysis of wines grown in the same\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eregion in Italy by three different cultivators. There are thirteen different\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003emeasurements taken for different constituents found in the three types of\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003ewine.\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eOriginal Owners: \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eForina, M. et al, PARVUS - \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eAn Extendible Package for Data Exploration, Classification and Correlation. \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eInstitute of Pharmaceutical and Food Analysis and Technologies,\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eVia Brigata Salerno, 16147 Genoa, Italy.\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eCitation:\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eLichman, M. (2013). UCI Machine Learning Repository\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e[https:\/\/archive.ics.uci.edu\/ml]. Irvine, CA: University of California,\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eSchool of Information and Computer Science. \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e.. topic:: References\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  (1) S. Aeberhard, D. Coomans and O. de Vel, \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  Comparison of Classifiers in High Dimensional Settings, \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  Tech. Rep. no. 92-02, (1992), Dept. of Computer Science and Dept. of  \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  Mathematics and Statistics, James Cook University of North Queensland. \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  (Also submitted to Technometrics). \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  The data was used with many others for comparing various \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  classifiers. The classes are separable, though only RDA \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  has achieved 100\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e% c\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eorrect classification. \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  (RDA : 100%, QDA 99.4%, LDA 98.9%, 1NN 96.1% (z-transformed data)) \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  (All results using the leave-one-out technique) \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  (2) S. Aeberhard, D. Coomans and O. de Vel, \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  \u0026#34;THE CLASSIFICATION PERFORMANCE OF RDA\u0026#34; \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  Tech. Rep. no. 92-01, (1992), Dept. of Computer Science and Dept. of \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  Mathematics and Statistics, James Cook University of North Queensland. \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  (Also submitted to Journal of Chemometrics).\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n為了方便練習，用pandas做成DataFrame\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e pandas \u003cspan style=\u0022color:#f92672\u0022\u003eas\u003c\/span\u003e pd\n\n\nwine_data \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e pd\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eDataFrame(data\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003ewine\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003edata, columns\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003ewine\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efeature_names)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(wine_data\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ehead())\n\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e   alcohol  malic_acid   ash  ...   hue  od280\/od315_of_diluted_wines  proline\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e0    14.23        1.71  2.43  ...  1.04                          3.92   1065.0\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e1    13.20        1.78  2.14  ...  1.05                          3.40   1050.0\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e2    13.16        2.36  2.67  ...  1.03                          3.17   1185.0\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e3    14.37        1.95  2.50  ...  0.86                          3.45   1480.0\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e4    13.24        2.59  2.87  ...  1.04                          2.93    735.0\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e[5 rows x 13 columns]\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\u003c\/span\u003e\n\nwine_target \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e pd\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eDataFrame(data\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003ewine\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003etarget)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(wine_target\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ehead())\n\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e   0\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e0  0\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e1  0\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e2  0\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e3  0\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e4  0\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\u003c\/span\u003e\n\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022分割訓練集與測試集\u0022\u003e分割訓練集與測試集\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n在這裡利用train_test_split分割出\u0026quot;訓練集(training set)\u0026ldquo;與\u0026quot;測試集(test set)\u0026quot;，訓練集是模型擬合用的樣本資料，而測試集則是預留下來對結果進行評價\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e sklearn.model_selection \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e train_test_split\n\n\nx_train, x_test, y_train, y_test \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e train_test_split(wine_data, wine_target, test_size\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0.3\u003c\/span\u003e)\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(wine_data\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eshape)\n\u003cspan style=\u0022color:#75715e\u0022\u003e#(178, 13)\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(x_train\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eshape)\n\u003cspan style=\u0022color:#75715e\u0022\u003e#(124, 13)\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(x_test\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eshape)\n\u003cspan style=\u0022color:#75715e\u0022\u003e#(54, 13)\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022實施訓練\u0022\u003e實施訓練\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n這個DecisionTreeClassifier就是咱們的分類器，要使用剛才的資料來訓練模型，就把剛才分出來的訓練集往分類器裡面丟，當然也可以是資料的狀況設定max_depth或max_leaf_nodes，這樣決策樹就完成了，能使用plot_tree()來看看訓練的結果\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e sklearn.tree \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e DecisionTreeClassifier, plot_tree\n\n\nclf \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e DecisionTreeClassifier()\nclf\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efit(x_train, y_train)\n\nplot_tree(clf)\n\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e[Text(136.96363636363637, 195.696, \u0026#39;X[9] \u0026lt;= 3.82\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003egini = 0.657\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003esamples = 124\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003evalue = [39, 51, 34]\u0026#39;),\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e Text(60.872727272727275, 152.208, \u0026#39;X[11] \u0026lt;= 3.73\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003egini = 0.087\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003esamples = 44\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003evalue = [2, 42, 0]\u0026#39;),\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e Text(30.436363636363637, 108.72, \u0026#39;gini = 0.0\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003esamples = 42\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003evalue = [0, 42, 0]\u0026#39;),\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e Text(91.30909090909091, 108.72, \u0026#39;gini = 0.0\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003esamples = 2\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003evalue = [2, 0, 0]\u0026#39;),\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e Text(213.05454545454546, 152.208, \u0026#39;X[11] \u0026lt;= 2.475\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003egini = 0.593\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003esamples = 80\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003evalue = [37, 9, 34]\u0026#39;),\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e Text(152.1818181818182, 108.72, \u0026#39;X[10] \u0026lt;= 0.97\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003egini = 0.056\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003esamples = 35\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003evalue = [0, 1, 34]\u0026#39;),\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e Text(121.74545454545455, 65.232, \u0026#39;gini = 0.0\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003esamples = 34\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003evalue = [0, 0, 34]\u0026#39;),\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e Text(182.61818181818182, 65.232, \u0026#39;gini = 0.0\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003esamples = 1\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003evalue = [0, 1, 0]\u0026#39;),\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e Text(273.92727272727274, 108.72, \u0026#39;X[12] \u0026lt;= 724.5\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003egini = 0.292\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003esamples = 45\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003evalue = [37, 8, 0]\u0026#39;),\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e Text(243.4909090909091, 65.232, \u0026#39;X[1] \u0026lt;= 3.015\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003egini = 0.198\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003esamples = 9\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003evalue = [1, 8, 0]\u0026#39;),\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e Text(213.05454545454546, 21.744, \u0026#39;gini = 0.0\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003esamples = 8\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003evalue = [0, 8, 0]\u0026#39;),\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e Text(273.92727272727274, 21.744, \u0026#39;gini = 0.0\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003esamples = 1\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003evalue = [1, 0, 0]\u0026#39;),\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e Text(304.3636363636364, 65.232, \u0026#39;gini = 0.0\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003esamples = 36\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003evalue = [36, 0, 0]\u0026#39;)]\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cimg src=\u00220.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022繪製決策樹\u0022\u003e繪製決策樹\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n前面的小樹實在慘不忍睹，這裡就用graphviz來將決策樹繪製出來\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e pydotplus\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e IPython.display \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e Image\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e sklearn.tree \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e export_graphviz\n\n\ndot_data \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e export_graphviz(\n    clf,\n    out_file\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eNone,\n    feature_names\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003ewine\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efeature_names,\n    class_names\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003ewine\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003etarget_names,\n    filled\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue,\n    proportion\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue)\ngraph \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e pydotplus\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003egraph_from_dot_data(dot_data)\nImage(graph\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecreate_png())\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cimg src=\u00221.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022評價\u0022\u003e評價\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n經過決策樹分歧產生的預測和測試集中的實際資料對比\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e sklearn.metrics \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e confusion_matrix\n\n\ndf \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e pd\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eDataFrame(confusion_matrix(y_test,clf\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003epredict(x_test)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ereshape(\u003cspan style=\u0022color:#f92672\u0022\u003e-\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e,\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e)))\ndf \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e df\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003erename(columns\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003edict(zip(df\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecolumns, [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;(pre) \u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e name \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e name \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e wine\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003etarget_names])), index\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003edict(zip(df\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecolumns, wine\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003etarget_names)))\ndf\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cimg src=\u00222.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n算出評分，這次勉強還行，因為神經網路的隨機性，有時還會只有0.8左右\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003eclf\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003escore(x_test,y_test)\n\n\u003cspan style=\u0022color:#75715e\u0022\u003e#0.9444444444444444\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e',
    
    
      date: '2020-09-16',
    
    
      tags: '[Python scikit-learn]',
    
    
      categories: '[資料分析]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009151049\/',
    
      title: '【Flask入門練習-CRUD篇4】使用Flask-WTF導入CSRF Protection',
    
    
      summary: '\u003cp\u003e暫定是最後一個入門練習，這次使用Flask-WTF來做CSRF Protection，Flask-WTF是WTForms結合Flask用的module\u003c\/p\u003e',
      content: '\u003cp\u003e暫定是最後一個入門練習，這次使用Flask-WTF來做CSRF Protection，Flask-WTF是WTForms結合Flask用的module\u003c\/p\u003e\n\u003cp\u003e練習的完成品放在\u003ca href=\u0022https:\/\/github.com\/mikanbearer\/flask_crud_example\/tree\/append_flaskform\u0022\u003e這裡\u003c\/a\u003e\u003c\/p\u003e\n\u003cp\u003e首先安裝本篇主題的Flask-WTF及之後修飾用的Flask-Bootstrap\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ pip install flask-wtf flask-bootstrap\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n首先初始化CSRFProtect，並定義好form\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e flask_wtf.csrf \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e CSRFProtect\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e flask_wtf \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e FlaskForm\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e wtforms \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e StringField, PasswordField\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e wtforms.validators \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e DataRequired\n\n\u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\ncsrf \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e CSRFProtect(app) \u003cspan style=\u0022color:#75715e\u0022\u003e#初始化CSRFProtect\u003c\/span\u003e\n\u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#75715e\u0022\u003e#稍後要用的form\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eLoginForm\u003c\/span\u003e(FlaskForm):\n    user \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e StringField(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;user\u0026#39;\u003c\/span\u003e, validators\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[DataRequired()])\n    password \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e PasswordField(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;password\u0026#39;\u003c\/span\u003e, validators\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[DataRequired()])\n\u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n再來從login著手，改成下面的樣子\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/login\u0026#39;\u003c\/span\u003e, methods\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;GET\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;POST\u0026#39;\u003c\/span\u003e])\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elogin\u003c\/span\u003e():\n    form \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e LoginForm()\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e form\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003evalidate_on_submit():\n        user \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e form\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003euser\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003edata\n        password \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e form\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003epassword\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003edata\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003etry\u003c\/span\u003e:\n            \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e password \u003cspan style=\u0022color:#f92672\u0022\u003e==\u003c\/span\u003e admins[user][\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;password\u0026#39;\u003c\/span\u003e]:\n                admin \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Admin()\n                admin\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eid \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e user\n                flask_login\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003elogin_user(admin)\n                \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e redirect(url_for(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;list\u0026#39;\u003c\/span\u003e))\n            \u003cspan style=\u0022color:#66d9ef\u0022\u003eelse\u003c\/span\u003e:\n                error \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;password is incorrect\u0026#39;\u003c\/span\u003e\n\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eexcept\u003c\/span\u003e:\n            error \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;user not found\u0026#39;\u003c\/span\u003e\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003efinally\u003c\/span\u003e:\n            \u003cspan style=\u0022color:#66d9ef\u0022\u003epass\u003c\/span\u003e\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e render_template(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;login.html\u0026#39;\u003c\/span\u003e, form\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eform, error\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eerror)\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e render_template(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;login.html\u0026#39;\u003c\/span\u003e, form\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eform)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n也可以事前加上print來看看object的內容\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e form\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003evalidate_on_submit():\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(form\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003euser)\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(form\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003epassword)\n\u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接著更新template，要記得加上{{ form.csrf_token }}，否則就少一個field，會判定為invalid\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/templates\/login.html\u0022 data-lang=\u0022:app\/templates\/login.html\u0022\u003e...\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;card-body\u0026#34;\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emethod\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;post\u0026#34;\u003c\/span\u003e\u0026gt;\n                        {{ form.csrf_token }}\n                        {{ form.user(size=20) }}\n                        {{ form.password(size=20) }}\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;btn btn-primary\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;submit\u0026#34;\u003c\/span\u003e\u0026gt;Login\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n可以試著看看畫面\u003c\/p\u003e\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022200\u0022 src=\u00221.png\u0022\u003e\r\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nform的source code也會是這樣子，有一個hidden的field\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-html\u0022 data-lang=\u0022html\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emethod\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;post\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;csrf_token\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;csrf_token\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;hidden\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;IjNjODU1NmIyY2U1OTM0MGRkZjNlNDhkY2I1Y2ZkZTRlYzAzZDViZTAi.X2BZJA.gtrg0aIXbMr9p2T5lSc9IlTPjVE\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;user\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;user\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erequired\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esize\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;20\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;text\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;password\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;password\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erequired\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esize\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;20\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;password\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;btn btn-primary\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;submit\u0026#34;\u003c\/span\u003e\u0026gt;Login\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n如果token錯誤就會出現這個畫面\u003c\/p\u003e\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022200\u0022 src=\u00222.png\u0022\u003e\r\n\u003cp\u003e這樣CSRF就可以說是大功告成啦，只是現在還是很醜…\n\u003cbr\u003e\u003c\/br\u003e\n接下來可以利用Flask Bootstrap對WTForms的支援來修飾一下form\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e flask_bootstrap \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e Bootstrap\n\u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\nBoostrap(app)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接著修飾一下template，使用Flask-Bootstrap的話template是寫死的，而WTF的label也不能設定成none，隱藏label最快的方式就是css了\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/templates\/login.html\u0022 data-lang=\u0022:app\/templates\/login.html\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u0026lt;!doctype html\u0026gt;\u003c\/span\u003e\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003elink\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erel\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;stylesheet\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehref\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/maxcdn.bootstrapcdn.com\/bootstrap\/4.0.0\/css\/bootstrap.min.css\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eintegrity\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;sha384-Gn5384xqQ1aoWXA\u002b058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW\/dAiS6JXm\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecrossorigin\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;anonymous\u0026#34;\u003c\/span\u003e\u0026gt;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003estyle\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        .\u003cspan style=\u0022color:#a6e22e\u0022\u003econtrol-label\u003c\/span\u003e {\u003cspan style=\u0022color:#66d9ef\u0022\u003edisplay\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003enone\u003c\/span\u003e;}\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003estyle\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;Flask CRUD Example\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n   \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;container mt-4\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-12\u0026#34;\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;card\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eh5\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;card-header\u0026#34;\u003c\/span\u003e\u0026gt;\n                    Login\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eh5\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;card-body\u0026#34;\u003c\/span\u003e\u0026gt;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emethod\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;post\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003estyle\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;\u0026#34;\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e                        {{ form.csrf_token }}\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e                        {% import \u0026#34;bootstrap\/wtf.html\u0026#34; as wtf %}\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e                        {{ wtf.form_field(form.user) }}\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e                        {{ wtf.form_field(form.password) }}\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;btn btn-primary\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;submit\u0026#34;\u003c\/span\u003e\u0026gt;Login\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e                    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e                    {% if error %}\n                        {{ error }}\n                    {% endif %}\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/code.jquery.com\/jquery-3.2.1.slim.min.js\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eintegrity\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr\/rE9\/Qpg6aAZGJwFDMVNA\/GpGFF93hXpG5KkN\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecrossorigin\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;anonymous\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/popper.js\/1.12.9\/umd\/popper.min.js\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eintegrity\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;sha384-ApNbgh9B\u002bY1QKtv3Rn7W3mgPxhU9K\/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecrossorigin\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;anonymous\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/maxcdn.bootstrapcdn.com\/bootstrap\/4.0.0\/js\/bootstrap.min.js\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eintegrity\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;sha384-JZR6Spejh4U02d8jOt6vLEHfe\/JQGiRRSQQxSfFWpi1MquVdAyjUar5\u002b76PVCmYl\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecrossorigin\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;anonymous\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接著改一下form\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eLoginForm\u003c\/span\u003e(FlaskForm):\n    user \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e StringField(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;user\u0026#39;\u003c\/span\u003e, validators\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[DataRequired()], render_kw\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e{\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;placeholder\u0026#39;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Username\u0026#39;\u003c\/span\u003e})\n    password \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e PasswordField(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;password\u0026#39;\u003c\/span\u003e, validators\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[DataRequired()], render_kw\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e{\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;placeholder\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Password\u0026#39;\u003c\/span\u003e})\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cp\u003eLogin畫面就回到原本的樣子啦\u003c\/p\u003e\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022200\u0022 src=\u00223.png\u0022\u003e\r\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接著就把create、update也比照辦理\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eModelForm\u003c\/span\u003e(FlaskForm):\n    username \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e StringField(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;username\u0026#39;\u003c\/span\u003e, validators\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[DataRequired()])\n    email \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e StringField(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;email\u0026#39;\u003c\/span\u003e, validators\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[DataRequired(), Email()])\n\n\u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/create\u0026#39;\u003c\/span\u003e, methods\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;get\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;post\u0026#39;\u003c\/span\u003e])\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@flask_login.login_required\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecreate\u003c\/span\u003e():\n    form \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e ModelForm()\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e form\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003evalidate_on_submit():\n        username \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e form\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eusername\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003edata\n        email \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e form\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eemail\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003edata\n        user \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e User(username\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eusername, email\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eemail)\n        db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esession\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eadd(user)\n        db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esession\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecommit()\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e redirect(url_for(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;list\u0026#39;\u003c\/span\u003e))\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e render_template(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;form.html\u0026#39;\u003c\/span\u003e, form\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eform)\n\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/update\/\u0026lt;user_id\u0026gt;\u0026#39;\u003c\/span\u003e, methods\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;get\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;post\u0026#39;\u003c\/span\u003e])\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@flask_login.login_required\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eupdate\u003c\/span\u003e(user_id):\n    user \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e User\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003equery\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efilter_by(id\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003euser_id)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efirst()\n    form \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e ModelForm(obj\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003euser)\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e request\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003emethod \u003cspan style=\u0022color:#f92672\u0022\u003e==\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;POST\u0026#39;\u003c\/span\u003e:\n        user\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eusername \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e form\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eusername\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003edata\n        user\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eemail \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e form\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eemail\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003edata\n        db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esession\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eadd(user)\n        db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esession\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecommit()\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e redirect(url_for(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;detail\u0026#39;\u003c\/span\u003e, user_id\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003euser_id))\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e render_template(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;form.html\u0026#39;\u003c\/span\u003e, user\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003euser, form\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eform)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n最後改完template就大功告成\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:\/app\/template\/form.html\u0022 data-lang=\u0022:\/app\/template\/form.html\u0022\u003e{% extends \u0026#39;base.html\u0026#39; %}\n{% block content %}\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;container mt-4\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-12\u0026#34;\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;card\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eh5\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;card-header\u0026#34;\u003c\/span\u003e\u0026gt;\n                    {% if user %}\n                        {% set username, email = user.username, user.email %}\n                        Update: {{ username }}\n                    {% else %}\n                        Create user\n                        {% set username, email = \u0026#39;\u0026#39;, \u0026#39;\u0026#39; %}\n                    {% endif %}\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eh5\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;card-body\u0026#34;\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emethod\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;post\u0026#34;\u003c\/span\u003e\u0026gt;\n                        {{ form.csrf_token }}\n                        {% import \u0026#34;bootstrap\/wtf.html\u0026#34; as wtf %}\n                        {{ wtf.form_field(form.username) }}\n                        {{ wtf.form_field(form.email) }}\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;btn btn-primary\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;submit\u0026#34;\u003c\/span\u003e\u0026gt;Submit\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e\u0026gt;\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n{% endblock %}\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e',
    
    
      date: '2020-09-15',
    
    
      tags: '[Flask Flask-WTF Python]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009141257\/',
    
      title: '【Flask入門練習-CRUD篇3】使用Flask-Login實作登入畫面',
    
    
      summary: '\u003cp\u003e這次實作目標是導入Flask-Login，讓咱們的app受驗證機制保護\u003c\/p\u003e',
      content: '\u003cp\u003e這次實作目標是導入Flask-Login，讓咱們的app受驗證機制保護\u003c\/p\u003e\n\u003cp\u003e完成的source code放在\u003ca href=\u0022https:\/\/github.com\/mikanbearer\/flask_crud_example\/releases\/tag\/append_login_page\u0022\u003e這裡\u003c\/a\u003e\u003c\/p\u003e\n\u003cp\u003e首先下載Flask-Login\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ pip install Flask-Login\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n因為原本測試的model就叫username了，為了避免混淆，login的user叫admin\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e flask_login\n\n\u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\n\nlogin_manager \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e flask_login\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eLoginManager()\nlogin_manager\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003einit_app(app)\n\napp\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esecret_key \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003eb\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;_5#y2L\u0026#34;F4Q8z\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\\xec\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e]\/\u0026#39;\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#75715e\u0022\u003e#測試用的帳號\u003c\/span\u003e\nadmins \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e {\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;testadmin\u0026#39;\u003c\/span\u003e: {\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;password\u0026#39;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;123\u0026#39;\u003c\/span\u003e}}\n\n\u003cspan style=\u0022color:#75715e\u0022\u003e#繼承自UserMixin\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eAdmin\u003c\/span\u003e(flask_login\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eUserMixin):\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003epass\u003c\/span\u003e\n\n\n\u003cspan style=\u0022color:#75715e\u0022\u003e#存放session用\u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@login_manager.user_loader\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003euser_loader\u003c\/span\u003e(admin_name):\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e admin_name \u003cspan style=\u0022color:#f92672\u0022\u003enot\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e admins:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e\n\n    admin \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Admin()\n    admin\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eid \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e admin_name\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e admin\n\n\n    admin \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Admin()\n    admin\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eid \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e admin_name\n    admin\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eis_authenticated \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e request\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eform[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;password\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e==\u003c\/span\u003e admins[admin_name][\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;password\u0026#39;\u003c\/span\u003e]\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e admin\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e這樣login_manager就能動了\n\u003cbr\u003e\u003c\/br\u003e\n接下來加上decorator，就能測試動作了\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/\u0026#39;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@flask_login.login_required\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elist\u003c\/span\u003e():\n    users \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e User\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003equery\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eall()\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e render_template(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;list.html\u0026#39;\u003c\/span\u003e, users\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eusers)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022200\u0022 src=\u00221.png\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n可以使用@unauthorized_handler這個decorator，在Unauthorized時做自己想要的動作，比如redirect，下列的範例是導向回login\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.login_manager.unauthorized_handler\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eunauth\u003c\/span\u003e():\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e redirect(url_for(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;login\u0026#39;\u003c\/span\u003e))\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來增加一個新的view，就是剛才提到的login\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/login\u0026#39;\u003c\/span\u003e, methods\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;GET\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;POST\u0026#39;\u003c\/span\u003e])\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elogin\u003c\/span\u003e():\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e request\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003emethod \u003cspan style=\u0022color:#f92672\u0022\u003e==\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;POST\u0026#39;\u003c\/span\u003e:\n        admin_name \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e request\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eform[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;user\u0026#39;\u003c\/span\u003e]\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003etry\u003c\/span\u003e:\n            \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e request\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eform[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;password\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e==\u003c\/span\u003e admins[admin_name][\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;password\u0026#39;\u003c\/span\u003e]:\n                admin \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Admin()\n                admin\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eid \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e admin_name\n                flask_login\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003elogin_user(admin)\n                \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e redirect(url_for(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;list\u0026#39;\u003c\/span\u003e))\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eexcept\u003c\/span\u003e:\n            \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e render_template(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;login.html\u0026#39;\u003c\/span\u003e, error\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Login Failed\u0026#39;\u003c\/span\u003e)\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e render_template(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;login.html\u0026#39;\u003c\/span\u003e)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e這樣子驗證不過的話，同樣會回到login，成功的話則重新導向到list\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/template\/login.html\u0022 data-lang=\u0022:app\/template\/login.html\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u0026lt;!doctype html\u0026gt;\u003c\/span\u003e\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003elink\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erel\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;stylesheet\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehref\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/maxcdn.bootstrapcdn.com\/bootstrap\/4.0.0\/css\/bootstrap.min.css\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eintegrity\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;sha384-Gn5384xqQ1aoWXA\u002b058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW\/dAiS6JXm\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecrossorigin\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;anonymous\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;Flask CRUD Example\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n   \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;container mt-4\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-12\u0026#34;\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;card\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eh5\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;card-header\u0026#34;\u003c\/span\u003e\u0026gt;\n                    Login\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eh5\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;card-body\u0026#34;\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emethod\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;post\u0026#34;\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;form-group\u0026#34;\u003c\/span\u003e\u0026gt;\n                            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;text\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;user\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eplaceholder\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Username\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;form-control\u0026#34;\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;form-group\u0026#34;\u003c\/span\u003e\u0026gt;\n                            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;text\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;password\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eplaceholder\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Password\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;form-control\u0026#34;\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;btn btn-primary\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;submit\u0026#34;\u003c\/span\u003e\u0026gt;Submit\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e\u0026gt;\n                    {% if error %}\n                        {{ error }}\n                    {% endif %}\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/code.jquery.com\/jquery-3.2.1.slim.min.js\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eintegrity\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr\/rE9\/Qpg6aAZGJwFDMVNA\/GpGFF93hXpG5KkN\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecrossorigin\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;anonymous\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/popper.js\/1.12.9\/umd\/popper.min.js\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eintegrity\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;sha384-ApNbgh9B\u002bY1QKtv3Rn7W3mgPxhU9K\/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecrossorigin\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;anonymous\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/maxcdn.bootstrapcdn.com\/bootstrap\/4.0.0\/js\/bootstrap.min.js\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eintegrity\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;sha384-JZR6Spejh4U02d8jOt6vLEHfe\/JQGiRRSQQxSfFWpi1MquVdAyjUar5\u002b76PVCmYl\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecrossorigin\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;anonymous\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e到這裡login就算完成了\n\u003cbr\u003e\u003c\/br\u003e\n接下來就是logout，這次做簡單一點，就直接導向回login\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/logout\u0026#39;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elogout\u003c\/span\u003e():\n    flask_login\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003elogout_user()\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e redirect(url_for(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;login\u0026#39;\u003c\/span\u003e))\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接著在base.html上增加logout的按鈕\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/templates\/base.html\u0022 data-lang=\u0022:app\/templates\/base.html\u0022\u003e    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eul\u003c\/span\u003e\u0026gt;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    {% if current_user.is_authenticated %}\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      Hi, {{ current_user.id }}!\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;btn btn-primary btn-sm ml-2\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erole\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;button\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehref\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e{{\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_for\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e(\u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003elogout\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\u0026#39;)\u003c\/span\u003e \u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e}}\u003c\/span\u003e\u0026gt;Logout\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    {% endif %}\n\u003c\/span\u003e  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003enav\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n再適當的用@flask_login.login_required來修飾其他的頁面，就能看看成果了\u003c\/p\u003e\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022200\u0022 src=\u00222.png\u0022\u003e\r\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022200\u0022 src=\u00223.png\u0022\u003e\r\n\u003cp\u003e其實還不算太難看吧？\u003c\/p\u003e',
    
    
      date: '2020-09-14',
    
    
      tags: '[Flask Flask-Login Python]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009111635\/',
    
      title: '【Flask入門練習-CRUD篇2】製作簡單的CRUD',
    
    
      summary: '\u003cp\u003e經過了前面的練習，咱們的小App已經有了ORM，既然有了ORM，不做成CRUD(Create、Read、Update、Delete)怎麼行？\u003c\/p\u003e\n\u003cp\u003e所以繼續動手做\u003c\/p\u003e',
      content: '\u003cp\u003e經過了前面的練習，咱們的小App已經有了ORM，既然有了ORM，不做成CRUD(Create、Read、Update、Delete)怎麼行？\u003c\/p\u003e\n\u003cp\u003e所以繼續動手做\u003c\/p\u003e\n\u003cp\u003e完成的source code放在\u003ca href=\u0022https:\/\/github.com\/mikanbearer\/flask_crud_example\/releases\/tag\/simple_crud\u0022\u003e這裡\u003c\/a\u003e\u003c\/p\u003e\n\u003cp\u003e這次主要在於練習template的搭配，為省下初期佈建的麻煩，多加上Flask-Migrate簡化初期的部屬步驟，這樣就不需要用python shell來操作了\u003c\/p\u003e\n\u003cp\u003e首先安裝Flask-Migrate\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003epip install Flask-Migrate\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n在app中增加Migrate\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e flask \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e Flask, request, render_template\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e flask_sqlalchemy \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e SQLAlchemy\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e flask_migrate \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e Migrate\n\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e datetime \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e datetime\n\napp \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Flask(__name__)\napp\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003econfig[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;SQLALCHEMY_DATABASE_URI\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;sqlite:\/\/\/app.db?check_same_thread=False\u0026#39;\u003c\/span\u003e\ndb \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e SQLAlchemy(app)\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003emigrate \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Migrate(app, db)\n\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eUser\u003c\/span\u003e(db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eModel):\n    id \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eColumn(db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eInteger, primary_key\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue)\n    username \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eColumn(db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eString(\u003cspan style=\u0022color:#ae81ff\u0022\u003e80\u003c\/span\u003e), unique\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue, nullable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse)\n    email \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eColumn(db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eString(\u003cspan style=\u0022color:#ae81ff\u0022\u003e120\u003c\/span\u003e), unique\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue, nullable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse)\n    created_at \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eColumn(db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eDateTime, nullable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse, default\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003edatetime\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003enow)\n    updated_at \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eColumn(db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eDateTime, nullable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse, default\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003edatetime\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003enow, onupdate\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003edatetime\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003enow)\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e __repr__(self):\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026lt;User \u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e%r\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026gt;\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e%\u003c\/span\u003e self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eusername\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n之後輸入指令\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ flask db init\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n這樣目錄中會產生migrations\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e.\r\n│  run.py\r\n│\r\n├─app\r\n│     app.py\r\n│\r\n└─migrations\r\n      alembic.ini\r\n      env.py\r\n      README\r\n      script.py.mako\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來輸入以下指令就能寫進db了\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ flask db upgrade\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來就開始把app完成，首先是必要的模組與第一個view，也就是list\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-app:app.py\u0022 data-lang=\u0022app:app.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e flask \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e Flask, request, render_template, redirect, url_for \u003cspan style=\u0022color:#75715e\u0022\u003e#redirect為重新導向用，url_for能將name轉換成url\u003c\/span\u003e\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e flask_sqlalchemy \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e SQLAlchemy\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e flask_migrate \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e Migrate\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e datetime \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e datetime\n\n\u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/\u0026#39;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elist\u003c\/span\u003e():\n    users \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e User\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003equery\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eall()\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e render_template(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;list.html\u0026#39;\u003c\/span\u003e, users\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eusers)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e只是一個很普通的get\n\u003cbr\u003e\u003c\/br\u003e\n接下來就是template，這次用{% extend %}來節省一下文件行數，畢竟head和script都是會重複的部分，這次範例使用bootstrap4來儘量讓版面好看\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/templates\/base.html\u0022 data-lang=\u0022:app\/templates\/base.html\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u0026lt;!doctype html\u0026gt;\u003c\/span\u003e\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003elink\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erel\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;stylesheet\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehref\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/maxcdn.bootstrapcdn.com\/bootstrap\/4.0.0\/css\/bootstrap.min.css\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eintegrity\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;sha384-Gn5384xqQ1aoWXA\u002b058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW\/dAiS6JXm\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecrossorigin\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;anonymous\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;Flask CRUD Example\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003enav\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;navbar navbar-expand-lg navbar-light bg-light\u0026#34;\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;navbar-brand\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehref\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;{{ url_for(\u0026#39;list\u0026#39;) }}\u0026#34;\u003c\/span\u003e\u0026gt;Flask CRUD Example\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;navbar-toggler\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;button\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003edata-toggle\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;collapse\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003edata-target\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;#navbarText\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003earia-controls\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;navbarText\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003earia-expanded\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;false\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003earia-label\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Toggle navigation\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003espan\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;navbar-toggler-icon\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003espan\u003c\/span\u003e\u0026gt;\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;collapse navbar-collapse\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;navbarText\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eul\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;navbar-nav mr-auto\u0026#34;\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;nav-item\u0026#34;\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;nav-link\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehref\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e{{\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_for\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e(\u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003elist\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\u0026#39;)\u003c\/span\u003e \u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e}}\u003c\/span\u003e\u0026gt;List\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e\u0026gt; {# link to list #}\n      \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;nav-item\u0026#34;\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;nav-link\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehref\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e{{\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_for\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e(\u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003ecreate\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\u0026#39;)\u003c\/span\u003e \u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e}}\u003c\/span\u003e\u0026gt;Create\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e\u0026gt; {# link to create #}\n      \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eul\u003c\/span\u003e\u0026gt;\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003enav\u003c\/span\u003e\u0026gt;\n    {% block content %}\n    {% endblock %}\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/code.jquery.com\/jquery-3.2.1.slim.min.js\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eintegrity\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr\/rE9\/Qpg6aAZGJwFDMVNA\/GpGFF93hXpG5KkN\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecrossorigin\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;anonymous\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/popper.js\/1.12.9\/umd\/popper.min.js\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eintegrity\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;sha384-ApNbgh9B\u002bY1QKtv3Rn7W3mgPxhU9K\/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecrossorigin\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;anonymous\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/maxcdn.bootstrapcdn.com\/bootstrap\/4.0.0\/js\/bootstrap.min.js\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eintegrity\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;sha384-JZR6Spejh4U02d8jOt6vLEHfe\/JQGiRRSQQxSfFWpi1MquVdAyjUar5\u002b76PVCmYl\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecrossorigin\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;anonymous\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e為求簡單，就只切一個名為content的block\n\u003cbr\u003e\u003c\/br\u003e\n接下來的才是list用的template本體\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/templates\/list.html\u0022 data-lang=\u0022:app\/templates\/list.html\u0022\u003e{% extends \u0026#39;base.html\u0026#39; %}\n{% block content %}\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;container mt-4\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-12\u0026#34;\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;card\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eh5\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;card-header\u0026#34;\u003c\/span\u003e\u0026gt;\n                    List\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eh5\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;card-body\u0026#34;\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eul\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;list-group\u0026#34;\u003c\/span\u003e\u0026gt;\n                        {% for user in users %}\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;list-group-item\u0026#34;\u003c\/span\u003e\u0026gt;\n                            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n                                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-3\u0026#34;\u003c\/span\u003e\u0026gt;\n                                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;Name\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n                                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-9\u0026#34;\u003c\/span\u003e\u0026gt;\n                                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;{{ user.username }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n                                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n                                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-3\u0026#34;\u003c\/span\u003e\u0026gt;\n                                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;Created at\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n                                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-9\u0026#34;\u003c\/span\u003e\u0026gt;\n                                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;{{user.created_at}}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n                                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n                                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-12\u0026#34;\u003c\/span\u003e\u0026gt;\n                                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;float-right\u0026#34;\u003c\/span\u003e\u0026gt;\n                                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;btn btn-primary\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehref\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;{{ url_for(\u0026#39;detail\u0026#39;, user_id=user.id) }}\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erole\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;button\u0026#34;\u003c\/span\u003e\u0026gt;Detail\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e\u0026gt;\n                                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;btn btn-primary\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehref\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;{{ url_for(\u0026#39;update\u0026#39;, user_id=user.id) }}\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erole\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;button\u0026#34;\u003c\/span\u003e\u0026gt;Update\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e\u0026gt;\n                                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;btn btn-primary\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehref\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;{{ url_for(\u0026#39;delete\u0026#39;, user_id=user.id) }}\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erole\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;button\u0026#34;\u003c\/span\u003e\u0026gt;Delete\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e\u0026gt;\n                                    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e\u0026gt;\n                        {% endfor %}\n                    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eul\u003c\/span\u003e\u0026gt;\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n下一個view是create，因為template能和update共用，所以就一併做\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/create\u0026#39;\u003c\/span\u003e, methods\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;get\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;post\u0026#39;\u003c\/span\u003e])\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecreate\u003c\/span\u003e():\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e request\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003emethod \u003cspan style=\u0022color:#f92672\u0022\u003e==\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;POST\u0026#39;\u003c\/span\u003e:\n        username \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e request\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eform[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;username\u0026#39;\u003c\/span\u003e]\n        email \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e request\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eform[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;email\u0026#39;\u003c\/span\u003e]\n        user \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e User(username\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eusername, email\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eemail)\n        db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esession\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eadd(user)\n        db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esession\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecommit()\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e redirect(url_for(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;list\u0026#39;\u003c\/span\u003e))\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e render_template(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;form.html\u0026#39;\u003c\/span\u003e)\n\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/update\/\u0026lt;user_id\u0026gt;\u0026#39;\u003c\/span\u003e, methods\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;get\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;post\u0026#39;\u003c\/span\u003e])\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eupdate\u003c\/span\u003e(user_id):\n    user \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e User\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003equery\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efilter_by(id\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003euser_id)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efirst()\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e request\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003emethod \u003cspan style=\u0022color:#f92672\u0022\u003e==\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;POST\u0026#39;\u003c\/span\u003e:\n        user\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eusername \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e request\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eform[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;username\u0026#39;\u003c\/span\u003e]\n        user\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eemail \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e request\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eform[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;email\u0026#39;\u003c\/span\u003e]\n        db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esession\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eadd(user)\n        db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esession\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecommit()\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e redirect(url_for(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;list\u0026#39;\u003c\/span\u003e))\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e render_template(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;form.html\u0026#39;\u003c\/span\u003e, user\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003euser)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e兩個基本上都有GET、POST兩個method，而update在get的時候會返回user\n\u003cbr\u003e\u003c\/br\u003e\n接下來是共通的template\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/templates\/form.html\u0022 data-lang=\u0022:app\/templates\/form.html\u0022\u003e{% extends \u0026#39;base.html\u0026#39; %}\n{% block content %}\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;container mt-4\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-12\u0026#34;\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;card\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eh5\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;card-header\u0026#34;\u003c\/span\u003e\u0026gt;\n                    {% if user %}\n                        {% set username, email = user.username, user.email %} {# set username及email兩個變數 #}\n                        Update: {{ username }}\n                    {% else %}\n                        Create user\n                        {% set username, email = \u0026#39;\u0026#39;, \u0026#39;\u0026#39; %} {# 若無user(也就是在create時)則為空白 #}\n                    {% endif %}\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eh5\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;card-body\u0026#34;\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emethod\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;post\u0026#34;\u003c\/span\u003e\u0026gt; {# 將username及email都放進input內的value這個attr #}\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;form-group\u0026#34;\u003c\/span\u003e\u0026gt;\n                            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003elabel\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efor\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;username\u0026#34;\u003c\/span\u003e\u0026gt;Username\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003elabel\u003c\/span\u003e\u0026gt;\n                            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;text\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;username\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;username\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;{{ username }}\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;form-control\u0026#34;\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;form-group\u0026#34;\u003c\/span\u003e\u0026gt;\n                            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003elabel\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efor\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;email\u0026#34;\u003c\/span\u003e\u0026gt;Email\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003elabel\u003c\/span\u003e\u0026gt;\n                            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;text\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;email\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;email\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;{{ email }}\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;form-control\u0026#34;\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;btn btn-primary\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;submit\u0026#34;\u003c\/span\u003e\u0026gt;Submit\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e\u0026gt;\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n{% endblock %}\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n最後就剩下detail和delete了，delate長得會有點像update\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/detail\/\u0026lt;user_id\u0026gt;\u0026#39;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003edetail\u003c\/span\u003e(user_id):\n    user \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e User\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003equery\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efilter_by(id\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003euser_id)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efirst()\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e render_template(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;detail.html\u0026#39;\u003c\/span\u003e, user\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003euser)\n\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/delete\/\u0026lt;user_id\u0026gt;\u0026#39;\u003c\/span\u003e, methods\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;get\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;post\u0026#39;\u003c\/span\u003e])\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003edelete\u003c\/span\u003e(user_id):\n    user \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e User\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003equery\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efilter_by(id\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003euser_id)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efirst()\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e request\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003emethod \u003cspan style=\u0022color:#f92672\u0022\u003e==\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;POST\u0026#39;\u003c\/span\u003e:\n        db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esession\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003edelete(user)\n        db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esession\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecommit()\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e redirect(url_for(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;list\u0026#39;\u003c\/span\u003e))\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e render_template(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;detail.html\u0026#39;\u003c\/span\u003e, user\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003euser)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\ntemplate也能共用\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/templates\/detail.html\u0022 data-lang=\u0022:app\/templates\/detail.html\u0022\u003e{% extends \u0026#39;base.html\u0026#39; %}\n{% block content %}\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;container mt-4\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-12\u0026#34;\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;card\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eh5\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;card-header\u0026#34;\u003c\/span\u003e\u0026gt;\n                    {% if \u0026#39;delete\u0026#39; in request.path %}\n                        Delete:\n                    {% else %}\n                        Detail:\n                    {% endif %}\n                    {{ user.username }}\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eh5\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;card-body\u0026#34;\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-3\u0026#34;\u003c\/span\u003e\u0026gt;\n                            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;Username\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-9\u0026#34;\u003c\/span\u003e\u0026gt;\n                            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;{{ user.username }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-3\u0026#34;\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;Email\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-9\u0026#34;\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;{{ user.email }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-3\u0026#34;\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;Created at\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-9\u0026#34;\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;{{ user.created_at }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-3\u0026#34;\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;Updated at\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-9\u0026#34;\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;{{ user.updated_at}}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                {% if \u0026#39;delete\u0026#39; in request.path %} {# 當request.path包含delete時才出現的form #}\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emethod\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;post\u0026#34;\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;btn btn-primary\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;submit\u0026#34;\u003c\/span\u003e\u0026gt;Delete\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e\u0026gt;\n                {% endif %}\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n{% endblock %}\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e到此就算大功告成啦！\n\u003cbr\u003e\u003c\/br\u003e\n也能從browser看看成果了\u003c\/p\u003e\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022150\u0022 src=\u00221.png\u0022\u003e\r\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022150\u0022 src=\u00222.png\u0022\u003e\r\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022150\u0022 src=\u00223.png\u0022\u003e\r\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022150\u0022 src=\u00224.png\u0022\u003e\r\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n但是到目前為止這App還不算完整，畢竟毫無安全性可言，下次就要加上CSRF了\u003c\/p\u003e',
    
    
      date: '2020-09-11',
    
    
      tags: '[Flask Flask-Migrate Python]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009101608\/',
    
      title: '安裝並嘗試使用Arista ZTPServer',
    
    
      summary: '\u003cp\u003e繼之前在架設lab的過程中被許許多多的狀況「折磨」過後(參照\u003ca href=\u0022https:\/\/mikanbearer.github.io\/posts\/202007241554\/\u0022\u003e這裡\u003c\/a\u003e)，終於找到時間接續下去了，這次就來部屬\u003ca href=\u0022https:\/\/github.com\/arista-eosplus\/ztpserver\u0022\u003eArista ZTPServer\u003c\/a\u003e，並稍微驗證一下client與server之間的動作，以確定正常能用\n，畢竟就算是最新的1.5.0版也很久沒更新了\u003c\/p\u003e',
      content: '\u003cp\u003e繼之前在架設lab的過程中被許許多多的狀況「折磨」過後(參照\u003ca href=\u0022https:\/\/mikanbearer.github.io\/posts\/202007241554\/\u0022\u003e這裡\u003c\/a\u003e)，終於找到時間接續下去了，這次就來部屬\u003ca href=\u0022https:\/\/github.com\/arista-eosplus\/ztpserver\u0022\u003eArista ZTPServer\u003c\/a\u003e，並稍微驗證一下client與server之間的動作，以確定正常能用\n，畢竟就算是最新的1.5.0版也很久沒更新了\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\u0022#1\u0022\u003e安裝ZTPServer與DHCP Server\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022#2\u0022\u003e在ENE-NG上建立vEOS Switch\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022#3\u0022\u003e驗證ZTPServer動作\u003c\/a\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e這次虛擬機版本如下：\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003eDebian 10\u003c\/li\u003e\n\u003cli\u003eEVE-NG 2.0.3-110\u003c\/li\u003e\n\u003cli\u003evEOS 4.20.15M\n\u003cbr\u003e\u003c\/br\u003e\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e看一下python2版本\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ python --version\nPython 2.7.16\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022p-id1安裝ztpserver與dhcp-serverp\u0022\u003e\u003cp id=1\u003e安裝ZTPServer與DHCP Server\u003c\/p\u003e\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n首先用安裝必要的包\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e# apt install git python-pip libyaml-dev isc-dhcp-server\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nztpserver在安裝過程中會用pip下載所需的套件，這裡已經事先偷看過requirements.txt了\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:requirements.txt\u0022 data-lang=\u0022:requirements.txt\u0022\u003ewebob\nroutes\npyyaml\nrequests\nsleekxmpp    # dev only\nmock         # dev only\njsonrpclib   # dev only\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n需要留意的是libyaml-dev要記得裝，否則安裝PyYAML的時候會跳出的小錯誤會很容易忽略，後續影響為何還要再觀察\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-text\u0022 data-lang=\u0022text\u0022\u003eSearching for pyyaml\nReading https:\/\/pypi.org\/simple\/pyyaml\/\nDownloading https:\/\/files.pythonhosted.org\/packages\/64\/c2\/b80047c7ac2478f9501676c988a5411ed5572f35d1beff9cae07d321512c\/PyYAML-5.3.1.tar.gz#sha256=b8eac752c5e14d3eca0e6dd9199cd627518cb5ec06add0de9d32baeee6fe645d\nBest match: PyYAML 5.3.1\nProcessing PyYAML-5.3.1.tar.gz\nWriting \/tmp\/easy_install-DJq89r\/PyYAML-5.3.1\/setup.cfg\nRunning PyYAML-5.3.1\/setup.py -q bdist_egg --dist-dir \/tmp\/easy_install-DJq89r\/PyYAML-5.3.1\/egg-dist-tmp-mJzK1J\nIn file included from ext\/_yaml.c:596:\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003eext\/_yaml.h:2:10: fatal error: yaml.h: No such file or directory\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e #include \u0026lt;yaml.h\u0026gt;\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來設定DHCP Server，在\/etc\/default\/isc-dhcp-server中找到以下兩行並修改\u003c\/p\u003e\n\u003cpre\u003e\u003ccode class=\u0022language-:\/etc\/default\/isc-dhcp-server\u0022 data-lang=\u0022:\/etc\/default\/isc-dhcp-server\u0022\u003e...\nDHCPDv4_CONF=\/etc\/dhcp\/dhcpd.conf\n...\nINTERFACESv4=\u0026quot;ens33\u0026quot;\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n注意listen interface，這裡是ens33\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ ip link show\n1: lo: \u0026lt;LOOPBACK,UP,LOWER_UP\u0026gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000\n    link\/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n2: ens33: \u0026lt;BROADCAST,MULTICAST,UP,LOWER_UP\u0026gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000\n    link\/ether 00:0c:29:58:88:13 brd ff:ff:ff:ff:ff:ff\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n再來就是到\/etc\/dhcp\/dhcpd.conf加入下列設定，這次沒用到的部分就先註解掉了\u003c\/p\u003e\n\u003cpre\u003e\u003ccode class=\u0022language-:\/etc\/dhcp\/dhcpd.conf\u0022 data-lang=\u0022:\/etc\/dhcp\/dhcpd.conf\u0022\u003e...\nsubnet 192.168.171.0 netmask 255.255.255.0 {\n  range 192.168.171.200 192.168.171.205;\n  option routers 192.168.171.2;\n  #option domain-name-servers \u0026lt;ipaddr\u0026gt;;\n  #option domain-name \u0026quot;\u0026lt;org\u0026gt;\u0026quot;;\n\n  # Only return the bootfile-name to Arista devices\n  class \u0026quot;Arista\u0026quot; {\n    match if substring(option vendor-class-identifier, 0, 6) = \u0026quot;Arista\u0026quot;;\n    # Interesting bits:\n    # Relay agent IP address\n    # Option-82: Agent Information\n    #     Suboption 1: Circuit ID\n    #       Ex: 45:74:68:65:72:6e:65:74:31 ==\u0026gt; Ethernet1\n    option bootfile-name \u0026quot;http:\/\/192.168.171.127:8080\/bootstrap\u0026quot;;\n  }\n}\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003eDHCP Server告一段落了\n\u003cbr\u003e\u003c\/br\u003e\n接下來是ztpserver，如果用pip的話會比較快速\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ pip install ztpserver\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n但這裡貪圖git裡面的各種設定及範本，所以還是用git clone的方式\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ git\n$ git clone https:\/\/github.com\/arista-eosplus\/ztpserver.git\n$ cd ztpserver\/\n$ python setup.py build\n$ python setup.py install\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cp\u003e安裝完成就可以啟動了\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003eztps\n\u003c\/code\u003e\u003c\/pre\u003e\u003ch3 id=\u0022p-id2在ene-ng上建立veos-switchp\u0022\u003e\u003cp id=2\u003e在ENE-NG上建立vEOS Switch\u003c\/p\u003e\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接著準備client，使用EVE，開起web console後就建立一個node\n\u003cimg src=\u00221.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\ntemplate選擇Arista，vEOS版本選擇4.20.15M，這是個人測試問題最少的幾個版本中最新的\n\u003cimg src=\u00222.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n建立network\n\u003cimg src=\u00223.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n選擇Cloud0，讓EVE內的QEMU虛擬機能出HOST\n\u003cimg src=\u00224.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n接下來從node那裏把線拉上network\n\u003cimg src=\u00226.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n選擇node的managent 1來作為管理之用是理所當然的吧？\n\u003cimg src=\u00227.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n完成後就可以開機了\n\u003cimg src=\u00228.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022p-id3使用static-provisioning驗證ztpserver動作p\u0022\u003e\u003cp id=3\u003e使用Static Provisioning驗證ZTPServer動作\u003c\/p\u003e\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來終於要進入正題了，首先打開switch的console，預設user是admin，無密碼，先來收集我們要的資料\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-text\u0022 data-lang=\u0022text\u0022\u003elocalhost\u0026gt;show zerotouch \nZeroTouch Mode: Disabled\nScript Exec Timeout: 900\n\n\nlocalhost\u0026gt;show version\nArista vEOS\nHardware version:    \nSerial number:       \n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003eSystem MAC address:  5000.00d7.ee0b\n\u003c\/span\u003e\nSoftware image version: 4.20.15M\nArchitecture:           i386\nInternal build version: 4.20.15M-13793783.42015M\nInternal build ID:      93912965-5173-490d-8662-ecb360cf75a0\n\nUptime:                 0 weeks, 0 days, 0 hours and 2 minutes\nTotal memory:           2016840 kB\nFree memory:            1397076 kB\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003ezerotouch預設是disable的，EOS的機制是當startup-config為空，才會啟動agent，這裡先記下system mac address\n\u003cbr\u003e\u003c\/br\u003e\n接下來就把start-config刪了吧\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003elocalhost\u0026gt; enable\nlocalhost# write erase\nProceed with erasing startup configuration? [confirm] y\nlocalhost# reload\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n開好機就會看到agent在動了\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003elocalhost login: Sep 10 15:24:03 localhost ConfigAgent: %ZTP-6-DHCPv4_QUERY: Sending DHCPv4 request on  [ Ethernet1, Ethernet2, Ethernet3, Ethernet4, Ethernet5, Ethernet6, Ethernet7, Ethernet8, Management1 ]\nSep 10 15:24:05 localhost ConfigAgent: %ZTP-6-DHCPv4_SUCCESS: DHCPv4 response received on Management1  [ Ip Address: 192.168.171.200\/24\/24; Domain: example.org; Gateway: 192.168.171.2; Boot File: http:\/\/192.168.171.127:8080\/bootstrap ]\nSep 10 15:24:10 localhost ConfigAgent: %ZTP-6-CONFIG_DOWNLOAD: Attempting to download the startup-config from http:\/\/192.168.171.127:8080\/bootstrap\nSep 10 15:24:10 localhost ConfigAgent: %ZTP-4-CONFIG_DOWNLOAD_FAIL: Failed to download the startup-config from http:\/\/192.168.171.127:8080\/bootstrap. Error: Couldn\u0027t connect to server\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nzerotouch也變成active\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003elocalhost\u0026gt;show zerotouch \n\nZeroTouch Mode: Active\nScript Exec Timeout: 900\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來準備設定ZTPServer，找到這行，改成systemmac，這個設定是從agent的request header帶的值選擇去存取哪個目錄的資源，虛擬機沒serial number所以用mac\u003c\/p\u003e\n\u003cpre\u003e\u003ccode class=\u0022language-:\/etc\/ztpserver\/ztpserver.conf\u0022 data-lang=\u0022:\/etc\/ztpserver\/ztpserver.conf\u0022\u003e...\nidentifier = systemmac\n...\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nZTPServer預設的資源目錄是\/usr\/share\/ztpserver，接下來就來建立給client用的資源\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e# cd \/usr\/share\/ztpserver\/nodes\/\n# mkdir 500000d7ee0b\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n這是測試用的startup-config，如果成功的話，agent會把這個檔案寫進flash\u003c\/p\u003e\n\u003cpre\u003e\u003ccode class=\u0022language-:500000d7ee0b\/startup-config\u0022 data-lang=\u0022:500000d7ee0b\/startup-config\u0022\u003e!\nhostname test-node-1\n!\nusername admin privilege 15 role network-admin secret admin\n!\ninterface Management1\n ip address 192.168.171.210\/24\n!\nip access-list open\n 10 permit ip any any\n!\nip route 0.0.0.0\/0 192.168.171.2\n!\nip routing\n!\nmanagement api http-commands\n no shutdown\n!\nbanner login\nWelcome to $(hostname)!\nThis switch has been provisioned using the ZTPServer from Arista Networks\nDocs: http:\/\/ztpserver.readthedocs.org\/\nSource Code: https:\/\/github.com\/arista-eosplus\/ztpserver\nEOF\n!\nend\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n再來是pattern，這是用來檢查topology用的檔案，如果不符合的話就無法存取到bootstrap file，若照\u003ca href=\u0022https:\/\/ztpserver.readthedocs.io\/en\/master\/cookbook\/staticNodes.html#create-a-pattern-topology-validation-enabled\u0022\u003e官方文件\u003c\/a\u003e裡的範例是有LLDP的話是使用any: any:any，但這裡沒LLDP所以用none，否則interface會被判定不符合\u003c\/p\u003e\n\u003cpre\u003e\u003ccode class=\u0022language-:500000d7ee0b\/pattern\u0022 data-lang=\u0022:500000d7ee0b\/pattern\u0022\u003e---\nname: static_node\ninterfaces:\n  - none: none:none\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n完成之後就可以再次啟動\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ ztps\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n可以看到switch上有startup-config，且和剛才建立的一模一樣，這樣的就能確定ZTPServer可以用啦\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e\nlocalhost#show startup-config \n! Command: show startup-config\n!\nhostname test-node-1\n!\nusername admin privilege 15 role network-admin secret admin\n!\ninterface Management1\n ip address 192.168.171.210\/24\n!\nip access-list open\n 10 permit ip any any\n!\nip route 0.0.0.0\/0 192.168.171.2\n!\nip routing\n!\nmanagement api http-commands\n no shutdown\n!\nbanner login\nWelcome to $(hostname)!\nThis switch has been provisioned using the ZTPServer from Arista Networks\nDocs: http:\/\/ztpserver.readthedocs.org\/\nSource Code: https:\/\/github.com\/arista-eosplus\/ztpserver\nEOF\n!\nend\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e之後有時間再做詳細一點的練習\u003c\/p\u003e',
    
    
      date: '2020-09-10',
    
    
      tags: '[EVE-NG vEOS ZTPServer]',
    
    
      categories: '[運維管理]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009091346\/',
    
      title: '【Python資料分析練習-入門篇2】自然語言處理與機器學習',
    
    
      summary: '\u003cp\u003e這次的練習就稍微複雜一點，使用的是機械學習常用的工具scikit-learn，一樣是朝著可視化的目標前進，所以也會做張圖…\u003c\/p\u003e',
      content: '\u003cp\u003e這次的練習就稍微複雜一點，使用的是機械學習常用的工具scikit-learn，一樣是朝著可視化的目標前進，所以也會做張圖…\u003c\/p\u003e\n\u003cp\u003e這次的主要步驟大概如下：\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\u0022#1\u0022\u003e使用\u0026quot;結巴\u0026quot;進行分詞\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022#2\u0022\u003e使用scikit-learn進行線性預測\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022#3\u0022\u003e使用Pandas製作DataFrame\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022#4\u0022\u003e使用seaborn進行可視化\u003c\/a\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e首先準備好環境\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003epip install jieba sklearn pandas seaborn matplotlib \r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022p-id1使用結巴進行分詞p\u0022\u003e\u003cp id=1\u003e使用\u0026quot;結巴\u0026quot;進行分詞\u003c\/p\u003e\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n延續前面的範例檔案，先來回顧一下爬回來的json中，裡面的key為何\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e json\n\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003ewith\u003c\/span\u003e open(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;pttgossip.json\u0026#39;\u003c\/span\u003e) \u003cspan style=\u0022color:#66d9ef\u0022\u003eas\u003c\/span\u003e f:\n    posts \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e json\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eload(f)\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(posts[\u003cspan style=\u0022color:#ae81ff\u0022\u003e100\u003c\/span\u003e]\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ekeys())\n\u003cspan style=\u0022color:#75715e\u0022\u003e#dict_keys([\u0026#39;title\u0026#39;, \u0026#39;author\u0026#39;, \u0026#39;date\u0026#39;, \u0026#39;content\u0026#39;, \u0026#39;comments\u0026#39;, \u0026#39;score\u0026#39;, \u0026#39;url\u0026#39;])\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(posts[\u003cspan style=\u0022color:#ae81ff\u0022\u003e100\u003c\/span\u003e][\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;comments\u0026#39;\u003c\/span\u003e][\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e]\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ekeys())\n\u003cspan style=\u0022color:#75715e\u0022\u003e#dict_keys([\u0026#39;user\u0026#39;, \u0026#39;score\u0026#39;, \u0026#39;content\u0026#39;])\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來利用\u0026quot;結巴分詞\u0026quot;來分斷個別貼文的詞並計數，並把結果append到一個list內，分數也比照辦理\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e jieba\n\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e json\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e collections \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e defaultdict\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003ewith\u003c\/span\u003e open(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;pttgossip.json\u0026#39;\u003c\/span\u003e) \u003cspan style=\u0022color:#66d9ef\u0022\u003eas\u003c\/span\u003e f:\n    posts \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e json\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eload(f)\n\n\nseg_posts \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [] \u003cspan style=\u0022color:#75715e\u0022\u003e#處理過的貼文列表\u003c\/span\u003e\np_scores \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [] \u003cspan style=\u0022color:#75715e\u0022\u003e#分數列表\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e post \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e posts:\n    words \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e defaultdict(int) \u003cspan style=\u0022color:#75715e\u0022\u003e#初始化dict\u003c\/span\u003e\n    content \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e post[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;content\u0026#39;\u003c\/span\u003e]\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e post[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e!=\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e line \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e content\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esplit(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u003c\/span\u003e): \u003cspan style=\u0022color:#75715e\u0022\u003e#以行為單位分詞\u003c\/span\u003e\n            \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e line:\n                \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e word \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e jieba\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecut(line):\n                    words[word] \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b=\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e len(words) \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e:\n            seg_posts\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eappend(words)\n            p_scores\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eappend(\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e post[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eelse\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n也使用同樣的思路處理每篇貼文的回覆\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003eseg_comments \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e []\nc_scores \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e []\n\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e post \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e posts:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e comment \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e post[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;comments\u0026#39;\u003c\/span\u003e]:\n        words \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e defaultdict(int)\n        line \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e comment[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;content\u0026#39;\u003c\/span\u003e]\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003estrip()\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e line \u003cspan style=\u0022color:#f92672\u0022\u003eand\u003c\/span\u003e comment[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e!=\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e:\n            \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e word \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e jieba\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecut(line):\n                words[word] \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b=\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e\n            \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e len(words) \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e:\n                seg_comments\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eappend(words)\n                c_scores\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eappend(\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e comment[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eelse\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e到這裡為止，資料是初步處理完了\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022p-id2使用scikit-learn進行線性預測p\u0022\u003e\u003cp id=2\u003e使用scikit-learn進行線性預測\u003c\/p\u003e\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來要處理的就是學習的部分了，照這次實作的題目來說的話，這階段也就是常聽到的\u0026quot;Word2vec\u0026rdquo;，基於接觸過後學習才會比較有概念，這邊直接進入操作，以後有機會再深入探討…\u003c\/p\u003e\n\u003cp\u003e首先把剛才收集來的資料用以下方式處理\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e sklearn.feature_extraction \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e DictVectorizer\n\u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\n\ndict_vec \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e DictVectorizer(sparse\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse)\nx_posts \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e dict_vec\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efit_transform(seg_posts)\n\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(dict_vec\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efeature_names_) \u003cspan style=\u0022color:#75715e\u0022\u003e#列出column\u003c\/span\u003e\n\n[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39; \u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;!\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#34;\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;\u0026#39;\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;(\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;)\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u002b\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;,\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;-\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;--\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;-----\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;..\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;...\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;....\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;......\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;0.025\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;00\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;000\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;01\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;02\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;05\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;07\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;08\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;09\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;0966\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;1\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;1%\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;1.27\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;10\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;10.8\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;100\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;1000\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;100P\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;108\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;11\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;112\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;118\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;12\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;125\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;130\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;13000\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;131\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;14\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;15\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;16\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;160\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;163\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;166\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;17\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;170\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;18\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;180\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;1912\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;1947\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;1984\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;1990\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;1993\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;2\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;20\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;2008\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;2009\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;2014\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;2017\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;2018\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;2019\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;2020\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;2022\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;21\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;2203\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;23\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;24\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;27\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;28\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;29\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;3\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;3.1\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;30\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;31\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;318\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;36\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;3c\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;4\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;4%\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;484\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;5\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;50\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;5000\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;54088\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;55\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;550\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;56\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;57\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;577\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;59\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;6\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;60\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;686\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;7\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;700\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;719\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;78%\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;8\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;80\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;800\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;817\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;88\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;8809\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;89\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;9\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;90\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;95\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;:\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026lt;\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;=\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026gt;\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;?\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;A\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ABC\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;AID\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ASUS\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Adhanom\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Asus\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;BE\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;BUT\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Berliner\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;CNN\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;CT\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;CTWANT\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Christmas\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;D\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Dcard\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Dr\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;E\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ETtoday\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;EUV\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Eats\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;FB\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;GG\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;GOOGLE\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Get\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Ghebreyesus\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Global\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;H\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;HEAD\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;HMD\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;I01WD\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;I7\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;IG\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Ich\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;JKF\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;JPTT\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Judy\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;K\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;KMT\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Keanna\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;LINE\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;LISTLESS\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Like\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Milos\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;MoneyDJ\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;N\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;N950F\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;N9750\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;NEWS\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;NO\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;No.1\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Nokia\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Note\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;N年\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;O\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;OL\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;P\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;PASS\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;PO\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;PREPARED\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;PS\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;PTT\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Party\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Petrof\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Prima\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Q\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;REFUSE\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Redmi\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Reuters\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;SM\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Samsung\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Sent\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;So\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;T\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;T295\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;TVBS\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Taiwan\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Tedros\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Tvbs\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;U\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;UDN\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;UPUPUP\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Uber\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;VPN\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;WHO\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Wiki\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Xiaomi\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Yahoo\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;YahooTV\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;YouTube\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Youtube\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Zeman\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;_\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;a\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;air\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;awkward\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;bed\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;big\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;bin\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;can\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;checks\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;cm\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;code\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;com\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;cos\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;cosplay\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;cot\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;csc\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;d\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;day\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;depressed\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ein\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;engineer\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ex\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;force\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;from\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;good\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;have\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;help\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;iPhone\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;leave\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;marz\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;my\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;neal\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;o\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;on\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;one\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;p\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;s\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;sec\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;set\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;sex\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;show\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;sin\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;some\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;source\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;swag\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ta\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;tan\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;to\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;want\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;when\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;wifi\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;wreck\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;x\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;you\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;your\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;youtube\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;yt\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;~\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;’\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;…\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;′\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;‵\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;─\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;│\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;┌\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;┐\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;○\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\u3000\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;、\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;。\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;《\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;》\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;「\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;」\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;『\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;』\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;【\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;】\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;〔\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;〕\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;う\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;お\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;さ\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;で\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;と\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;め\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ゆ\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;り\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ァ\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;エ\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;シ\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ノ\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ル\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ヴ\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;・\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ㄉ\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ㄙ\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ㄛ\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ㄟ\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;一\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;一一\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;一下\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;一中\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;一事\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;一些\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;一人\u0026#39;\u003c\/span\u003e,\u003cspan style=\u0022color:#f92672\u0022\u003e....\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(x_posts) \u003cspan style=\u0022color:#75715e\u0022\u003e#查看轉換後的資料\u003c\/span\u003e\n\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e[[0. 0. 0. ... 0. 0. 0.]\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e [2. 0. 0. ... 0. 0. 0.]\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e [7. 0. 0. ... 0. 0. 0.]\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e ...\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e [0. 0. 0. ... 0. 0. 0.]\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e [0. 0. 0. ... 0. 0. 0.]\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e [0. 0. 0. ... 0. 0. 0.]]\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e變得有接近目標的樣子了\n\u003cbr\u003e\u003c\/br\u003e\n為了畫圖，再使用TfidfTransformer產生特徵向量\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e sklearn.feature_extraction.text \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e TfidfTransformer\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e sklearn.feature_extraction \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e DictVectorizer\n\u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\n\ndict_vec \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e DictVectorizer(sparse\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse)\ntfidf_tf \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e TfidfTransformer()\n\nx_posts \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e tfidf_tf\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efit_transform(dict_vec\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efit_transform(seg_posts))\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(x_posts)\n\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  (0, 5466)\t0.3164131590857888\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  (0, 5428)\t0.26977341604814975\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  (0, 5071)\t0.29198209629586447\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  (0, 4921)\t0.26977341604814975\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  (0, 4913)\t0.2540161066463822\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e  ...\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n回覆的部分也比照辦理，並且使用LinearSVC（Linear Support Vector Classification，線性支援向量分類)進行處理，\n兩個在一起的話大概像這樣\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e sklearn.feature_extraction.text \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e TfidfTransformer\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e sklearn.feature_extraction \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e DictVectorizer\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e sklearn.svm \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e LinearSVC\n\u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\n\np_dict_vec \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e DictVectorizer(sparse\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse)\np_tfidf_tf \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e TfidfTransformer()\np_x \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e p_tfidf_tf\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efit_transform(p_dict_vec\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efit_transform(seg_posts))\np_svc \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e LinearSVC()\np_svc\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efit(p_x, p_scores)\n\nc_dict_vec \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e DictVectorizer(sparse\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse)\nc_tfidf_tf \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e TfidfTransformer()\nc_x \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e c_tfidf_tf\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efit_transform(c_dict_vec\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efit_transform(seg_comments))\nc_svc \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e LinearSVC()\nc_svc\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efit(c_x, c_scores)\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(p_svc\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecoef_[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e])\n\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e[-0.72464228 -0.45262722  0.21239902 ... -0.12832172 -0.12832172\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e -0.12832172]\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022p-id3使用pandas製作dataframep\u0022\u003e\u003cp id=3\u003e使用Pandas製作DataFrame\u003cp\u003e\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n讓資料變得簡單可用的過渡步驟，這部分比較單純一點，就是利用Pandas來把剛才處理好的資料做成一個DataFrame表格，首先放上column name，做成一個空的DataFrame\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e pandas \u003cspan style=\u0022color:#f92672\u0022\u003eas\u003c\/span\u003e pd\n\n\np_df \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e pd\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eDataFrame(columns\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;word\u0026#39;\u003c\/span\u003e])\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(p_df)\n\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eEmpty DataFrame\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eColumns: [score, word]\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eIndex: []\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接者把剛剛LinearSVC完成的資料放進來，回覆也比照辦理\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e pandas \u003cspan style=\u0022color:#f92672\u0022\u003eas\u003c\/span\u003e pd\n\n\u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\np_df \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e pd\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eDataFrame(columns\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;word\u0026#39;\u003c\/span\u003e])\np_df[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e], p_df[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;word\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e p_svc\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecoef_[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e], p_dict_vec\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efeature_names_\n\nc_df \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e pd\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eDataFrame(columns\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;word\u0026#39;\u003c\/span\u003e])\nc_df[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e], c_df[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;word\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e c_svc\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecoef_[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e], c_dict_vec\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efeature_names_\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(p_df)\n\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e[5475 rows x 2 columns]\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e         score word\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e0    -0.724645     \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e1    -0.452623    !\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e2     0.212401    \u0026#34;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e3     0.143647    \u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e4     0.095657    (\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e...        ...  ...\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e5470 -0.128321    ｉ\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e5471 -0.128321    ｎ\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e5472 -0.128321    ｓ\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e5473 -0.128321    ｔ\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e5474 -0.128321    ｙ\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nDataFrame提供了很多便利的操作，能更快速的整理資料，而這次實作單純只用到排序\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e....\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(p_df\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esort_values(by\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e))\n\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e         score word\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e0    -0.724642     \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e3259 -0.661204   比較\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e4633 -0.585509   豬肉\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e4208 -0.539002   胞胎\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e1174 -0.530751   加入\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e...        ...  ...\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e5218  0.389572  電磁學\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e1412  0.392787   各位\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e728   0.399305   他們\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e1529  0.471990    啊\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e1394  0.515951   台灣\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(p_df\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esort_values(by\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e, ascending\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse))\n\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e[5475 rows x 2 columns]\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e         score word\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e1394  0.515951   台灣\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e1529  0.471990    啊\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e728   0.399305   他們\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e1412  0.392787   各位\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e5218  0.389572  電磁學\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e...        ...  ...\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e1174 -0.530751   加入\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e4208 -0.539002   胞胎\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e4633 -0.585509   豬肉\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e3259 -0.661204   比較\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e0    -0.724642     \n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022p-id4使用seaborn進行可視化p\u0022\u003e\u003cp id=4\u003e使用seaborn進行可視化\u003c\/p\u003e\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n前一篇已經使用matplotlib了，這次就搭配seaborn，已經儘量簡化了看起來還是有點繁瑣…\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e seaborn \u003cspan style=\u0022color:#f92672\u0022\u003eas\u003c\/span\u003e sns\n\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e pandas \u003cspan style=\u0022color:#f92672\u0022\u003eas\u003c\/span\u003e pd\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e matplotlib \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e pyplot \u003cspan style=\u0022color:#66d9ef\u0022\u003eas\u003c\/span\u003e plt\n\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eshow_chart\u003c\/span\u003e(data, top_n, sup):\n    fig, (ax1, ax2) \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e plt\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esubplots(ncols\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e2\u003c\/span\u003e, sharey\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue) \u003cspan style=\u0022color:#75715e\u0022\u003e#建立兩張並排\u003c\/span\u003e\n    p \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e sns\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ebarplot(x\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;word\u0026#39;\u003c\/span\u003e, y\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e, data\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003edata\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esort_values(by\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e, ascending\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse)[:top_n], color\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;green\u0026#39;\u003c\/span\u003e, ax\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eax1) \u003cspan style=\u0022color:#75715e\u0022\u003e#正向分析圖\u003c\/span\u003e\n    n \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e sns\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ebarplot(x\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;word\u0026#39;\u003c\/span\u003e, y\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e, data\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003edata\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esort_values(by\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e)[:top_n], color\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;red\u0026#39;\u003c\/span\u003e, ax\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eax2) \u003cspan style=\u0022color:#75715e\u0022\u003e#負向分析圖\u003c\/span\u003e\n    p\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eset_title(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;positive\u0026#39;\u003c\/span\u003e) \u003cspan style=\u0022color:#75715e\u0022\u003e#正向分析標題\u003c\/span\u003e\n    n\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eset_title(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;negative\u0026#39;\u003c\/span\u003e) \u003cspan style=\u0022color:#75715e\u0022\u003e#負向分析標題\u003c\/span\u003e\n    \u003cspan style=\u0022color:#75715e\u0022\u003e#fig.set_size_inches(18.5, 10.5) #有需要的話用來調整尺寸\u003c\/span\u003e\n    plt\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esuptitle(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;PTT Gossiping\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e%s\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e詞彙TOP \u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e%s\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e%\u003c\/span\u003e (sup, top_n), fontsize\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e16\u003c\/span\u003e) \u003cspan style=\u0022color:#75715e\u0022\u003e#副標題\u003c\/span\u003e\n    plt\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ercParams[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;font.sans-serif\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;simhei\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#75715e\u0022\u003e#指定中文字體，否則會無法顯示\u003c\/span\u003e\n    plt\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eshow()\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n記得PTT的回覆是叫推文來著？總之接下來就能輸出圖片啦\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003eshow_chart(p_df, \u003cspan style=\u0022color:#ae81ff\u0022\u003e10\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;本文\u0026#39;\u003c\/span\u003e)\nshow_chart(c_df, \u003cspan style=\u0022color:#ae81ff\u0022\u003e10\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;推文\u0026#39;\u003c\/span\u003e)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n能力不足做不出漂亮圖片…\n\u003cimg src=\u00221.png\u0022 alt=\u0022\u0022\u003e\n\u003cimg src=\u00222.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n完成的notebook放在\u003ca href=\u0022https:\/\/github.com\/mikanbearer\/scrapy_sample\/blob\/master\/notebook2.ipynb\u0022\u003e這裡\u003c\/a\u003e可直接觀看喔\u003c\/p\u003e\n\u003cp\u003e收工！\u003c\/p\u003e',
    
    
      date: '2020-09-09',
    
    
      tags: '[Python pandas scikit-learn seaborn]',
    
    
      categories: '[資料分析]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009081138\/',
    
      title: '結巴分詞工具的簡單筆記',
    
    
      summary: '\u003cp\u003e這次來使用大名鼎鼎的\u0026quot;結巴中文分詞\u0026quot;了，應該是目前最好的的斷詞工具，之後的實作會用上所以稍微筆記一下\u003c\/p\u003e',
      content: '\u003cp\u003e這次來使用大名鼎鼎的\u0026quot;結巴中文分詞\u0026quot;了，應該是目前最好的的斷詞工具，之後的實作會用上所以稍微筆記一下\u003c\/p\u003e\n\u003cp\u003e安裝\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ pip install jieba\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022分詞\u0022\u003e分詞\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n分詞可使用jieba.cut、jieba.cut_for_search，兩者皆會返回一個generator，\u003c\/p\u003e\n\u003cp\u003e而jieba.lcut、jieba.lcut_for_search返回的是list\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-shell\u0022 data-lang=\u0022shell\u0022\u003e$ ipython\n\nIn \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e1\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e: import jieba\n\nIn \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e2\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e: type\u003cspan style=\u0022color:#f92672\u0022\u003e(\u003c\/span\u003ejieba.cut\u003cspan style=\u0022color:#f92672\u0022\u003e(\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e, cut_all\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue\u003cspan style=\u0022color:#f92672\u0022\u003e))\u003c\/span\u003e\nOut\u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e2\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e: generator\n\nIn \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e3\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e: type\u003cspan style=\u0022color:#f92672\u0022\u003e(\u003c\/span\u003ejieba.lcut\u003cspan style=\u0022color:#f92672\u0022\u003e(\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e, cut_all\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue\u003cspan style=\u0022color:#f92672\u0022\u003e))\u003c\/span\u003e\nOut\u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e3\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e: generator\n\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n三種模式的範例\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e jieba\n\nseg_list \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e jieba\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecut(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;在虛構的故事當中尋求真實感的人腦袋一定有問題\u0026#39;\u003c\/span\u003e, cut_all\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;【全模式】：\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/ \u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ejoin(seg_list))\n\u003cspan style=\u0022color:#75715e\u0022\u003e#【全模式】：在\/ 虛\/ 構\/ 的\/ 故事\/ 當\/ 中\/ 尋\/ 求真\/ 實\/ 感\/ 的\/ 人\/ 腦\/ 袋\/ 一定\/ 定有\/ 問\/ 題\u003c\/span\u003e\n\n\nseg_list \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e jieba\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecut(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;在虛構的故事當中尋求真實感的人腦袋一定有問題\u0026#39;\u003c\/span\u003e, cut_all\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;【精確模式】：\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/ \u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ejoin(seg_list))\n\u003cspan style=\u0022color:#75715e\u0022\u003e#【精確模式】：在\/ 虛構\/ 的\/ 故事\/ 當中尋\/ 求真\/ 實感\/ 的\/ 人\/ 腦袋\/ 一定\/ 有\/ 問題\u003c\/span\u003e\n\n\nseg_list \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e jieba\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecut_for_search(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;在虛構的故事當中尋求真實感的人腦袋一定有問題\u0026#39;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;【搜尋引擎模式】：\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/ \u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ejoin(seg_list))\n\u003cspan style=\u0022color:#75715e\u0022\u003e#【搜尋引擎模式】：在\/ 虛構\/ 的\/ 故事\/ 當中尋\/ 求真\/ 實感\/ 的\/ 人\/ 腦袋\/ 一定\/ 有\/ 問題\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n使用隱藏式馬可夫模型（Hidden Markov Model；縮寫：HMM）\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e jieba\n\nseg_list \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e jieba\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecut(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;在虛構的故事當中尋求真實感的人腦袋一定有問題\u0026#39;\u003c\/span\u003e, cut_all\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue, HMM\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;【全模式】：\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/ \u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ejoin(seg_list))\n\u003cspan style=\u0022color:#75715e\u0022\u003e#【全模式】：在\/ 虛\/ 構\/ 的\/ 故事\/ 當\/ 中\/ 尋\/ 求真\/ 實\/ 感\/ 的\/ 人\/ 腦\/ 袋\/ 一定\/ 定有\/ 問\/ 題\u003c\/span\u003e\n\nseg_list \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e jieba\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecut(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;在虛構的故事當中尋求真實感的人腦袋一定有問題\u0026#39;\u003c\/span\u003e, cut_all\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse, HMM\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;【精確模式】：\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/ \u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ejoin(seg_list))\n\u003cspan style=\u0022color:#75715e\u0022\u003e#【精確模式】：在\/ 虛構\/ 的\/ 故事\/ 當中尋\/ 求真\/ 實感\/ 的\/ 人\/ 腦袋\/ 一定\/ 有\/ 問題\u003c\/span\u003e\n\nseg_list \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e jieba\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecut_for_search(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;在虛構的故事當中尋求真實感的人腦袋一定有問題\u0026#39;\u003c\/span\u003e, HMM\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;【搜尋引擎模式】：\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/ \u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ejoin(seg_list))\n\u003cspan style=\u0022color:#75715e\u0022\u003e#【搜尋引擎模式】：在\/ 虛構\/ 的\/ 故事\/ 當中尋\/ 求真\/ 實感\/ 的\/ 人\/ 腦袋\/ 一定\/ 有\/ 問題\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e雖然在這範例看不出分別\n\u003cbr\u003e\u003c\/br\u003e\nPaddle模式\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e jieba\n\njieba\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eenable_paddle()\nseg_list \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e jieba\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecut(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;在虛構的故事當中尋求真實感的人腦袋一定有問題\u0026#39;\u003c\/span\u003e, use_paddle\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;【Paddle模式】：\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/ \u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ejoin(seg_list))\n\u003cspan style=\u0022color:#75715e\u0022\u003e#【Paddle模式】：在\/ 虛構\/ 的\/ 故事\/ 當中尋\/ 求真\/ 實感\/ 的\/ 人\/ 腦袋\/ 一定\/ 有\/ 問題\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022自訂辭典\u0022\u003e自訂辭典\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n載入檔案\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003ejieba\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eload_userdict(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;userdict.txt\u0026#39;\u003c\/span\u003e)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n調整單詞\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003eseg_list \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e jieba\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecut(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;在虛構的故事當中尋求真實感的人腦袋一定有問題\u0026#39;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;【調整前】：\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/ \u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ejoin(seg_list))\n\u003cspan style=\u0022color:#75715e\u0022\u003e#【調整前】：在\/ 虛構\/ 的\/ 故事\/ 當中尋\/ 求真\/ 實感\/ 的\/ 人\/ 腦袋\/ 一定\/ 有\/ 問題\u003c\/span\u003e\n\njieba\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eadd_word(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;真實感\u0026#39;\u003c\/span\u003e)\nseg_list \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e jieba\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecut(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;在虛構的故事當中尋求真實感的人腦袋一定有問題\u0026#39;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;【調整後】：\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/ \u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ejoin(seg_list))\n\u003cspan style=\u0022color:#75715e\u0022\u003e#【調整後】：在\/ 虛構\/ 的\/ 故事\/ 當中\/ 尋求\/ 真實感\/ 的\/ 人\/ 腦袋\/ 一定\/ 有\/ 問題\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022關鍵詞提取\u0022\u003e關鍵詞提取\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n基於TF-IDF的關鍵字提取，公式就不提了…看了頭疼(´；ω；`)\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e jieba \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e analyse \u003cspan style=\u0022color:#66d9ef\u0022\u003eas\u003c\/span\u003e anls\n\ns \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;觀自在菩薩。行深般若波羅蜜多時。照見五蘊皆空。度一切苦厄。舍利子。色不異空。空不異色。色即是空。空即是色。受想行識。亦復如是。舍利子。是諸法空相。不生不滅。不垢不淨。不增不減。是故空中無色。無受想行識。無眼耳鼻舌身意。無色聲香味觸法。無眼界。乃至無意識界。無無明。亦無無明盡。乃至無老死。亦無老死盡。無苦集滅道。無智亦無得。以無所得故。菩提薩埵。依般若波羅蜜多故。心無罣礙。無罣礙故。無有恐怖。遠離顛倒夢想。究竟涅槃。三世諸佛。依般若波羅蜜多故。得阿耨多羅三藐三菩提。故知般若波羅蜜多。是大神咒。是大明咒。是無上咒。是無等等咒。能除一切苦。真實不虛。故說般若波羅蜜多咒。即說咒曰。揭諦揭諦。波羅揭諦。波羅僧揭諦。菩提薩婆訶。\u0026#39;\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e x, w \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e anls\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eextract_tags(s, topK\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e20\u003c\/span\u003e, withWeight\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue):\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e%s\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e \u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e%s\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e%\u003c\/span\u003e (x, w))\n\n\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e波羅蜜 0.6792481535738636\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e般若 0.5544058480443181\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e揭諦 0.5433985228590908\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e菩提 0.31302882206863636\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e行識 0.2716992614295454\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e無無明 0.2716992614295454\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e舍利子 0.25763018851136366\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e...\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n基於Text rank的關鍵字提取，原理參照\u003ca href=\u0022http:\/\/web.eecs.umich.edu\/~mihalcea\/papers\/mihalcea.emnlp04.pdf\u0022\u003e這裡\u003c\/a\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e x, w \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e anls\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003etextrank(s, withWeight\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue):\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e%s\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e \u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e%s\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e%\u003c\/span\u003e (x, w))\n\n\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e行識 1.0\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e菩提 0.7557609562914026\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e老死 0.6746173110357283\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e揭諦 0.6746173110357283\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e諸法 0.6294985968338874\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e空相 0.6259970709534944\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e觀自 0.5081817230893458\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e...\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022詞性標註\u0022\u003e詞性標註\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n標註詞性的範例如下\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e jieba \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e posseg\n\nresult \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e posseg\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecut(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;在虛構的故事當中尋求真實感的人腦袋一定有問題\u0026#39;\u003c\/span\u003e)\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e word, flag \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e result:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;{0} {1}\u0026#34;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eformat(word, flag))\n\n\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e在 p\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e虛構 n\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e的 uj\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e故事 n\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e當中 s\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e尋 v\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e求真 nz\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e...\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022返回起始位置\u0022\u003e返回起始位置\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e jieba \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e tokenize\n\nresult \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e tokenize(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;在虛構的故事當中尋求真實感的人腦袋一定有問題\u0026#39;\u003c\/span\u003e)\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e tk \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e result:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;word: {0} \u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\t\\t\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e start: {1} \u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\t\\t\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e end: {2}\u0026#34;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eformat(tk[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e],tk[\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e],tk[\u003cspan style=\u0022color:#ae81ff\u0022\u003e2\u003c\/span\u003e]))\n\n\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eword: 在 \t\t start: 0 \t\t end: 1\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eword: 虛構 \t\t start: 1 \t\t end: 3\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eword: 的 \t\t start: 3 \t\t end: 4\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eword: 故事 \t\t start: 4 \t\t end: 6\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e...\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u0026#39;\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e',
    
    
      date: '2020-09-08',
    
    
      tags: '[Jieba Python]',
    
    
      categories: '[資料分析]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009070954\/',
    
      title: '【Python資料分析練習-入門篇1】使用Scrapy爬取PTT貼文',
    
    
      summary: '\u003cp\u003e從爬蟲開始的實作，分析資料前總得先有資料吧(;\u0026lsquo;∀\u0026rsquo;)\u003c\/p\u003e\n\u003cp\u003e作為資料分析的前置作業，就來爬取媒體最愛的PTT，畢竟BBS類型的資料還蠻標準的，雖然本人不太逛PTT就是了…\u003c\/p\u003e',
      content: '\u003cp\u003e從爬蟲開始的實作，分析資料前總得先有資料吧(;\u0026lsquo;∀\u0026rsquo;)\u003c\/p\u003e\n\u003cp\u003e作為資料分析的前置作業，就來爬取媒體最愛的PTT，畢竟BBS類型的資料還蠻標準的，雖然本人不太逛PTT就是了…\u003c\/p\u003e\n\u003cp\u003e完成的souce code已放上github：\u003ca href=\u0022https:\/\/github.com\/mikanbearer\/scrapy_sample\u0022\u003ehttps:\/\/github.com\/mikanbearer\/scrapy_sample\u003c\/a\u003e\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\u0022#1\u0022\u003e使用Scrapy抓取資料\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022#2\u0022\u003e使用Matplotlib製圖\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022#3\u0022\u003e使用Jupyter Notebook\u003c\/a\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003ch3 id=\u0022p-id1使用爬蟲抓取資料p\u0022\u003e\u003cp id=1\u003e使用爬蟲抓取資料\u003c\/p\u003e\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e首先把環境部屬好\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ scrapy startproject scrapy_sample\r\n$ cd scrapy_sample\/scrapy_sample\/spiders\r\n$ scrapy genspider ptt_gossiping www.ptt.cc\/bbs\/Gossiping\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n編輯第一個spider，當然response是PTT確認年齡的頁面，之後要再改改\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:scrapy_sample\/spiders\/ptt_gossiping.py\u0022 data-lang=\u0022:scrapy_sample\/spiders\/ptt_gossiping.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e scrapy\n\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ePttGossipingSpider\u003c\/span\u003e(scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eSpider):\n    name \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ptt_gossiping\u0026#39;\u003c\/span\u003e\n    allowed_domains \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;www.ptt.cc\/bbs\/Gossiping\u0026#39;\u003c\/span\u003e]\n    start_urls \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;http:\/\/www.ptt.cc\/bbs\/Gossiping\u0026#39;\u003c\/span\u003e]\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eparse\u003c\/span\u003e(self, response):\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003etext)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n可以從source code得知年齡確認用了一個form，會post兩種value，yes和no，現在就就直接post了，省時省力\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:scrapy_sample\/spiders\/ptt_gossiping.py\u0022 data-lang=\u0022:scrapy_sample\/spiders\/ptt_gossiping.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e scrapy\n\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ePttGossipingSpider\u003c\/span\u003e(scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eSpider):\n    name \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ptt_gossiping\u0026#39;\u003c\/span\u003e\n    allowed_domains \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;www.ptt.cc\/bbs\/Gossiping\u0026#39;\u003c\/span\u003e]\n    start_urls \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;http:\/\/www.ptt.cc\/bbs\/Gossiping\u0026#39;\u003c\/span\u003e]\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eparse\u003c\/span\u003e(self, response):\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eFormRequest\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efrom_response(\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            response,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            formdata\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e{\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;yes\u0026#39;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;yes\u0026#39;\u003c\/span\u003e},\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            callback\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eself\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eafter_ask,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            dont_filter\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        )\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eafter_ask\u003c\/span\u003e(self, response):\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003etext)\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n再來就要開始換頁，把spider改成這樣，頁是最好先限制一下，不然好幾萬頁有點吃不消\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:scrapy_sample\/spiders\/ptt_gossiping.py\u0022 data-lang=\u0022:scrapy_sample\/spiders\/ptt_gossiping.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e scrapy\n\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ePttGossipingSpider\u003c\/span\u003e(scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eSpider):\n    name \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ptt_gossiping\u0026#39;\u003c\/span\u003e\n    allowed_domains \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;www.ptt.cc\/bbs\/Gossiping\u0026#39;\u003c\/span\u003e]\n    start_urls \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;http:\/\/www.ptt.cc\/bbs\/Gossiping\u0026#39;\u003c\/span\u003e]\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    max_page \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e10\u003c\/span\u003e \u003cspan style=\u0022color:#75715e\u0022\u003e#最大頁數\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    page_count \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e \u003cspan style=\u0022color:#75715e\u0022\u003e#計數用\u003c\/span\u003e\n\u003c\/span\u003e\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eparse\u003c\/span\u003e(self, response):\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eFormRequest\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003efrom_response(\n            response,\n            formdata\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e{\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;yes\u0026#39;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;yes\u0026#39;\u003c\/span\u003e},\n            callback\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eself\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eafter_ask,\n            dont_filter\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue\n        )\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eafter_ask\u003c\/span\u003e(self, response):\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003epage_count \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003emax_page:\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            next \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003expath(\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e                \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/\/div[@id=\u0026#34;action-bar-container\u0026#34;]\/\/a[contains(text(), \u0026#34;上頁\u0026#34;)]\/@href\u0026#39;\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget(default\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eNone) \u003cspan style=\u0022color:#75715e\u0022\u003e#抓innertext為\u0026#34;上頁\u0026#34;的element\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e next:\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e                url \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eurljoin(next)\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e                \u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(url)\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e                self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003epage_count \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b=\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e                \u003cspan style=\u0022color:#66d9ef\u0022\u003eyield\u003c\/span\u003e scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eRequest(url\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eurl, callback\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eself\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eafter_ask, dont_filter\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue) \u003cspan style=\u0022color:#75715e\u0022\u003e#再call一次after_ask\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來再小小修改一下after_ask()，使用一個for來多開幾個Reuqest，callback為parse_post\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:scrapy_sample\/spiders\/ptt_gossiping.py\u0022 data-lang=\u0022:scrapy_sample\/spiders\/ptt_gossiping.py\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eafter_ask\u003c\/span\u003e(self, response):\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e href \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecss(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;div.r-ent div.title a::attr(href)\u0026#39;\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003egetall():\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            url \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eurljoin(href)\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#66d9ef\u0022\u003eyield\u003c\/span\u003e scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eRequest(url\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eurl, callback\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eself\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eparse_post, dont_filter\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue)\n\u003c\/span\u003e\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003epage_count \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003emax_page:\n            next \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003expath(\n                \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/\/div[@id=\u0026#34;action-bar-container\u0026#34;]\/\/a[contains(text(), \u0026#34;上頁\u0026#34;)]\/@href\u0026#39;\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget(default\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eNone)\n            \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e next:\n                self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003epage_count \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b=\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e\n                url \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eurljoin(next)\n                \u003cspan style=\u0022color:#66d9ef\u0022\u003eyield\u003c\/span\u003e scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eRequest(url\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eurl, callback\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eself\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eafter_ask, dont_filter\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n先定義這個簡單的function，就能看到response.url是個標題的網址，如此一來就可以開始抓內容了\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eparse_post\u003c\/span\u003e(self, response):\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eurl)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n準備好items\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:scrapy_sample\/items.py\u0022 data-lang=\u0022:scrapy_sample\/items.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e scrapy\n\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ePostItem\u003c\/span\u003e(scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eItem):\n    url \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eField()\n    title \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eField()\n    author \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eField()\n    date \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eField()\n    content \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eField()\n    comments \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eField()\n    score \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eField()\n\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來回到spider，修改成下列的樣子就差不多大功告成\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e41\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e42\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e43\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e44\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e45\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e46\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e47\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e48\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e49\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e50\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e51\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e52\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e53\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e54\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e55\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e56\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e57\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e58\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e59\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e60\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e61\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e62\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e63\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e64\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e65\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e66\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e67\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e68\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e69\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e70\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e71\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e72\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:scrapy_sample\/spiders\/ptt_gossiping.py\u0022 data-lang=\u0022:scrapy_sample\/spiders\/ptt_gossiping.py\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eparse_post\u003c\/span\u003e(self, response):\n        item \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e PostItem()\n        item[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;title\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecss(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;meta[property=\u0026#34;og:title\u0026#34;]::attr(content)\u0026#39;\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget()\n        item[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;author\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003expath(\n            \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/\/div[@class=\u0026#34;article-metaline\u0026#34;]\/span[text()=\u0026#34;作者\u0026#34;]\/following-sibling::span[1]\/text()\u0026#39;\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget()\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esplit(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39; \u0026#39;\u003c\/span\u003e)[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e]\n\n        datetime_str \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003expath(\n            \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/\/div[@class=\u0026#34;article-metaline\u0026#34;]\/span[text()=\u0026#34;時間\u0026#34;]\/following-sibling::span[1]\/text()\u0026#39;\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget()\n        item[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;date\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e datetime\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003estrptime(datetime_str, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;%a %b \u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e%d\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e %H:%M:%S %Y\u0026#39;\u003c\/span\u003e)\n        item[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;content\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecss(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;div#main-content::text\u0026#39;\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget()\n        comments \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e []\n        score_total \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e\n\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e comment \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecss(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;div.push\u0026#39;\u003c\/span\u003e):\n            tag \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e comment\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecss(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;span.push-tag::text\u0026#39;\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget()\n            user \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e comment\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecss(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;span.push-userid::text\u0026#39;\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget()\n            content \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e comment\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecss(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;span.push-content::text\u0026#39;\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget()\n\n            \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;推\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e tag:\n                score \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e\n            \u003cspan style=\u0022color:#66d9ef\u0022\u003eelif\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;噓\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e tag:\n                score \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e-\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e\n            \u003cspan style=\u0022color:#66d9ef\u0022\u003eelse\u003c\/span\u003e:\n                score \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e\n\n            score_total \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b=\u003c\/span\u003e score\n\n            comments\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eappend({\n                \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;user\u0026#39;\u003c\/span\u003e: user,\n                \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e: score,\n                \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;content\u0026#39;\u003c\/span\u003e: content\n            })\n\n        item[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;comments\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e comments\n        item[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e score_total\n        item[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;url\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eurl\n\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eyield\u003c\/span\u003e item\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n完成輸入指令，就能看到貼文被抓下來啦\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ scrapy crawl ptt_gossiping -o test.json\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e遲來的資料分析，原本想通通和爬蟲一起塞一篇，但一次做太多自己沒辦法進入狀況，只好先練習資料可視化開始熟悉手邊工具，之後再循序漸進繼續深入\u003c\/p\u003e\n\u003c!--more--\u003e\r\n\u003cp\u003e這篇比較有點過渡期的味道，畢竟沒有太多內容，所以就索性加了一點點Jupyter notebook\u003c\/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n練習的檔案，是用之前抓的PTT貼文\n\u003ca href=\u0022https:\/\/github.com\/mikanbearer\/scrapy_sample\u0022\u003ehttps:\/\/github.com\/mikanbearer\/scrapy_sample\u003c\/a\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022p-id2使用matplotlib製圖p\u0022\u003e\u003cp id=2\u003e使用Matplotlib製圖\u003c\/p\u003e\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n首先用pip下載需要用的包\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ pip install matplotlib\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來將json做個簡單的處理\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e json\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e collections \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e defaultdict\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003ewith\u003c\/span\u003e open(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;pttgossip.json\u0026#39;\u003c\/span\u003e) \u003cspan style=\u0022color:#66d9ef\u0022\u003eas\u003c\/span\u003e f:\n    posts \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e json\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eload(f) \u003cspan style=\u0022color:#75715e\u0022\u003e#讀取練習的jason\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#75715e\u0022\u003e#建立defaultdict物件，value type為int\u003c\/span\u003e\ncomments_total \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e defaultdict(int)\npushes_total \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e defaultdict(int)\nhates_total \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e defaultdict(int)\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e post \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e posts:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e comment \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e post[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;comments\u0026#39;\u003c\/span\u003e]:\n        user \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e comment[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;user\u0026#39;\u003c\/span\u003e]\n\n        comments_total[user] \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b=\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e\n\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e comment[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e:\n            pushes_total[user] \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b=\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e\n\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eelif\u003c\/span\u003e comment[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e:\n            hates_total[user] \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b=\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e這樣就能以user為key，value則是一個count\n\u003cbr\u003e\u003c\/br\u003e\n接著可以畫圖囉，以user為x，那麼回應、推、噓三個則為y值，以這構想大概這樣做\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e#以comment數來排序成user list，長度取50\u003c\/span\u003e\nsorted_users \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [item[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e] \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e item \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e sorted(comments_total\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eitems(), key\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003elambda\u003c\/span\u003e x: \u003cspan style=\u0022color:#f92672\u0022\u003e-\u003c\/span\u003ex[\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e])][:]\n\u003cspan style=\u0022color:#75715e\u0022\u003e#以user list來排序回覆count\u003c\/span\u003e\ny_comments \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [comments_total[u] \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e u \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e sorted_users]\n\u003cspan style=\u0022color:#75715e\u0022\u003e#以user list來排序推文count\u003c\/span\u003e\ny_pushes \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [pushes_total[u] \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e u \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e sorted_users]\n\u003cspan style=\u0022color:#75715e\u0022\u003e#以user list來排序噓文count\u003c\/span\u003e\ny_hates \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [hates_total[u] \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e u \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e sorted_users]\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e這樣就處理好x與三個y\n\u003cbr\u003e\u003c\/br\u003e\n接下來就能用mtatplotlib產生簡單的圖\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e matplotlib.pyplot \u003cspan style=\u0022color:#f92672\u0022\u003eas\u003c\/span\u003e plt\n\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecomment_graph\u003c\/span\u003e(comments, pushes, hates, max_x):\n    sorted_users \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [item[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e] \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e item \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e sorted(comments\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eitems(), key\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003elambda\u003c\/span\u003e x: \u003cspan style=\u0022color:#f92672\u0022\u003e-\u003c\/span\u003ex[\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e])][:max_x]\n    y_comments \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [comments[u] \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e u \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e sorted_users]\n    y_pushes \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [pushes[u] \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e u \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e sorted_users]\n    y_hates \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [hates[u] \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e u \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e sorted_users]\n\n    x \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e range(len(sorted_users))\n\n    plt\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eplot(x, y_comments, color\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;blue\u0026#39;\u003c\/span\u003e, label\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;comments\u0026#39;\u003c\/span\u003e)\n    plt\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eplot(x, y_pushes, color\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;green\u0026#39;\u003c\/span\u003e, label\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;pushes\u0026#39;\u003c\/span\u003e)\n    plt\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eplot(x, y_hates, color\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;red\u0026#39;\u003c\/span\u003e, label\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;hates\u0026#39;\u003c\/span\u003e)\n    plt\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003elegend()\n    plt\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eshow()\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n最後完成的code如下：\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e json\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e collections \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e defaultdict\n\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e matplotlib.pyplot \u003cspan style=\u0022color:#f92672\u0022\u003eas\u003c\/span\u003e plt\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003ewith\u003c\/span\u003e open(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;pttgossip.json\u0026#39;\u003c\/span\u003e) \u003cspan style=\u0022color:#66d9ef\u0022\u003eas\u003c\/span\u003e f:\n    posts \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e json\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eload(f)\n\ncomments_total \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e defaultdict(int)\npushes_total \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e defaultdict(int)\nhates_total \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e defaultdict(int)\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e post \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e posts:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e comment \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e post[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;comments\u0026#39;\u003c\/span\u003e]:\n        user \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e comment[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;user\u0026#39;\u003c\/span\u003e]\n        comments_total[user] \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b=\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e\n\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e comment[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e:\n            pushes_total[user] \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b=\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e\n\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eelif\u003c\/span\u003e comment[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;score\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e:\n            hates_total[user] \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b=\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e\n\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecomment_graph\u003c\/span\u003e(comments, pushes, hates, max_x):\n    sorted_users \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [item[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e] \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e item \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e sorted(comments\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eitems(), key\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003elambda\u003c\/span\u003e x: \u003cspan style=\u0022color:#f92672\u0022\u003e-\u003c\/span\u003ex[\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e])][:max_x]\n    y_comments \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [comments[u] \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e u \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e sorted_users]\n    y_pushes \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [pushes[u] \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e u \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e sorted_users]\n    y_hates \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [hates[u] \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e u \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e sorted_users]\n\n    x \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e range(len(sorted_users))\n\n    plt\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eplot(x, y_comments, color\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;blue\u0026#39;\u003c\/span\u003e, label\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;comments\u0026#39;\u003c\/span\u003e)\n    plt\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eplot(x, y_pushes, color\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;green\u0026#39;\u003c\/span\u003e, label\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;pushes\u0026#39;\u003c\/span\u003e)\n    plt\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eplot(x, y_hates, color\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;red\u0026#39;\u003c\/span\u003e, label\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;hates\u0026#39;\u003c\/span\u003e)\n    plt\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003elegend()\n    plt\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003etitle(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;total comments\u0026#39;\u003c\/span\u003e)\n    plt\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eshow()\n\ncomment_graph(comments_total, pushes_total, hates_total, \u003cspan style=\u0022color:#ae81ff\u0022\u003e100\u003c\/span\u003e)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n這樣就能看到前幾名回應活躍的user了\n\u003cimg src=\u00221.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022p-id3使用jupyter-notebookp\u0022\u003e\u003cp id=3\u003e使用Jupyter Notebook\u003c\/p\u003e\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n畢竟要做資料練習，果然還是有個shell一般的操作方式最好吧？可用又可讀，如同IPython notebook，但這次來用用Jupyter\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ pip install ipython jupyter\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n輸入指令啟動notebook\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ jupyter notebook\r\n...\r\n[I 09:56:21.690 NotebookApp] Jupyter Notebook 6.1.3 is running at:\r\n[I 09:56:21.690 NotebookApp] http:\/\/localhost:8888\/?token=389282ffb93c1426ba34e094ef8b8667ad6812ad8575a0f6\r\n[I 09:56:21.691 NotebookApp]  or http:\/\/127.0.0.1:8888\/?token=389282ffb93c1426ba34e094ef8b8667ad6812ad8575a0f6\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003cbr\u003e\n接下來開啟帶有token的網址，把要分析的json上傳\n\u003cimg src=\u00224.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n接著建立新的Pyhon3 Notebook\n\u003cimg src=\u00225.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n接下來就能進入notebook操作了\n\u003cimg src=\u00226.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n加上下列就能將圖片inline顯示\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e%matplotlib notebook\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nrun完結果範例就像是這樣\n\u003cimg src=\u00227.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\nnotebook也能以.ipynb以外的格式download下來用其他工具閱讀\n\u003cimg src=\u00228.png\u0022 alt=\u0022\u0022\u003e\n完成的notebook(.ipynb)放在\u003ca href=\u0022https:\/\/github.com\/mikanbearer\/scrapy_sample\/blob\/master\/notebook1.ipynb\u0022\u003e這裡\u003c\/a\u003e可直接觀看喔\u003c\/p\u003e',
    
    
      date: '2020-09-07',
    
    
      tags: '[Matplotlib Python Scrapy]',
    
    
      categories: '[資料分析]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009031456\/',
    
      title: '使用Ansible部屬Docker Swarm',
    
    
      summary: '\u003cp\u003e偶然看到這個\u003ca href=\u0022https:\/\/github.com\/atosatto\/ansible-dockerswarm\u0022\u003eAnsible Role: Docker\u003c\/a\u003e就想嘗試一下，用得順的話就能輕鬆部屬swarm cluster了，所以試著操作一遍\u003c\/p\u003e',
      content: '\u003cp\u003e偶然看到這個\u003ca href=\u0022https:\/\/github.com\/atosatto\/ansible-dockerswarm\u0022\u003eAnsible Role: Docker\u003c\/a\u003e就想嘗試一下，用得順的話就能輕鬆部屬swarm cluster了，所以試著操作一遍\u003c\/p\u003e\n\u003cp\u003e本次環境用三台VM，分別是\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003eDebian 9.7(Ansible)：192.168.149.130\u003c\/li\u003e\n\u003cli\u003eDebian 9.7(Swarm Manager) * 2：192.168.149.131\u003c\/li\u003e\n\u003cli\u003eDebian 9.7(Swarm Worker) * 2：192.168.149.133\n\u003cbr\u003e\u003c\/br\u003e\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e首先使用ansible galaxy下載role\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ ansible-galaxy install atosatto.docker-swarm\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n工作目錄的樹狀圖，不節外生枝，只要一個inventory和playbook就好\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e.\n├── hosts\n└── playbook.yml\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nInventory file主要分為[docker_swarm_manager]和[docker_swarm_worker]兩個group，這個role是用group name來區別manager和worker\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-yaml\u0022 data-lang=\u0022yaml\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eall\u003c\/span\u003e:\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003echildren\u003c\/span\u003e:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edocker_swarm_manager\u003c\/span\u003e:\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003ehosts\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003emanager01\u003c\/span\u003e:\n          \u003cspan style=\u0022color:#66d9ef\u0022\u003eansible_host\u003c\/span\u003e: \u003cspan style=\u0022color:#ae81ff\u0022\u003e192.168.149.131\u003c\/span\u003e\n          \u003cspan style=\u0022color:#66d9ef\u0022\u003eswarm_labels\u003c\/span\u003e: deploy\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edocker_swarm_worker\u003c\/span\u003e:\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003ehosts\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eworker01\u003c\/span\u003e:\n          \u003cspan style=\u0022color:#66d9ef\u0022\u003eansible_host\u003c\/span\u003e: \u003cspan style=\u0022color:#ae81ff\u0022\u003e192.168.149.133\u003c\/span\u003e\n          \u003cspan style=\u0022color:#66d9ef\u0022\u003eswarm_labels\u003c\/span\u003e: [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;foo\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;bar\u0026#39;\u003c\/span\u003e]\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003evars\u003c\/span\u003e:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eansible_user\u003c\/span\u003e: qaz\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eansible_password\u003c\/span\u003e: \u003cspan style=\u0022color:#ae81ff\u0022\u003e123\u003c\/span\u003e\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eansible_python_interpreter\u003c\/span\u003e: auto_legacy_silent\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:playbook.yaml\u0022 data-lang=\u0022:playbook.yaml\u0022\u003e\n---\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003ehosts\u003c\/span\u003e: all\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003ebecome\u003c\/span\u003e: yes\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003ebecome_method\u003c\/span\u003e: su\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003eroles\u003c\/span\u003e:\n    - { \u003cspan style=\u0022color:#66d9ef\u0022\u003erole\u003c\/span\u003e: atosatto.docker-swarm }\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n就這樣出發！！然後會出現兩個error\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-bash\u0022 data-lang=\u0022bash\u0022\u003e$ ansible-playbook playbook.yml -i hosts -K\n...\nTASK \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003eatosatto.docker-swarm : include_tasks\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e ***********************************************************************************************************************************************************************************************\nincluded: \/home\/zaq\/.ansible\/roles\/atosatto.docker-swarm\/tasks\/setup-swarm-labels.yml \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e manager01, worker01\n\nTASK \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003eatosatto.docker-swarm : Get list of labels.\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e *****************************************************************************************************************************************************************************************\nok: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003emanager01 -\u0026gt; 192.168.149.131\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\nfatal: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003eworker01 -\u0026gt; 192.168.149.131\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e: FAILED! \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u0026gt; \u003cspan style=\u0022color:#f92672\u0022\u003e{\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;changed\u0026#34;\u003c\/span\u003e: false, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;cmd\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;docker\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;inspect\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;--format\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;{{ range \u003c\/span\u003e$key\u003cspan style=\u0022color:#e6db74\u0022\u003e, \u003c\/span\u003e$value\u003cspan style=\u0022color:#e6db74\u0022\u003e := .Spec.Labels }}{{ printf \\\u0026#34;%s\\\\n\\\u0026#34; \u003c\/span\u003e$key\u003cspan style=\u0022color:#e6db74\u0022\u003e }}{{ end }}\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;debian2.localdomain\u0026#34;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;delta\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;0:00:00.147106\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;end\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;2020-09-04 11:18:20.899896\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;msg\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;non-zero return code\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;rc\u0026#34;\u003c\/span\u003e: 1, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;start\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;2020-09-04 11:18:20.752790\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;stderr\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Error: No such object: debian2.localdomain\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;stderr_lines\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Error: No such object: debian2.localdomain\u0026#34;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;stdout\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;stdout_lines\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#f92672\u0022\u003e[]}\u003c\/span\u003e\n...\nfatal: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003emanager01\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e: FAILED! \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u0026gt; \u003cspan style=\u0022color:#f92672\u0022\u003e{\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;msg\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;You need to install \\\u0026#34;jmespath\\\u0026#34; prior to running json_query filter\u0026#34;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e}\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n第二個比較簡單所以先解決，只是ansible machine缺了jmespath這個包\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e# apt install python jmespath\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-bash\u0022 data-lang=\u0022bash\u0022\u003e$ ansible-playbook \n...\n$ ansible-playbook playbook.yml -i hosts -K\nBECOME password: \n\n...\nTASK \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003eatosatto.docker-swarm : Download docker-compose.\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e ************************************************************************************************************************************************************************************\nchanged: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003emanager01\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\n\nPLAY RECAP *********************************************************************************************************************************************************************************************************************************\nmanager01                  : ok\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e35\u003c\/span\u003e   changed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e    unreachable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    failed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    skipped\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e25\u003c\/span\u003e   rescued\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    ignored\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e   \nworker01                   : ok\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e27\u003c\/span\u003e   changed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    unreachable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    failed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e    skipped\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e20\u003c\/span\u003e   rescued\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    ignored\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e   \n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e就能繼續跑task了\n\u003cbr\u003e\u003c\/br\u003e\n另一個問題相當顯而易見，主要是role的問題\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026quot;stderr\u0026quot;: \u0026quot;Error: No such object: debian2.localdomain\u0026quot;\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e可以看得出是docker inspect的指令找不到FQDN，因為這裡使用的是hostname\n\u003cbr\u003e\u003c\/br\u003e\n接著來源頭找找，有三處的ansible_fqdn\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:~\/.ansible\/roles\/atosatto.docker-swarm\/tasks\/setup-swarm-labels.yml\u0022 data-lang=\u0022:~\/.ansible\/roles\/atosatto.docker-swarm\/tasks\/setup-swarm-labels.yml\u0022\u003e---\n\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003ename\u003c\/span\u003e: Get list of labels.\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003ecommand\u003c\/span\u003e: \u0026gt;\u003cspan style=\u0022color:#e6db74\u0022\u003e-\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e         docker inspect\u003c\/span\u003e\n         --format {% raw %}\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;{{ range $key, $value := .Spec.Labels }}{{ printf \u0026#34;%s\\n\u0026#34; $key }}{{ end }}\u0026#39;\u003c\/span\u003e{% endraw %}\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e         {{ ansible_fqdn|lower }}\n\u003c\/span\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003eregister\u003c\/span\u003e: docker_swarm_labels\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003echanged_when\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003edelegate_to\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;{{ groups[\u0026#39;docker_swarm_manager\u0026#39;][0] }}\u0026#34;\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003edelegate_facts\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003etags\u003c\/span\u003e:\n    - swarm_labels\n\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003ename\u003c\/span\u003e: Remove labels from swarm node.\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003ecommand\u003c\/span\u003e: docker node update --label-rm {{ item }} {{ ansible_fqdn|lower }}\n\u003c\/span\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003ewith_items\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;{{ docker_swarm_labels.stdout_lines }}\u0026#34;\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003ewhen\u003c\/span\u003e: item not in swarm_labels\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003edelegate_to\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;{{ groups[\u0026#39;docker_swarm_manager\u0026#39;][0] }}\u0026#34;\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003edelegate_facts\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003etags\u003c\/span\u003e:\n    - swarm_labels\n\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003ename\u003c\/span\u003e: Assign labels to swarm nodes if any.\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003ecommand\u003c\/span\u003e: docker node update --label-add {{ item }}=\u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e {{ ansible_fqdn|lower }}\n\u003c\/span\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003ewhen\u003c\/span\u003e: item not in docker_swarm_labels.stdout_lines\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003ewith_items\u003c\/span\u003e:\n    - \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;{{ swarm_labels  | default([]) }}\u0026#34;\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003edelegate_to\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;{{ groups[\u0026#39;docker_swarm_manager\u0026#39;][0] }}\u0026#34;\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003edelegate_facts\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003etags\u003c\/span\u003e:\n    - swarm_labels\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n只要修改成下面的樣子就沒問題了\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:~\/.ansible\/roles\/atosatto.docker-swarm\/tasks\/setup-swarm-labels.yml\u0022 data-lang=\u0022:~\/.ansible\/roles\/atosatto.docker-swarm\/tasks\/setup-swarm-labels.yml\u0022\u003e---\n\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003ename\u003c\/span\u003e: Get list of labels.\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003ecommand\u003c\/span\u003e: \u0026gt;\u003cspan style=\u0022color:#e6db74\u0022\u003e-\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e         docker inspect\u003c\/span\u003e\n         --format {% raw %}\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;{{ range $key, $value := .Spec.Labels }}{{ printf \u0026#34;%s\\n\u0026#34; $key }}{{ end }}\u0026#39;\u003c\/span\u003e{% endraw %}\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e         {{ ansible_hostname|lower }}\n\u003c\/span\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003eregister\u003c\/span\u003e: docker_swarm_labels\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003echanged_when\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003edelegate_to\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;{{ groups[\u0026#39;docker_swarm_manager\u0026#39;][0] }}\u0026#34;\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003edelegate_facts\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003etags\u003c\/span\u003e:\n    - swarm_labels\n\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003ename\u003c\/span\u003e: Remove labels from swarm node.\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003ecommand\u003c\/span\u003e: docker node update --label-rm {{ item }} {{ ansible_hostname|lower }}\n\u003c\/span\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003ewith_items\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;{{ docker_swarm_labels.stdout_lines }}\u0026#34;\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003ewhen\u003c\/span\u003e: item not in swarm_labels\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003edelegate_to\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;{{ groups[\u0026#39;docker_swarm_manager\u0026#39;][0] }}\u0026#34;\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003edelegate_facts\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003etags\u003c\/span\u003e:\n    - swarm_labels\n\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003ename\u003c\/span\u003e: Assign labels to swarm nodes if any.\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003ecommand\u003c\/span\u003e: docker node update --label-add {{ item }}=\u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e {{ ansible_hostname|lower }}\n\u003c\/span\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003ewhen\u003c\/span\u003e: item not in docker_swarm_labels.stdout_lines\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003ewith_items\u003c\/span\u003e:\n    - \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;{{ swarm_labels  | default([]) }}\u0026#34;\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003edelegate_to\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;{{ groups[\u0026#39;docker_swarm_manager\u0026#39;][0] }}\u0026#34;\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003edelegate_facts\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003etags\u003c\/span\u003e:\n    - swarm_labels\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接著再嘗試一次\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-shell\u0022 data-lang=\u0022shell\u0022\u003e$ ansible-playbook playbook.yml -i hosts -K\n...\n\n\nPLAY RECAP *********************************************************************************************************************************************************************************************************************************\nmanager01                  : ok\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e35\u003c\/span\u003e   changed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    unreachable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    failed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    skipped\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e25\u003c\/span\u003e   rescued\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    ignored\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e   \nworker01                   : ok\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e38\u003c\/span\u003e   changed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e4\u003c\/span\u003e    unreachable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    failed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    skipped\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e22\u003c\/span\u003e   rescued\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    ignored\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e   \n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e成功！\n\u003cbr\u003e\u003c\/br\u003e\n接下來也能到manager上確認一下狀況\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-text\u0022 data-lang=\u0022text\u0022\u003e$ docker node ls\nID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS      ENGINE VERSION\nhjlfykxsxlz5rzfcc17dvxsb7 *   debian1             Ready               Active              Leader              19.03.12\nwhhhx2g22eh1shn65wdwyx13k     debian2             Ready               Active                                  19.03.12\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e',
    
    
      date: '2020-09-03',
    
    
      tags: '[Ansible Docker]',
    
    
      categories: '[運維管理]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009011649\/',
    
      title: '從今天開始學Ansible',
    
    
      summary: '\u003cp\u003e雖然久仰Ansible大名，但總是停留在紙上談兵的階段，這次就先練習一遍，熟悉點再來自己寫role\u003c\/p\u003e\n\u003cp\u003e參考文件：\u003ca href=\u0022https:\/\/docs.ansible.com\/\u0022\u003ehttps:\/\/docs.ansible.com\/\u003c\/a\u003e\u003c\/p\u003e',
      content: '\u003cp\u003e雖然久仰Ansible大名，但總是停留在紙上談兵的階段，這次就先練習一遍，熟悉點再來自己寫role\u003c\/p\u003e\n\u003cp\u003e參考文件：\u003ca href=\u0022https:\/\/docs.ansible.com\/\u0022\u003ehttps:\/\/docs.ansible.com\/\u003c\/a\u003e\u003c\/p\u003e\n\u003cp\u003e本次環境用四台VM，分別是\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003eDebian 9.7(Controller)：192.168.149.130\u003c\/li\u003e\n\u003cli\u003eDebian 9.7(Target) * 2：192.168.149.131 .133\u003c\/li\u003e\n\u003cli\u003eCentOS 7.7(Ansible Target)：192.168.149.132\n\u003cbr\u003e\u003c\/br\u003e\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e首先來安裝最新版的Ansible\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e# echo \u0027deb http:\/\/ppa.launchpad.net\/ansible\/ansible\/ubuntu trusty main\u0027 \u0026gt;\u0026gt; \/etc\/apt\/sources.list\n# apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 93C4A3FD7BB9C367\n# apt update\n# apt install ansible\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n確認一下版本\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ ansible --version\nansible 2.9.13\n  config file = \/etc\/ansible\/ansible.cfg\n  configured module search path = [u\u0027\/root\/.ansible\/plugins\/modules\u0027, u\u0027\/usr\/share\/ansible\/plugins\/modules\u0027]\n  ansible python module location = \/usr\/lib\/python2.7\/dist-packages\/ansible\n  executable location = \/usr\/bin\/ansible\n  python version = 2.7.13 (default, Sep 26 2018, 18:42:22) [GCC 6.3.0 20170516]\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n首先使用ping module試試\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ ansible all -m ping\n[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match \u0027all\u0027\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e會很貼心地說hosts是空的，值得議題的是，implicit的group會有兩種，一個是\u003ccode\u003eall\u003c\/code\u003e，另一個則是\u003ccode\u003eungrouped\u003c\/code\u003e，兩者皆不會匹配到localhost\n\u003cbr\u003e\u003c\/br\u003e\n那就指定成localhost\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ ansible localhost -m ping\nlocalhost | SUCCESS =\u0026gt; {\n    \u0026quot;changed\u0026quot;: false, \n    \u0026quot;ping\u0026quot;: \u0026quot;pong\u0026quot;\n}\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e就可以看到ping成功的訊息了\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022設定inventory\u0022\u003e設定Inventory\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來就是建立自己的inventory，預設的ansible目錄是這樣\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e\/etc\/ansible\/\n├── ansible.cfg\n├── hosts\n└── roles\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n而這次要修改的就是這個\u003cstrong\u003ehosts\u003c\/strong\u003e，host的格式可使用INI和YAML，而這次練習用了這三個變數\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003eansible_user → 登入帳號\u003c\/li\u003e\n\u003cli\u003eansible_password → 登入密碼(不使用key的時候採用的)\u003c\/li\u003e\n\u003cli\u003eansible_python_interpreter → 檢查target的interpreter\nINI範例：\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-INI\u0022 data-lang=\u0022INI\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003e[group1]\u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e192.168.149.131\u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e192.168.149.133\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003e[group1:vars]\u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003eansible_user\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eabc\u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003eansible_password\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e123\u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003eansible_python_interpreter\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003eauto_legacy_silent\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nYAML範例：\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-YAML\u0022 data-lang=\u0022YAML\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eall\u003c\/span\u003e:\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003echildren\u003c\/span\u003e:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003egroup1\u003c\/span\u003e:\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003ehosts\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003e192.168.149.131\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003e192.168.149.133\u003c\/span\u003e:\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003evars\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eansible_user\u003c\/span\u003e: abc\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eansible_password\u003c\/span\u003e: \u003cspan style=\u0022color:#ae81ff\u0022\u003e123\u003c\/span\u003e\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eansible_python_interpreter\u003c\/span\u003e: auto_legacy_silent\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n使用YAML的話，最底層必須是all，像以下範例的話，一台host會列為\u003ccode\u003eungrouped\u003c\/code\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-YAML\u0022 data-lang=\u0022YAML\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eall\u003c\/span\u003e:\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003echildren\u003c\/span\u003e:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003egroup1\u003c\/span\u003e:\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003ehosts\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003e192.168.149.131\u003c\/span\u003e:\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003ehosts\u003c\/span\u003e:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003e192.168.149.133\u003c\/span\u003e:\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n可以用以下指令來確認inventory\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ ansible-inventory --graph\n@all:\n  |--@group1:\n  |  |--192.168.149.131\n  |  |--192.168.149.133\n  |--@ungrouped:\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nAnsible預設會進行ssh key checking，這裡為了方便先取消掉\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:ansible.cfg\u0022 data-lang=\u0022:ansible.cfg\u0022\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e...\u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003ehost_key_checking\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003eFalse\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n再ping一次就成功了，因為沒有變更，所以changed會是false\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-bash\u0022 data-lang=\u0022bash\u0022\u003e$ ansible all -m ping\n192.168.149.131 | SUCCESS \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u0026gt; \u003cspan style=\u0022color:#f92672\u0022\u003e{\u003c\/span\u003e\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;ansible_facts\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#f92672\u0022\u003e{\u003c\/span\u003e\n        \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;discovered_interpreter_python\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;\/usr\/bin\/python\u0026#34;\u003c\/span\u003e\n    \u003cspan style=\u0022color:#f92672\u0022\u003e}\u003c\/span\u003e, \n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;changed\u0026#34;\u003c\/span\u003e: false, \n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;ping\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;pong\u0026#34;\u003c\/span\u003e\n\u003cspan style=\u0022color:#f92672\u0022\u003e}\u003c\/span\u003e\n192.168.149.133 | SUCCESS \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u0026gt; \u003cspan style=\u0022color:#f92672\u0022\u003e{\u003c\/span\u003e\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;ansible_facts\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#f92672\u0022\u003e{\u003c\/span\u003e\n        \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;discovered_interpreter_python\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;\/usr\/bin\/python\u0026#34;\u003c\/span\u003e\n    \u003cspan style=\u0022color:#f92672\u0022\u003e}\u003c\/span\u003e, \n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;changed\u0026#34;\u003c\/span\u003e: false, \n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;ping\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;pong\u0026#34;\u003c\/span\u003e\n\u003cspan style=\u0022color:#f92672\u0022\u003e}\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n不用-m的話，也能用-a來讓target輸入指令\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-bash\u0022 data-lang=\u0022bash\u0022\u003e$ ansible group1 -a \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/bin\/echo \u0026#34;hello\u0026#34;\u0026#39;\u003c\/span\u003e\n192.168.149.133 | CHANGED | rc\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e \u0026gt;\u0026gt;\nhello\n192.168.149.131 | CHANGED | rc\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e \u0026gt;\u0026gt;\nhello\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022使用playbook\u0022\u003e使用Playbook\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n首先建立一個yaml檔，可直接指定先前的group，在指定incentory file的情況下，預設會吃ansible\/hosts\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:playbook.yml\u0022 data-lang=\u0022:playbook.yml\u0022\u003e\n---\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003ehosts\u003c\/span\u003e: group1\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-bash\u0022 data-lang=\u0022bash\u0022\u003e$ ansible-playbook playbook.yml \n\nPLAY \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003egroup1\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e ******************************************************************************************************************************************************************************************************************************\n\nTASK \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003eGathering Facts\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e *********************************************************************************************************************************************************************************************************************\nok: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.131\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\nok: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.133\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\n\nPLAY RECAP *********************************************************************************************************************************************************************************************************************************\n192.168.149.131            : ok\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e    changed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    unreachable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    failed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    skipped\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    rescued\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    ignored\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e   \n192.168.149.133            : ok\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e    changed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    unreachable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    failed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    skipped\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    rescued\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    ignored\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e  \n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n試著定義task，使用apt module\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:playbook.yml\u0022 data-lang=\u0022:playbook.yml\u0022\u003e\n---\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003ehosts\u003c\/span\u003e: group1\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003etasks\u003c\/span\u003e:\n    - \u003cspan style=\u0022color:#66d9ef\u0022\u003ename\u003c\/span\u003e: install latest python3\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003eapt\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ename\u003c\/span\u003e: python3\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003estate\u003c\/span\u003e: present\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eupdate_cache\u003c\/span\u003e: yes\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n想當然爾會遇到權限問題\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-bash\u0022 data-lang=\u0022bash\u0022\u003e$ ansible-playbook playbook.yml\n\nPLAY \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003egroup1\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e ******************************************************************************************************************************************************************************************************************************\n\nTASK \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003eGathering Facts\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e *********************************************************************************************************************************************************************************************************************\nok: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.133\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\nok: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.131\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\n\nTASK \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003einstall latest python3\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e ***************************************************************************************************************************************************************************************************************\n\u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003eWARNING\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e: Updating cache and auto-installing missing dependency: python-apt\nfatal: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.131\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e: FAILED! \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u0026gt; \u003cspan style=\u0022color:#f92672\u0022\u003e{\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;changed\u0026#34;\u003c\/span\u003e: false, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;cmd\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;apt-get update\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;msg\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;E: Could not open lock file \/var\/lib\/apt\/lists\/lock - open (13: Permission denied)\\nE: Unable to lock directory \/var\/lib\/apt\/lists\/\\nW: Problem unlinking the file \/var\/cache\/apt\/pkgcache.bin - RemoveCaches (13: Permission denied)\\nW: Problem unlinking the file \/var\/cache\/apt\/srcpkgcache.bin - RemoveCaches (13: Permission denied)\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;rc\u0026#34;\u003c\/span\u003e: 100, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;stderr\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;E: Could not open lock file \/var\/lib\/apt\/lists\/lock - open (13: Permission denied)\\nE: Unable to lock directory \/var\/lib\/apt\/lists\/\\nW: Problem unlinking the file \/var\/cache\/apt\/pkgcache.bin - RemoveCaches (13: Permission denied)\\nW: Problem unlinking the file \/var\/cache\/apt\/srcpkgcache.bin - RemoveCaches (13: Permission denied)\\n\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;stderr_lines\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;E: Could not open lock file \/var\/lib\/apt\/lists\/lock - open (13: Permission denied)\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;E: Unable to lock directory \/var\/lib\/apt\/lists\/\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;W: Problem unlinking the file \/var\/cache\/apt\/pkgcache.bin - RemoveCaches (13: Permission denied)\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;W: Problem unlinking the file \/var\/cache\/apt\/srcpkgcache.bin - RemoveCaches (13: Permission denied)\u0026#34;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;stdout\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Reading package lists...\\n\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;stdout_lines\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Reading package lists...\u0026#34;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e]}\u003c\/span\u003e\nfatal: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.133\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e: FAILED! \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u0026gt; \u003cspan style=\u0022color:#f92672\u0022\u003e{\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;changed\u0026#34;\u003c\/span\u003e: false, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;cmd\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;apt-get update\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;msg\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;E: Could not open lock file \/var\/lib\/apt\/lists\/lock - open (13: Permission denied)\\nE: Unable to lock directory \/var\/lib\/apt\/lists\/\\nW: Problem unlinking the file \/var\/cache\/apt\/pkgcache.bin - RemoveCaches (13: Permission denied)\\nW: Problem unlinking the file \/var\/cache\/apt\/srcpkgcache.bin - RemoveCaches (13: Permission denied)\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;rc\u0026#34;\u003c\/span\u003e: 100, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;stderr\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;E: Could not open lock file \/var\/lib\/apt\/lists\/lock - open (13: Permission denied)\\nE: Unable to lock directory \/var\/lib\/apt\/lists\/\\nW: Problem unlinking the file \/var\/cache\/apt\/pkgcache.bin - RemoveCaches (13: Permission denied)\\nW: Problem unlinking the file \/var\/cache\/apt\/srcpkgcache.bin - RemoveCaches (13: Permission denied)\\n\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;stderr_lines\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;E: Could not open lock file \/var\/lib\/apt\/lists\/lock - open (13: Permission denied)\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;E: Unable to lock directory \/var\/lib\/apt\/lists\/\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;W: Problem unlinking the file \/var\/cache\/apt\/pkgcache.bin - RemoveCaches (13: Permission denied)\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;W: Problem unlinking the file \/var\/cache\/apt\/srcpkgcache.bin - RemoveCaches (13: Permission denied)\u0026#34;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;stdout\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Reading package lists...\\n\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;stdout_lines\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Reading package lists...\u0026#34;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e]}\u003c\/span\u003e\n\nPLAY RECAP *********************************************************************************************************************************************************************************************************************************\n192.168.149.131            : ok\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e    changed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    unreachable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    failed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e    skipped\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    rescued\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    ignored\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e   \n192.168.149.133            : ok\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e    changed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    unreachable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    failed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e    skipped\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    rescued\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    ignored\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e     \n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n剛才失敗的task動作的順序原本是這樣：\u003c\/p\u003e\n\u003cp\u003elogin → apt install python3\u003c\/p\u003e\n\u003cp\u003e只要加了become動作會變成：\u003c\/p\u003e\n\u003cp\u003elogin → sudo apt install python3\u003c\/p\u003e\n\u003cp\u003e但是target是debian，預設沒有sudo，所以範例會是下列的樣子\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:playbook.yml\u0022 data-lang=\u0022:playbook.yml\u0022\u003e\n---\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003ehosts\u003c\/span\u003e: group1\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003ebecome\u003c\/span\u003e: yes\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003ebecome_method\u003c\/span\u003e: su\n\u003c\/span\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003etasks\u003c\/span\u003e:\n    - \u003cspan style=\u0022color:#66d9ef\u0022\u003ename\u003c\/span\u003e: install latest python3\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003eapt\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ename\u003c\/span\u003e: python3\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003estate\u003c\/span\u003e: present\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eupdate_cache\u003c\/span\u003e: yes\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來就能使用playbook的task安裝python3了，記得option加上-K，輸入become password\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-bash\u0022 data-lang=\u0022bash\u0022\u003e$ ansible-playbook playbook.yml -K\nBECOME password: \n\nPLAY \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003egroup1\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e ******************************************************************************************************************************************************************************************************************************\n\nTASK \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003eGathering Facts\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e *********************************************************************************************************************************************************************************************************************\nok: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.133\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\nok: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.131\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\n\nTASK \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003einstall latest python3\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e **************************************************************************************************************************************************************************************************************\nok: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.131\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\nok: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.133\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\n\nPLAY RECAP *********************************************************************************************************************************************************************************************************************************\n192.168.149.131            : ok\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e2\u003c\/span\u003e    changed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    unreachable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    failed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    skipped\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    rescued\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    ignored\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e   \n192.168.149.133            : ok\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e2\u003c\/span\u003e    changed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    unreachable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    failed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    skipped\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    rescued\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    ignored\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e  \n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022建立role\u0022\u003e建立Role\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來就是建立role了，role裡面可以包含許多task，方便整理\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ mkdir -p roles\/common\/tasks\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n既然要重複使用role，想必一定要有判斷作業系統設定比較合理，常見的像是RPM-Based和DEB-Based，在安裝時就需要yum跟apt不同module，\n這次練習就依照這情境，建立測試用的task，分別是main.yml、redhat.yml、debian.yml\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:roles\/common\/tasks\/main.yml\u0022 data-lang=\u0022:roles\/common\/tasks\/main.yml\u0022\u003e\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003ename\u003c\/span\u003e: test os\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003eimport_tasks\u003c\/span\u003e: redhat.yml\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003ewhen\u003c\/span\u003e: ansible_facts[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;os_family\u0026#39;\u003c\/span\u003e]|lower == \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;redhat\u0026#39;\u003c\/span\u003e\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003eimport_tasks\u003c\/span\u003e: debian.yml\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003ewhen\u003c\/span\u003e: ansible_facts[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;os_family\u0026#39;\u003c\/span\u003e]|lower == \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;debian\u0026#39;\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:roles\/common\/tasks\/redhat.yml\u0022 data-lang=\u0022:roles\/common\/tasks\/redhat.yml\u0022\u003e\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003eshell\u003c\/span\u003e: echo \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;I am redhat\u0026#39;\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003eregister\u003c\/span\u003e: shell_result\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003edebug\u003c\/span\u003e:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e: shell_result.stdout_lines\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:roles\/common\/tasks\/debian.yml\u0022 data-lang=\u0022:roles\/common\/tasks\/debian.yml\u0022\u003e\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003eshell\u003c\/span\u003e: echo \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;I am debian\u0026#39;\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003eregister\u003c\/span\u003e: shell_result\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003edebug\u003c\/span\u003e:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e: shell_result.stdout_lines\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e使用shell module，用debug來收回stdout\n\u003cbr\u003e\u003c\/br\u003e\n目錄的樹狀圖會是這樣\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e.\n├── playbook.yml\n└── roles\n    └── common\n        └── tasks\n            ├── debian.yml\n            ├── main.yml\n            └── redhat.yml\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接著變更inventory，加上group2，內有一台centos\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-yml\u0022 data-lang=\u0022yml\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eall\u003c\/span\u003e:\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003echildren\u003c\/span\u003e:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003egroup1\u003c\/span\u003e:\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003ehosts\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003e192.168.149.131\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003e192.168.149.133\u003c\/span\u003e:\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003evars\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eansible_user\u003c\/span\u003e: qaz\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eansible_password\u003c\/span\u003e: \u003cspan style=\u0022color:#ae81ff\u0022\u003e123\u003c\/span\u003e\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eansible_python_interpreter\u003c\/span\u003e: auto_legacy_silent\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003egroup2\u003c\/span\u003e:\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003ehosts\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003e192.168.149.132\u003c\/span\u003e:\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003evars\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eansible_user\u003c\/span\u003e: root\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eansible_password\u003c\/span\u003e: \u003cspan style=\u0022color:#ae81ff\u0022\u003e123\u003c\/span\u003e\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eansible_python_interpreter\u003c\/span\u003e: auto_legacy_silent\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nplaybook增加剛才的group，兩個group的role同為common\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:playbook.yml\u0022 data-lang=\u0022:playbook.yml\u0022\u003e\n---\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003ehosts\u003c\/span\u003e: group1\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003ebecome\u003c\/span\u003e: yes\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003ebecome_method\u003c\/span\u003e: su\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003eroles\u003c\/span\u003e:\n    - common\n\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003ehosts\u003c\/span\u003e: group2\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003eroles\u003c\/span\u003e:\n    - common\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n這樣輸出的畫面就是這樣，顯而易見兩者echo的是不同的string，這樣基礎練習就到此為止收工啦\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-bash\u0022 data-lang=\u0022bash\u0022\u003e$ ansible-playbook playbook.yml -K\nBECOME password: \n\nPLAY \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003egroup1\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e ******************************************************************************************************************************************************************************************************************************\n\nTASK \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003eGathering Facts\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e *********************************************************************************************************************************************************************************************************************\nok: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.133\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\nok: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.131\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\n\nTASK \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003ecommon : shell\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e **********************************************************************************************************************************************************************************************************************\nskipping: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.133\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\nskipping: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.131\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\n\nTASK \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003ecommon : debug\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e **********************************************************************************************************************************************************************************************************************\nskipping: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.133\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\nskipping: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.131\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\n\nTASK \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003ecommon : shell\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e **********************************************************************************************************************************************************************************************************************\nchanged: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.131\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\nchanged: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.133\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\n\nTASK \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003ecommon : debug\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e **********************************************************************************************************************************************************************************************************************\nok: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.133\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u0026gt; \u003cspan style=\u0022color:#f92672\u0022\u003e{\u003c\/span\u003e\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;shell_result.stdout_lines\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e\n        \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;I am debian\u0026#34;\u003c\/span\u003e\n    \u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\n\u003cspan style=\u0022color:#f92672\u0022\u003e}\u003c\/span\u003e\nok: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.131\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u0026gt; \u003cspan style=\u0022color:#f92672\u0022\u003e{\u003c\/span\u003e\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;shell_result.stdout_lines\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e\n        \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;I am debian\u0026#34;\u003c\/span\u003e\n    \u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\n\u003cspan style=\u0022color:#f92672\u0022\u003e}\u003c\/span\u003e\n\nPLAY \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003egroup2\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e ******************************************************************************************************************************************************************************************************************************\n\nTASK \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003eGathering Facts\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e *********************************************************************************************************************************************************************************************************************\nok: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.132\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\n\nTASK \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003ecommon : shell\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e **********************************************************************************************************************************************************************************************************************\nchanged: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.132\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\n\nTASK \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003ecommon : debug\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e **********************************************************************************************************************************************************************************************************************\nok: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.132\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u0026gt; \u003cspan style=\u0022color:#f92672\u0022\u003e{\u003c\/span\u003e\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;shell_result.stdout_lines\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e\n        \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;I am redhat\u0026#34;\u003c\/span\u003e\n    \u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\n\u003cspan style=\u0022color:#f92672\u0022\u003e}\u003c\/span\u003e\n\nTASK \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003ecommon : shell\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e **********************************************************************************************************************************************************************************************************************\nskipping: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.132\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\n\nTASK \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003ecommon : debug\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e **********************************************************************************************************************************************************************************************************************\nskipping: \u003cspan style=\u0022color:#f92672\u0022\u003e[\u003c\/span\u003e192.168.149.132\u003cspan style=\u0022color:#f92672\u0022\u003e]\u003c\/span\u003e\n\nPLAY RECAP *********************************************************************************************************************************************************************************************************************************\n192.168.149.131            : ok\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e3\u003c\/span\u003e    changed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e    unreachable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    failed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    skipped\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e2\u003c\/span\u003e    rescued\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    ignored\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e   \n192.168.149.132            : ok\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e3\u003c\/span\u003e    changed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e    unreachable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    failed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    skipped\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e2\u003c\/span\u003e    rescued\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    ignored\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e   \n192.168.149.133            : ok\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e3\u003c\/span\u003e    changed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e    unreachable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    failed\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    skipped\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e2\u003c\/span\u003e    rescued\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e    ignored\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e   \n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e',
    
    
      date: '2020-09-01',
    
    
      tags: '[Ansible]',
    
    
      categories: '[運維管理]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008281726\/',
    
      title: '從Scrapy開始玩爬蟲',
    
    
      summary: '\u003cp\u003e為了之後的學習方向做準備，來練習一下Scrapy，Scrapy就是處理response的工具，並從中取得自己需要的資料，\u003c\/p\u003e\n\u003cp\u003e這次就做個最低限度的練習\u003c\/p\u003e',
      content: '\u003cp\u003e為了之後的學習方向做準備，來練習一下Scrapy，Scrapy就是處理response的工具，並從中取得自己需要的資料，\u003c\/p\u003e\n\u003cp\u003e這次就做個最低限度的練習\u003c\/p\u003e\n\u003cp\u003e這次主要接觸的就以下三者：\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003eSpider\n\u003cul\u003e\n\u003cli\u003e用於爬網站\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003eItem\n\u003cul\u003e\n\u003cli\u003e將爬到的東西構造話的資料模型\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003ePipeline\n\u003cul\u003e\n\u003cli\u003e處理Spider回傳的Item\n\u003cbr\u003e\u003c\/br\u003e\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e開始動手囉\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022事前準備\u0022\u003e事前準備\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n首先安裝必要的包\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003epip install Scrapy\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來就可以用指令建立project\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ scrapy startproject scrapy_toturial\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nproject目錄下的樹狀圖是這樣的\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003escrapy_tutorial\r\n│  scrapy.cfg\r\n│\r\n└─scrapy_tutorial\r\n    │  items.py\r\n    │  middlewares.py\r\n    │  pipelines.py\r\n    │  settings.py\r\n    │  __init__.py\r\n    │\r\n    └─spiders\r\n            __init__.py\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e接下來就可以開始動手做啦\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022建立一個spider\u0022\u003e建立一個Spider\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來就是建立spider了，spider就是負責取得response的關鍵，範例就這個很久沒更新的\u003ca href=\u0022https:\/\/hugo-theme-ranking.oika.me\/\u0022\u003ehugo theme ranking\u003c\/a\u003e吧！\u003c\/p\u003e\n\u003cp\u003e輸入以下指令就會在當前目錄建立spider，為求整齊，建立在\/spiders底下\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ scrapy genspider hugo_ranking https:\/\/hugo-theme-ranking.oika.me\/\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n現在的樹狀圖會是這樣\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003escrapy_tutorial\r\n│  scrapy.cfg\r\n│\r\n└─scrapy_tutorial\r\n    │  items.py\r\n    │  middlewares.py\r\n    │  pipelines.py\r\n    │  settings.py\r\n    │  __init__.py\r\n    │\r\n    └─spiders\r\n            hugo_ranking.py ★\r\n            __init__.py\r\n\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n預設的spider是這個樣子，一切的關鍵就在於這個parse()\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:scrapy_toturial\/spiders\/hugo_ranking.py\u0022 data-lang=\u0022:scrapy_toturial\/spiders\/hugo_ranking.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e scrapy\n\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eHugoRankingSpider\u003c\/span\u003e(scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eSpider):\n    name \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;hugo_ranking\u0026#39;\u003c\/span\u003e\n    allowed_domains \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;hugo-theme-ranking.oika.me\u0026#39;\u003c\/span\u003e]\n    start_urls \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;http:\/\/hugo-theme-ranking.oika.me\/\u0026#39;\u003c\/span\u003e]\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eparse\u003c\/span\u003e(self, response):\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003epass\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n也可以用指令列出當前project的spiders\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ scrapy list\r\nhugo_ranking\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來就可以「爬」一遍啦\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ scrapy crawl hugo_ranking\r\n...\r\n \u0027start_time\u0027: datetime.datetime(2020, 8, 31, 5, 56, 48, 766086)}\r\n2020-08-31 13:56:51 [scrapy.core.engine] INFO: Spider closed (finished)\r\n\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e當然除了log外是沒輸出的，因為parse()的內容還沒定義\n\u003cbr\u003e\u003c\/br\u003e\n主要需要coding的是這個地方，像以下的範例，會將html以text的格式print出來，也就是stdout\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:scrapy_toturial\/spiders\/hugo_ranking.py\u0022 data-lang=\u0022:scrapy_toturial\/spiders\/hugo_ranking.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e scrapy\n\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eHugoRankingSpider\u003c\/span\u003e(scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eSpider):\n    name \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;hugo_ranking\u0026#39;\u003c\/span\u003e\n    allowed_domains \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;hugo-theme-ranking.oika.me\u0026#39;\u003c\/span\u003e]\n    start_urls \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;http:\/\/hugo-theme-ranking.oika.me\/\u0026#39;\u003c\/span\u003e]\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eparse\u003c\/span\u003e(self, response):\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003etext)\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n當然也能用open把html存成檔案\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:scrapy_toturial\/spiders\/hugo_ranking.py\u0022 data-lang=\u0022:scrapy_toturial\/spiders\/hugo_ranking.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e scrapy\n\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eHugoRankingSpider\u003c\/span\u003e(scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eSpider):\n    name \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;hugo_ranking\u0026#39;\u003c\/span\u003e\n    allowed_domains \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;hugo-theme-ranking.oika.me\u0026#39;\u003c\/span\u003e]\n    start_urls \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;http:\/\/hugo-theme-ranking.oika.me\/\u0026#39;\u003c\/span\u003e]\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eparse\u003c\/span\u003e(self, response):\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        filename \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e%s\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e.html\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e%\u003c\/span\u003e response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eurl\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esplit(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/\u0026#39;\u003c\/span\u003e)[\u003cspan style=\u0022color:#f92672\u0022\u003e-\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e2\u003c\/span\u003e]\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        f \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e open(filename, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;wb\u0026#39;\u003c\/span\u003e)\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        f\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ewrite(response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ebody)\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n可以開始試著抓資料囉，接著就是用selector來取得自己想要的部分，這次的範例就先參考list\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-html\u0022 data-lang=\u0022html\u0022\u003e...\n\n\t\t\t\t\t\t\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eul\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;theme-list\u0026#34;\u003c\/span\u003e\u0026gt;\n\t\t\t\t\t\t\t\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;theme-item\u0026#34;\u003c\/span\u003e\u0026gt;\n\t\t\t\t\t\t\t\t\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;theme-border\u0026#34;\u003c\/span\u003e\u0026gt;\n\t\t\t\t\t\t\t\t\t\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehref\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/themes.gohugo.io\/academic\/\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etarget\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;_blank\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erel\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;noopener\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eimg\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;images\\thums\\Academic.png\u0026#34;\u003c\/span\u003e\/\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e\u0026gt;\n\t\t\t\t\t\t\t\t\t\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003espan\u003c\/span\u003e\u0026gt;\n\t\t\t\t\t\t\t\t\t\t\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003espan\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;theme-label\u0026#34;\u003c\/span\u003e\u0026gt;1. \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehref\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/themes.gohugo.io\/academic\/\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etarget\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;_blank\u0026#34;\u003c\/span\u003e\u0026gt;Academic\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e\u0026gt; (\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehref\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/github.com\/gcushen\/hugo-academic.git\u0026#34;\u003c\/span\u003e\u0026gt;3065\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e\u0026gt;)\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003espan\u003c\/span\u003e\u0026gt;\n\t\t\t\t\t\t\t\t\t\t\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003espan\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;tags\u0026#34;\u003c\/span\u003e\u0026gt;#academic #portfolio #responsive #student #personal #university #blog #minimal\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003espan\u003c\/span\u003e\u0026gt;\n\t\t\t\t\t\t\t\t\t\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003espan\u003c\/span\u003e\u0026gt;\n\t\t\t\t\t\t\t\t\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\t\t\t\t\t\t\t\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e\u0026gt;\n...\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n下面的範例就是用yield，讓parse()成為一個generator，回傳的值會是dict\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:scrapy_toturial\/spiders\/hugo_ranking.py\u0022 data-lang=\u0022:scrapy_toturial\/spiders\/hugo_ranking.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e scrapy\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eHugoRankingSpider\u003c\/span\u003e(scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eSpider):\n    name \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;hugo_ranking\u0026#39;\u003c\/span\u003e\n    allowed_domains \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;hugo-theme-ranking.oika.me\u0026#39;\u003c\/span\u003e]\n    start_urls \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;http:\/\/hugo-theme-ranking.oika.me\/\u0026#39;\u003c\/span\u003e]\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eparse\u003c\/span\u003e(self, response):\n\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e theme \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecss(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;li.theme-item\u0026#39;\u003c\/span\u003e):\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#66d9ef\u0022\u003eyield\u003c\/span\u003e {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e                \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;neme\u0026#39;\u003c\/span\u003e: theme\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecss(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;span.theme-label a::text\u0026#39;\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget(),\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e                \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;url\u0026#39;\u003c\/span\u003e:  theme\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecss(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;span.theme-label a::attr(href)\u0026#39;\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget(),\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e                \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;star\u0026#39;\u003c\/span\u003e: theme\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecss(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;span.theme-label a:nth-child(2)::text\u0026#39;\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget(),\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e                \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;tags\u0026#39;\u003c\/span\u003e: theme\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecss(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;span.tags::text\u0026#39;\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget(),\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            }\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n輸出就會像這樣子，看得出有抓到想要的東西了\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e2020-08-31 15:50:55 [scrapy.core.scraper] DEBUG: Scraped from \u0026lt;200 https:\/\/hugo-theme-ranking.oika.me\/\u0026gt;\r\n{\u0027neme\u0027: \u0027Academic\u0027, \u0027url\u0027: \u0027https:\/\/themes.gohugo.io\/academic\/\u0027, \u0027star\u0027: \u00273065\u0027, \u0027tags\u0027: [\u0027#academic\u0027, \u0027#portfolio\u0027, \u0027#responsive\u0027, \u0027#student\u0027, \u0027#personal\u0027, \u0027#university\u0027, \u0027#blog\u0027, \u0027#minimal\u0027]}\r\n2020-08-31 15:50:55 [scrapy.core.scraper] DEBUG: Scraped from \u0026lt;200 https:\/\/hugo-theme-ranking.oika.me\/\u0026gt;\r\n{\u0027neme\u0027: \u0027Learn\u0027, \u0027url\u0027: \u0027https:\/\/themes.gohugo.io\/hugo-theme-learn\/\u0027, \u0027star\u0027: \u0027692\u0027, \u0027tags\u0027: [\u0027#documentation\u0027, \u0027#grav\u0027, \u0027#learn\u0027, \u0027#doc\u0027, \u0027#search\u0027]}\r\n2020-08-31 15:50:55 [scrapy.core.scraper] DEBUG: Scraped from \u0026lt;200 https:\/\/hugo-theme-ranking.oika.me\/\u0026gt;\r\n\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022使用items\u0022\u003e使用Items\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來加入Item的部分，其實這東西就是一個model，裡面就定義好自己所需的field\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:scrapy_toturial\/items.py\u0022 data-lang=\u0022:scrapy_toturial\/items.py\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e# Define here the models for your scraped items\u003c\/span\u003e\n\u003cspan style=\u0022color:#75715e\u0022\u003e#\u003c\/span\u003e\n\u003cspan style=\u0022color:#75715e\u0022\u003e# See documentation in:\u003c\/span\u003e\n\u003cspan style=\u0022color:#75715e\u0022\u003e# https:\/\/docs.scrapy.org\/en\/latest\/topics\/items.html\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e scrapy\n\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eScrapyTutorialItem\u003c\/span\u003e(scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eItem):\n    \u003cspan style=\u0022color:#75715e\u0022\u003e# define the fields for your item here like:\u003c\/span\u003e\n    \u003cspan style=\u0022color:#75715e\u0022\u003e# name = scrapy.Field()\u003c\/span\u003e\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    name \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eField()\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    url \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eField()\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    star \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eField()\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    tags \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eField()\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n將剛才定義的item導入spider，一樣用generator\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:scrapy_toturial\/spiders\/hugo_ranking.py\u0022 data-lang=\u0022:scrapy_toturial\/spiders\/hugo_ranking.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e scrapy\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e ..items \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e ScrapyTutorialItem\n\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eHugoRankingSpider\u003c\/span\u003e(scrapy\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eSpider):\n    name \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;hugo_ranking\u0026#39;\u003c\/span\u003e\n    allowed_domains \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;hugo-theme-ranking.oika.me\u0026#39;\u003c\/span\u003e]\n    start_urls \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;http:\/\/hugo-theme-ranking.oika.me\/\u0026#39;\u003c\/span\u003e]\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eparse\u003c\/span\u003e(self, response):\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e theme \u003cspan style=\u0022color:#f92672\u0022\u003ein\u003c\/span\u003e response\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecss(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;li.theme-item\u0026#39;\u003c\/span\u003e):\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            item \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e ScrapyTutorialItem()\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            item[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;name\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e theme\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecss(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;span.theme-label a::text\u0026#39;\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget()\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            item[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;url\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e theme\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecss(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;span.theme-label a::attr(href)\u0026#39;\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget()\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            item[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;star\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e theme\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecss(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;span.theme-label a:nth-child(2)::text\u0026#39;\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget()\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            item[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;tags\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e theme\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecss(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;span.tags::text\u0026#39;\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget()\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#66d9ef\u0022\u003eyield\u003c\/span\u003e item\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n然後使用指令就能輸出json了\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ scrapy crawl hugo_ranking -o data.json\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n可以驗收一下成果\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-json\u0022 data-lang=\u0022json\u0022\u003e[\n{\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;name\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Academic\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;url\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/themes.gohugo.io\/academic\/\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;star\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;3065\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;tags\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;#academic #portfolio #responsive #student #personal #university #blog #minimal\u0026#34;\u003c\/span\u003e},\n{\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;name\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Learn\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;url\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/themes.gohugo.io\/hugo-theme-learn\/\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;star\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;692\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;tags\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;#documentation #grav #learn #doc #search\u0026#34;\u003c\/span\u003e},\n{\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;name\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Even\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;url\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/themes.gohugo.io\/hugo-theme-even\/\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;star\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;654\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;tags\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;#responsive #blog #simple #clean #highlight.js #syntax highlighting\u0026#34;\u003c\/span\u003e},\n{\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;name\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Tranquilpeak\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;url\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/themes.gohugo.io\/hugo-tranquilpeak-theme\/\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;star\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;516\u0026#34;\u003c\/span\u003e, \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;tags\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;#blog #minimal #responsive #personal #customizable #creative #fontawesome #highlight.js\u0026#34;\u003c\/span\u003e},\n\n\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e...\u003c\/span\u003e\n\n]\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022使用pipeline\u0022\u003e使用Pipeline\u003c\/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n使用Item其實也就是方便整理資料，為了將爬出來的東西複用，接下來就能用pipeline來處理這個item該做些什麼，首先修改setting\u003c\/p\u003e\n\u003cp\u003e當初建立project的時候這行就自動產生了，只要取消註解便可\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e65\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e66\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e67\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:scrapy_toturial\/settings.py\u0022 data-lang=\u0022:scrapy_toturial\/settings.py\u0022\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003eITEM_PIPELINES \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;scrapy_tutorial.pipelines.ScrapyTutorialPipeline\u0026#39;\u003c\/span\u003e: \u003cspan style=\u0022color:#ae81ff\u0022\u003e300\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e}\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來就是定義pipeline了，當初我們使用generator就是為此，這樣parse()執行一次，就會將item交由process_item()處理，像以下範例就能存到sqlite3內\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:scrapy_toturial\/pipelines.py\u0022 data-lang=\u0022:scrapy_toturial\/pipelines.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e itemadapter \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e ItemAdapter\n\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e sqlite3\n\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eScrapyTutorialPipeline\u003c\/span\u003e:\n    conn \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e None\n\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003e@classmethod\u003c\/span\u003e\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eget_database\u003c\/span\u003e(cls):\n        cls\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003econn \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e sqlite3\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003econnect(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;items.db\u0026#39;\u003c\/span\u003e)\n\n        cursor \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e cls\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003econn\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecursor()\n        cursor\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eexecute(\n            \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;CREATE TABLE IF NOT EXISTS theme(\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\\n\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e                id INTEGER PRIMARY KEY AUTOINCREMENT, \u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\\n\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e                name TEXT NOT NULL, \u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\\n\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e                url TEXT, \u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\\n\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e                star INTEGER, \u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\\n\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e                tags TEXT\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\\n\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e            );\u0026#39;\u003c\/span\u003e)\n\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e cls\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003econn\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eprocess_item\u003c\/span\u003e(self, item, spider):\n        self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esave_item(item)\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e item\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esave_item\u003c\/span\u003e(self, item):\n        db \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget_database()\n        db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eexecute(\n            \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;INSERT INTO theme(name, url, star, tags) VALUES (?, ?, ?, ?)\u0026#39;\u003c\/span\u003e,\n            tuple(ItemAdapter(item)\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003evalues())\n        )\n        db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecommit()\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n然後就能打開shell驗收了\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026gt;\u0026gt;\u0026gt; import sqlite3\r\n\u0026gt;\u0026gt;\u0026gt; db = sqlite3.connect(\u0027scrapy_tutorial\/scrapy_tutorial\/spiders\/items.db\u0027)\r\n\u0026gt;\u0026gt;\u0026gt; record = db.execute(\u0027select * from theme\u0027)\r\n\u0026gt;\u0026gt;\u0026gt; record.fetchall()\r\n[(1, \u0027Academic\u0027, \u0027https:\/\/themes.gohugo.io\/academic\/\u0027, 3065, \u0027#academic #portfolio #responsive #stu\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e練習完收工\u003c\/p\u003e',
    
    
      date: '2020-08-28',
    
    
      tags: '[Python Scrapy]',
    
    
      categories: '[資料分析]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008271612\/',
    
      title: '【Flask入門練習-CRUD篇1】在Flask中導入ORM操作',
    
    
      summary: '\u003cp\u003eFlask本身沒自帶ORM對製作CRUD而言是略為麻煩，這裡就使用SQLAlchemy來操作資料庫，剛好有個\u003ca href=\u0022https:\/\/flask-sqlalchemy.palletsprojects.com\/en\/2.x\/\u0022\u003eFlask-SQLAlchemy\u003c\/a\u003e可使用，大大縮短coding時間\u003c\/p\u003e',
      content: '\u003cp\u003eFlask本身沒自帶ORM對製作CRUD而言是略為麻煩，這裡就使用SQLAlchemy來操作資料庫，剛好有個\u003ca href=\u0022https:\/\/flask-sqlalchemy.palletsprojects.com\/en\/2.x\/\u0022\u003eFlask-SQLAlchemy\u003c\/a\u003e可使用，大大縮短coding時間\u003c\/p\u003e\n\u003cp\u003e先安裝需要的包\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003epip install Flask Flask-SQLAlchemy \r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n照\u003ca href=\u0022https:\/\/flask-sqlalchemy.palletsprojects.com\/en\/2.x\/quickstart\/#a-minimal-application\u0022\u003e這裡\u003c\/a\u003e的範例，db之類的設定通通先放在app.py\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e flask \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e Flask\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e flask_sqlalchemy \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e SQLAlchemy\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e datetime \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e datetime\n\napp \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Flask(__name__)\napp\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003econfig[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;SQLALCHEMY_DATABASE_URI\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;sqlite:\/\/\/app.db\u0026#39;\u003c\/span\u003e\ndb \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e SQLAlchemy(app)\n\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eUser\u003c\/span\u003e(db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eModel):\n    id \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eColumn(db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eInteger, primary_key\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue)\n    username \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eColumn(db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eString(\u003cspan style=\u0022color:#ae81ff\u0022\u003e80\u003c\/span\u003e), unique\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue, nullable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse)\n    email \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eColumn(db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eString(\u003cspan style=\u0022color:#ae81ff\u0022\u003e120\u003c\/span\u003e), unique\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue, nullable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse)\n    created_at \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eColumn(db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eDateTime, nullable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse, default\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003edatetime\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003enow)\n    updated_at \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eColumn(db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eDateTime, nullable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse, default\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003edatetime\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003enow, onupdate\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003edatetime\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003enow)\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e __repr__(self):\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026lt;User \u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e%r\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026gt;\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e%\u003c\/span\u003e self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eusername\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n進入console，就能做以下動作初始化db並建立table\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026gt;\u0026gt;\u0026gt; from flask_app.app.app import db\r\n\u0026gt;\u0026gt;\u0026gt; db.create_all()\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n然後是個建立一筆record\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026gt;\u0026gt;\u0026gt; from flask_app.app.app import User\r\n\u0026gt;\u0026gt;\u0026gt; testuser = User(username=\u0027testuser\u0027, email=\u0027test@example.com\u0027)\r\n\u0026gt;\u0026gt;\u0026gt; db.session.add(testuser)\r\n\u0026gt;\u0026gt;\u0026gt; db.session.commit()\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接著試著用Model來query\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026gt;\u0026gt;\u0026gt; User.query.all()\r\n...\r\nsqlalchemy.exc.ProgrammingError: (sqlite3.ProgrammingError) SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 43852 and this is thread id 43488.\r\n[SQL: SELECT user.id AS user_id, user.username AS user_username, user.email AS user_email, user.created_at AS user_created_at, user.updated_at AS user_updated_at \r\nFROM user]\r\n[parameters: [immutabledict({})]]\r\n(Background on this error at: http:\/\/sqlalche.me\/e\/13\/f405)\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003eError啦！！\n\u003cbr\u003e\u003c\/br\u003e\n這是sqlite3的問題，當時commit建立的thread id 43852還沒結束，query又產生了id 43488，算是一個防呆吧，加上\u003ccode\u003echeck_same_thread=False\u003c\/code\u003e就OK了\u003c\/p\u003e\n\u003cp\u003e修改成下面的樣子\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e6\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003eapp\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003econfig[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;SQLALCHEMY_DATABASE_URI\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;sqlite:\/\/\/app.db?check_same_thread=False\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n這樣就能流暢使用囉，順便多做幾個測試\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026gt;\u0026gt;\u0026gt; db.session.add(test3)\r\n\u0026gt;\u0026gt;\u0026gt; db.session.commit()\r\n\u0026gt;\u0026gt;\u0026gt; User.query.all()\r\n[\u0026lt;User \u0027test\u0027\u0026gt;, \u0026lt;User \u0027test2\u0027\u0026gt;, \u0026lt;User \u0027test3\u0027\u0026gt;]\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n最後就是設定個view來驗證啦，只要敲上網址就能看到db的東西就大功告成\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e flask \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e Flask, request, render_template\n\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e flask_sqlalchemy \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e SQLAlchemy\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e datetime \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e datetime\n\napp \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Flask(__name__)\napp\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003econfig[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;SQLALCHEMY_DATABASE_URI\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;sqlite:\/\/\/app.db?check_same_thread=False\u0026#39;\u003c\/span\u003e\ndb \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e SQLAlchemy(app)\n\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eUser\u003c\/span\u003e(db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eModel):\n    id \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eColumn(db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eInteger, primary_key\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue)\n    username \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eColumn(db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eString(\u003cspan style=\u0022color:#ae81ff\u0022\u003e80\u003c\/span\u003e), unique\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue, nullable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse)\n    email \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eColumn(db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eString(\u003cspan style=\u0022color:#ae81ff\u0022\u003e120\u003c\/span\u003e), unique\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue, nullable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse)\n    created_at \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eColumn(db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eDateTime, nullable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse, default\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003edatetime\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003enow)\n    updated_at \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eColumn(db\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eDateTime, nullable\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eFalse, default\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003edatetime\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003enow, onupdate\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003edatetime\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003enow)\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e __repr__(self):\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026lt;User \u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e%r\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026gt;\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e%\u003c\/span\u003e self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eusername\n\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/\u0026#39;\u003c\/span\u003e)\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eindex\u003c\/span\u003e():\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    users \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e User\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003equery\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eall()\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e render_template(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;index.html\u0026#34;\u003c\/span\u003e, users\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eusers)\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n建立template\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/templates\/index.html\u0022 data-lang=\u0022:app\/templates\/index.html\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u0026lt;!DOCTYPE html\u0026gt;\u003c\/span\u003e\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elang\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;en\u0026#34;\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emeta\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003echarset\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;UTF-8\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;Title\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etable\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etbody\u003c\/span\u003e\u0026gt;\n        {% for user in users %}\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etr\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etd\u003c\/span\u003e\u0026gt;\n                    {{ user.username }}\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etd\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etd\u003c\/span\u003e\u0026gt;\n                    {{ user.email }}\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etd\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etd\u003c\/span\u003e\u0026gt;\n                    {{ user.careted_at }}\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etd\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etd\u003c\/span\u003e\u0026gt;\n                    {{ user.updated_at }}\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etd\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etr\u003c\/span\u003e\u0026gt;\n        {% endfor %}\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etbody\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etable\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n這樣就能看到剛才建立的record了\u003c\/p\u003e\n\u003cp\u003e\u003cimg src=\u00221.PNG\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e下次就可以做個簡單的CRUD了\u003c\/p\u003e',
    
    
      date: '2020-08-27',
    
    
      tags: '[Flask Flask-SQLAlchemy Python]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008241004\/',
    
      title: '【Prometheus入門練習-自訂篇2】將Prometheus API取得的資料搭配Vue.js製作Echarts動態圖表',
    
    
      summary: '\u003cp\u003e要是不想用自帶的UI，也不想用Grafana怎麼辦！！那當然就是自己動手做啦，自己動手做的好處就是能整合其他功能做成多合一的Web app，但這次就先練習如何取用Prometheus上的資料，製作成動態圖表\u003c\/p\u003e',
      content: '\u003cp\u003e要是不想用自帶的UI，也不想用Grafana怎麼辦！！那當然就是自己動手做啦，自己動手做的好處就是能整合其他功能做成多合一的Web app，但這次就先練習如何取用Prometheus上的資料，製作成動態圖表\u003c\/p\u003e\n\u003cp\u003e步驟稍微多一點\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\u0022#建立空空的View Model\u0022\u003e建立空空的View Model\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022#整理API Query Parameters\u0022\u003e整理API Query Parameters\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022#準備API Query URL\u0022\u003e準備API Query URL\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022#使用Axios取得Prometheus上的資料\u0022\u003e使用Axios取得Prometheus上的資料\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022#使用Echarts製圖\u0022\u003e使用Echarts製圖\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022#Echarts動態更新\u0022\u003eEcharts動態更新\u003c\/a\u003e\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n那麼就來重頭動手做✌(\u0026lsquo;ω\u0027✌ )三✌(\u0026lsquo;ω\u0026rsquo;)✌三( ✌\u0027ω\u0026rsquo;)✌\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022建立空空的View Model\u0022\u003e建立空空的View Model\u003c\/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n首先，建立一個空空如也的Vue Instance\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e9\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-html\u0022 data-lang=\u0022html\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;app\u0026#34;\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/cdn.jsdelivr.net\/npm\/vue\/dist\/vue.js\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eVue\u003c\/span\u003e({\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eel\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;#app\u0026#39;\u003c\/span\u003e\n  })\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n動態更新勢必要用個timer，所以預計採用setInterval()及clearInterval()，那麼做兩個按鈕，分別叫「Start」及「Stop」方便辨識，並做互鎖\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-html\u0022 data-lang=\u0022html\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;app\u0026#34;\u003c\/span\u003e\u0026gt;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003e:disabled\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;!isStarted\u0026#34;\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-on:click\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;isStarted = false\u0026#34;\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    Stop\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003e:disabled\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;isStarted\u0026#34;\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-on:click\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;isStarted = true\u0026#34;\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    Start\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/cdn.jsdelivr.net\/npm\/vue\/dist\/vue.js\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eVue\u003c\/span\u003e({\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eel\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;#app\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u003cspan style=\u0022color:#a6e22e\u0022\u003eisStarted\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e\n\u003c\/span\u003e    }\n  })\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n按鈕完成囉\u003c\/p\u003e\n\u003cp\u003e\u003cimg src=\u00221.PNG\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022整理API Query Parameters\u0022\u003e整理API Query Parameters\u003c\/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n再來就是url的部分了，回顧一下\u003ca href=\u0022https:\/\/prometheus.io\/docs\/prometheus\/latest\/querying\/api\/\u0022\u003ePrometheus API\u003c\/a\u003e的query\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003equery=\u003cstring\u003e\u003c\/li\u003e\n\u003cli\u003etime=\u0026lt;rfc3339 | unix_timestamp\u0026gt;\u003c\/li\u003e\n\u003cli\u003etimeout=\u003cduration\u003e\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e用get的話url大概會是這樣\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl \u0027http:\/\/localhost:9090\/api\/v1\/query_range?query=up\u0026amp;start=2015-07-01T20:10:30.781Z\u0026amp;end=2015-07-01T20:11:00.781Z\u0026amp;step=15s\u0027\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n初期就有個圖表還是比較好看的，因此使用query range會比較合適，而query range的GET url中至少要包含metric、start、end及step，不過既然是動態更新，end time當然還是當前時間最方便，所以僅需要time range、metric及step，來做成input吧\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e41\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e42\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e43\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e44\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e45\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e46\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e47\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e48\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e49\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e50\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e51\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e52\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-html\u0022 data-lang=\u0022html\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;app\u0026#34;\u003c\/span\u003e\u0026gt;\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;host\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eplaceholder\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Host\u0026#34;\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;port\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eplaceholder\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Port\u0026#34;\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eselect\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;range\u0026#34;\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e1\u003c\/span\u003e\u0026gt;1h\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e2\u003c\/span\u003e\u0026gt;2h\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e6\u003c\/span\u003e\u0026gt;6h\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e12\u003c\/span\u003e\u0026gt;12h\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e24\u003c\/span\u003e\u0026gt;1d\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eselect\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eselect\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;step\u0026#34;\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e30\u003c\/span\u003e\u0026gt;30s\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e60\u003c\/span\u003e\u0026gt;1m\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e300\u003c\/span\u003e\u0026gt;5m\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e600\u003c\/span\u003e\u0026gt;10m\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eselect\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;metric\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eplaceholder\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Metric\u0026#34;\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003e:disabled\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;!isStarted\u0026#34;\u003c\/span\u003e\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-on:click\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;isStarted = false\u0026#34;\u003c\/span\u003e\n    \u0026gt;\n      Stop\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003e:disabled\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;isStarted\u0026#34;\u003c\/span\u003e\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-on:click\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;isStarted = true\u0026#34;\u003c\/span\u003e\n    \u0026gt;\n      Start\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/cdn.jsdelivr.net\/npm\/vue\/dist\/vue.js\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eVue\u003c\/span\u003e({\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eel\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;#app\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eisStarted\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e,\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u003cspan style=\u0022color:#a6e22e\u0022\u003ehost\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;localhost\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u003cspan style=\u0022color:#a6e22e\u0022\u003eport\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;9090\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u003cspan style=\u0022color:#a6e22e\u0022\u003erange\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e30\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e\n\u003c\/span\u003e    }\n  })\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e畢竟簡單易懂最重要，為了避免節外生枝，range及step做成select，並且每個field都在$data中放個初期值\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cp\u003e為了方便觀察parameters，用個$watch來觀察吧！\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e41\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e42\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e43\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e44\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e45\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e46\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e47\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e48\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e49\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e50\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e51\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e52\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e53\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e54\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e55\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e56\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e57\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e58\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e59\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e60\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e61\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e62\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e63\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e64\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e65\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e66\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e67\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e68\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e69\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-html\u0022 data-lang=\u0022html\u0022\u003e...\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  {{ url_props_obj }}\n\u003c\/span\u003e\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/cdn.jsdelivr.net\/npm\/vue\/dist\/vue.js\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eVue\u003c\/span\u003e({\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eel\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;#app\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eisStarted\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003ehost\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;localhost\u0026#39;\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eport\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e9090\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003erange\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e30\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e,\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_props_obj\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e\n\u003c\/span\u003e    },\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003ecomputed\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_props\u003c\/span\u003e() {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#a6e22e\u0022\u003ehost\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ehost\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#a6e22e\u0022\u003eport\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eport\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#a6e22e\u0022\u003erange\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003erange\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        }\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      }\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    },\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003ewatch\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_props\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e) {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_props_obj\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      }\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    }\n\u003c\/span\u003e  })\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e$computed中的url_props這個function會return剛才那些data prop組成的object，再由$watch監視，只要一變動就會更新url_props_obj\n\u003cbr\u003e\u003c\/br\u003e\n測試一下\u003c\/p\u003e\n\u003cp\u003e\u003cimg src=\u00222.PNG\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022準備API Query URL\u0022\u003e準備API Query URL\u003c\/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來就準備url了，現在會需要兩個url，一個是初期query range的url，一個則是live update的url，時間的部分就由moment.js處理\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e41\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e42\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e43\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e44\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e45\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e46\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e47\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e48\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e49\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e50\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e51\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e52\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e53\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e54\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e55\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e56\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e57\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e58\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e59\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e60\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e61\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e62\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e63\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e64\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e65\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e66\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e67\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e68\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e69\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e70\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e71\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e72\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e73\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e74\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e75\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e76\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e77\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e78\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e79\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e80\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e81\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e82\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e83\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e84\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e85\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-html\u0022 data-lang=\u0022html\u0022\u003e  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n  {{ url_props_obj }}\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  {{ initURL }}\n\u003c\/span\u003e\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/cdn.jsdelivr.net\/npm\/vue\/dist\/vue.js\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/moment.js\/2.27.0\/moment.min.js\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eVue\u003c\/span\u003e({\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eel\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;#app\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eisStarted\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003ehost\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;localhost\u0026#39;\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eport\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e9090\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003erange\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e30\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_props_obj\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003einitURL\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eupdateURL\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e\n    },\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003ecomputed\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_props\u003c\/span\u003e() {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e {\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003ehost\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ehost\u003c\/span\u003e,\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003eport\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eport\u003c\/span\u003e,\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003erange\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003erange\u003c\/span\u003e,\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e,\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e\n        }\n      }\n    },\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003ewatch\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_props\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e) {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_props_obj\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eset_initURL\u003c\/span\u003e()\n\u003c\/span\u003e      }\n    },\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003emethods\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u003cspan style=\u0022color:#a6e22e\u0022\u003eset_initURL\u003c\/span\u003e() {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eprefix\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;http:\/\/\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ehost\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;:\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eport\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/api\/v1\/query_range?\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003equery\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;query=\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003estartTime\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003esubtract\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003erange\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;h\u0026#39;\u003c\/span\u003e).\u003cspan style=\u0022color:#a6e22e\u0022\u003eunix\u003c\/span\u003e()\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eendTime\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eunix\u003c\/span\u003e()\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erange\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026amp;start=\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003estartTime\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026amp;end=\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eendTime\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026amp;step=\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;s\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003einitURL\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eprefix\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003equery\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erange\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      }\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    }\n\u003c\/span\u003e  })\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e為了方便time使用unix_timestamp\n\u003cbr\u003e\u003c\/br\u003e\nquery range的url來囉\n\u003cimg src=\u00223.PNG\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n可以拿來測試看看\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl \u0027http:\/\/localhost:9090\/api\/v1\/query_range?query=up\u0026amp;start=1598333439\u0026amp;end=1598337039\u0026amp;step=600s\u0027\r\n{\u0026quot;status\u0026quot;:\u0026quot;success\u0026quot;,\u0026quot;data\u0026quot;:{\u0026quot;resultType\u0026quot;:\u0026quot;matrix\u0026quot;,\u0026quot;result\u0026quot;:[{\u0026quot;metric\u0026quot;:{\u0026quot;__name__\u0026quot;:\u0026quot;up\u0026quot;,\u0026quot;group\u0026quot;:\u0026quot;canary\u0026quot;,\u0026quot;instance\u0026quot;:\u0026quot;localhost:8082\u0026quot;,.\r\n..\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e妥妥當當\n\u003cbr\u003e\u003c\/br\u003e\n再來就是timer及update的url了，先把template修飾一下，讓兩個url都能更新上來\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e41\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-html\u0022 data-lang=\u0022html\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;app\u0026#34;\u003c\/span\u003e\u0026gt;\n\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;host\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eplaceholder\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Host\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;port\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eplaceholder\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Port\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eselect\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;range\u0026#34;\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e1\u003c\/span\u003e\u0026gt;1h\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e2\u003c\/span\u003e\u0026gt;2h\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e6\u003c\/span\u003e\u0026gt;6h\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e12\u003c\/span\u003e\u0026gt;12h\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e24\u003c\/span\u003e\u0026gt;1d\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eselect\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eselect\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;step\u0026#34;\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e30\u003c\/span\u003e\u0026gt;30s\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e60\u003c\/span\u003e\u0026gt;1m\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e300\u003c\/span\u003e\u0026gt;5m\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e600\u003c\/span\u003e\u0026gt;10m\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eselect\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;metric\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eplaceholder\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Metric\u0026#34;\u003c\/span\u003e\u0026gt;\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003e:disabled\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;!isStarted\u0026#34;\u003c\/span\u003e\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-on:click\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;isStarted = false\u0026#34;\u003c\/span\u003e\n    \u0026gt;\n      Stop\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003e:disabled\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;isStarted\u0026#34;\u003c\/span\u003e\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-on:click\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;isStarted = true\u0026#34;\u003c\/span\u003e\n    \u0026gt;\n      Start\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eul\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e\u0026gt;init: {{ initURL }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e\u0026gt;update: {{ updateURL }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eul\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e  {{ test }}\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n首先來搞定update用的url，先暫時借用一下$watch\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e69\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e70\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e71\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e72\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e73\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e74\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e75\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-js\u0022 data-lang=\u0022js\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003ewatch\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_props\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e) {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_props_obj\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eset_initURL\u003c\/span\u003e()\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eset_updateURL\u003c\/span\u003e()\n\u003c\/span\u003e      }\n    },\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來就是$methods加上更新url的function\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e87\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e88\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e89\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e90\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e91\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e92\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e93\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-js\u0022 data-lang=\u0022js\u0022\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u003cspan style=\u0022color:#a6e22e\u0022\u003eset_updateURL\u003c\/span\u003e() {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eprefix\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;http:\/\/\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ehost\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;:\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eport\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/api\/v1\/query?\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003equery\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;query=\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etime\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026amp;time=\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e() \u003cspan style=\u0022color:#f92672\u0022\u003e\/\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1000\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eupdateURL\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eprefix\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003equery\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etime\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      }\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cstrong\u003e這裡有個大重點，想用unix_timestamp的話，moment不能直接採用unix()這個method，因為時間會強制鎖在秒，\n之後做成timer會被promise鎖死在一秒，所以先提前留意\u003c\/strong\u003e\n\u003cbr\u003e\u003c\/br\u003e\nurl妥妥的沒問題了\n\u003cimg src=\u00224.PNG\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n接下來要處理timer了，剛才的這個$watch已經不需要這行了，刪了以免混淆\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e69\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e70\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e71\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e72\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e73\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e74\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e75\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-js\u0022 data-lang=\u0022js\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003ewatch\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_props\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e) {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_props_obj\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eset_initURL\u003c\/span\u003e()\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eset_updateURL\u003c\/span\u003e() \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/刪除這行\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e      }\n    },\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nmethods增加\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e69\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e70\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e71\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e72\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e73\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e74\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e75\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e76\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e77\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-js\u0022 data-lang=\u0022js\u0022\u003e      \u003cspan style=\u0022color:#a6e22e\u0022\u003eupdate_graphOption\u003c\/span\u003e() {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eset_updateURL\u003c\/span\u003e() \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/更新$data.updateURL\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e      },\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003estart_query\u003c\/span\u003e() {\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etimer\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esetInterval\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eupdate_graphOption\u003c\/span\u003e(), \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e)\n\u003c\/span\u003e      },\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003estop_query\u003c\/span\u003e() {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etimer\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclearInterval\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etimer\u003c\/span\u003e)\n      }\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n怕速度慢測起來太苦，step的option加速一下，並且按鈕的on:click()這個event對應到剛才建立的$method.start_query()及stop_query()\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e69\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e70\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e71\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e72\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e73\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e74\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e75\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e76\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e77\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e78\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e79\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e80\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e81\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e82\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e83\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e84\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e85\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e86\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e87\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e88\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e89\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e90\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e91\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e92\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e93\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e94\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-html\u0022 data-lang=\u0022html\u0022\u003e    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eselect\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;step\u0026#34;\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e1\u003c\/span\u003e\u0026gt;1s\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e5\u003c\/span\u003e\u0026gt;5s\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e10\u003c\/span\u003e\u0026gt;10s\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e30\u003c\/span\u003e\u0026gt;30s\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e60\u003c\/span\u003e\u0026gt;1m\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e300\u003c\/span\u003e\u0026gt;5m\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e600\u003c\/span\u003e\u0026gt;10m\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eselect\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;metric\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eplaceholder\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Metric\u0026#34;\u003c\/span\u003e\u0026gt;\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003e:disabled\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;!isStarted\u0026#34;\u003c\/span\u003e\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-on:click\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;isStarted = false; stop_query()\u0026#34;\u003c\/span\u003e\n    \u0026gt;\n      Stop\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003e:disabled\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;isStarted\u0026#34;\u003c\/span\u003e\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-on:click\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;isStarted = true; start_query()\u0026#34;\u003c\/span\u003e\n    \u0026gt;\n      Start\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n這樣按下Start就會看到update url一直被更新啦\n\u003cimg src=\u00221.gif\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n到此為止，介面算是完成了，說長不長說短不短\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 39\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 40\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 41\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 42\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 43\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 44\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 45\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 46\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 47\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 48\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 49\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 50\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 51\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 52\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 53\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 54\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 55\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 56\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 57\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 58\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 59\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 60\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 61\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 62\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 63\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 64\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 65\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 66\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 67\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 68\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 69\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 70\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 71\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 72\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 73\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 74\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 75\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 76\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 77\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 78\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 79\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 80\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 81\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 82\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 83\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 84\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 85\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 86\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 87\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 88\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 89\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 90\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 91\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 92\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 93\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 94\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 95\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 96\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 97\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 98\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 99\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e100\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e101\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e102\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e103\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e104\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e105\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e106\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e107\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e108\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-html\u0022 data-lang=\u0022html\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;app\u0026#34;\u003c\/span\u003e\u0026gt;\n\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;host\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eplaceholder\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Host\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;port\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eplaceholder\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Port\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eselect\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;range\u0026#34;\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e1\u003c\/span\u003e\u0026gt;1h\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e2\u003c\/span\u003e\u0026gt;2h\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e6\u003c\/span\u003e\u0026gt;6h\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e12\u003c\/span\u003e\u0026gt;12h\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e24\u003c\/span\u003e\u0026gt;1d\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eselect\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eselect\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;step\u0026#34;\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e1\u003c\/span\u003e\u0026gt;1s\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e5\u003c\/span\u003e\u0026gt;5s\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e10\u003c\/span\u003e\u0026gt;10s\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e30\u003c\/span\u003e\u0026gt;30s\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e60\u003c\/span\u003e\u0026gt;1m\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e300\u003c\/span\u003e\u0026gt;5m\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e600\u003c\/span\u003e\u0026gt;10m\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eoption\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eselect\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;metric\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eplaceholder\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Metric\u0026#34;\u003c\/span\u003e\u0026gt;\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003e:disabled\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;!isStarted\u0026#34;\u003c\/span\u003e\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-on:click\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;isStarted = false; stop_query()\u0026#34;\u003c\/span\u003e\n    \u0026gt;\n      Stop\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003e:disabled\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;isStarted\u0026#34;\u003c\/span\u003e\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-on:click\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;isStarted = true; start_query()\u0026#34;\u003c\/span\u003e\n    \u0026gt;\n      Start\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eul\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e\u0026gt;init: {{ initURL }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e\u0026gt;update: {{ updateURL }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e\u0026gt;\n  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eul\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/cdn.jsdelivr.net\/npm\/vue\/dist\/vue.js\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/moment.js\/2.27.0\/moment.min.js\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eVue\u003c\/span\u003e({\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eel\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;#app\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eisStarted\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003ehost\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;localhost\u0026#39;\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eport\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e9090\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003erange\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e30\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_props_obj\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003einitURL\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eupdateURL\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e,\n    },\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003ecomputed\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_props\u003c\/span\u003e() {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e {\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003ehost\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ehost\u003c\/span\u003e,\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003eport\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eport\u003c\/span\u003e,\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003erange\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003erange\u003c\/span\u003e,\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e,\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e\n        }\n      }\n    },\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003ewatch\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_props\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e) {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_props_obj\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eset_initURL\u003c\/span\u003e()\n      }\n    },\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003emethods\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eset_initURL\u003c\/span\u003e() {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eprefix\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;http:\/\/\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ehost\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;:\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eport\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/api\/v1\/query_range?\u0026#39;\u003c\/span\u003e\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003equery\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;query=\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003estartTime\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003esubtract\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003erange\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;h\u0026#39;\u003c\/span\u003e).\u003cspan style=\u0022color:#a6e22e\u0022\u003eunix\u003c\/span\u003e()\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eendTime\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eunix\u003c\/span\u003e()\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erange\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026amp;start=\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003estartTime\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026amp;end=\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eendTime\u003c\/span\u003e\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026amp;step=\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;s\u0026#39;\u003c\/span\u003e\n\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003einitURL\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eprefix\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003equery\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erange\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e\n      },\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eset_updateURL\u003c\/span\u003e() {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eprefix\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;http:\/\/\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ehost\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;:\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eport\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/api\/v1\/query?\u0026#39;\u003c\/span\u003e\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003equery\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;query=\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etime\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026amp;time=\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e() \u003cspan style=\u0022color:#f92672\u0022\u003e\/\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1000\u003c\/span\u003e\n\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eupdateURL\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eprefix\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003equery\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etime\u003c\/span\u003e\n      },\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eupdate_graphOption\u003c\/span\u003e() {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eset_updateURL\u003c\/span\u003e()\n      },\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003estart_query\u003c\/span\u003e() {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etimer\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esetInterval\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eupdate_graphOption\u003c\/span\u003e(), \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e)\n      },\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003estop_query\u003c\/span\u003e() {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etimer\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclearInterval\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etimer\u003c\/span\u003e)\n      }\n    }\n  })\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022使用Axios取得Prometheus上的資料\u0022\u003e使用Axios取得Prometheus上的資料\u003c\/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來就是http的部分了，首先加上CDN版的Axios\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-html\u0022 data-lang=\u0022html\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/cdn.jsdelivr.net\/npm\/axios\/dist\/axios.min.js\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來回到methods，把start_query()加上剛才的axios，並用get()這個method\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e102\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e103\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e104\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e105\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e106\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e107\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e108\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e109\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e110\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e111\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-js\u0022 data-lang=\u0022js\u0022\u003e      \u003cspan style=\u0022color:#a6e22e\u0022\u003estart_query\u003c\/span\u003e() {\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evm\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#a6e22e\u0022\u003eaxios\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eget\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003einitURL\u003c\/span\u003e)\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        .\u003cspan style=\u0022color:#a6e22e\u0022\u003ethen\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003efunction\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e) {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#a6e22e\u0022\u003evm\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        })\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        .\u003cspan style=\u0022color:#66d9ef\u0022\u003ecatch\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003efunction\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003eerror\u003c\/span\u003e) {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#a6e22e\u0022\u003evm\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eerror\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        })\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      },\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n回到$data，加上這個，再把{{ response }}放進template，方便觀察\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e52\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e53\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e54\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e55\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e56\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e57\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e58\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e59\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e60\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e61\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e62\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e63\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-js\u0022 data-lang=\u0022js\u0022\u003e    \u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eisStarted\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003ehost\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;localhost\u0026#39;\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eport\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e9090\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003erange\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e30\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eurl_props_obj\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003einitURL\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eupdateURL\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e,\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e\n\u003c\/span\u003e    },\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n回過頭來測試，response來啦！！\n\u003cimg src=\u00225.PNG\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e接下來可以處理一下資料了\n\u003cbr\u003e\u003c\/br\u003e\n接下來respanse就留下result就好，資料格式會是這樣\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-json\u0022 data-lang=\u0022json\u0022\u003e[ \n  { \n    \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;metric\u0026#34;\u003c\/span\u003e: { \n      \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;__name__\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;up\u0026#34;\u003c\/span\u003e, \n      \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;instance\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;localhost:9090\u0026#34;\u003c\/span\u003e, \n      \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;job\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;prometheus\u0026#34;\u003c\/span\u003e \n    },\n    \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026#34;values\u0026#34;\u003c\/span\u003e: [ \n      [ \u003cspan style=\u0022color:#ae81ff\u0022\u003e1598404390\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;1\u0026#34;\u003c\/span\u003e ], \n      [ \u003cspan style=\u0022color:#ae81ff\u0022\u003e1598404420\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;1\u0026#34;\u003c\/span\u003e ] \n    ] \n  } \n]\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e是一個顯而易見的JSON Array\n\u003cbr\u003e\u003c\/br\u003e\n稍微把時間處理一下，還是用moment，在methods加入下列的function，之後打算使用Echarts畫圖，所以參考一下\u003ca href=\u0022https:\/\/echarts.apache.org\/en\/option.html\u0022\u003ehttps:\/\/echarts.apache.org\/en\/option.html\u003c\/a\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e105\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e106\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e107\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e108\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e109\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e110\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e111\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e112\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e113\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e114\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e115\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-js\u0022 data-lang=\u0022js\u0022\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \u003cspan style=\u0022color:#a6e22e\u0022\u003einit_graphOption\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eresult\u003c\/span\u003e) {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ereturnSeriesDataObj\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e) =\u0026gt; {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003einstance\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003evalues\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emap\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e =\u0026gt; ({\u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eunix\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e]).\u003cspan style=\u0022color:#a6e22e\u0022\u003etoDate\u003c\/span\u003e(), \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eunix\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e]).\u003cspan style=\u0022color:#a6e22e\u0022\u003eformat\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;YYYY-MM-DD HH:mm:ss\u0026#34;\u003c\/span\u003e), \u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e[\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e]]})),\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          }\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        }\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eseries\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eresult\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emap\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e =\u0026gt; \u003cspan style=\u0022color:#a6e22e\u0022\u003ereturnSeriesDataObj\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e))\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eseries\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      },\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e招牌醜code\n\u003cbr\u003e\u003c\/br\u003e\n就能看到資料成為符合Echarts需求的樣子了\n\u003cimg src=\u00226.PNG\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022使用Echarts製圖\u0022\u003e使用Echarts製圖\u003c\/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來可以開始畫圖囉！使用之前預告過的Echarts\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-html\u0022 data-lang=\u0022html\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/echarts\/4.8.0\/echarts.min.js\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n第一行加上這個element，給echarts用\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e1\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e7\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-html\u0022 data-lang=\u0022html\u0022\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;myChart\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003estyle\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;width:600px; height:400px;\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;app\u0026#34;\u003c\/span\u003e\u0026gt;\n\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;host\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eplaceholder\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Host\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;port\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eplaceholder\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Port\u0026#34;\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來就大刀闊斧地做\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e105\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e106\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e107\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e108\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e109\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e110\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e111\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e112\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e113\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e114\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e115\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e116\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e117\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e118\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e119\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e120\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e121\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e122\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e123\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e124\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e125\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e126\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e127\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e128\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e129\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e130\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e131\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e132\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e133\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e134\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e135\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e136\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e137\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e138\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e139\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e140\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e141\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e142\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e143\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e144\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e145\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e146\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e147\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e148\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e149\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e150\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-js\u0022 data-lang=\u0022js\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ereturnSeriesDataObj\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e) =\u0026gt; {\n          \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e {\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003einstance\u003c\/span\u003e,\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003evalues\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emap\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e =\u0026gt; ({\u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eunix\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e]).\u003cspan style=\u0022color:#a6e22e\u0022\u003etoDate\u003c\/span\u003e(), \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eunix\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e]).\u003cspan style=\u0022color:#a6e22e\u0022\u003eformat\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;YYYY-MM-DD HH:mm:ss\u0026#34;\u003c\/span\u003e), \u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e[\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e]]})),\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;line\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#a6e22e\u0022\u003eshowSymbol\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#a6e22e\u0022\u003ehoverAnimation\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e,\n\u003c\/span\u003e          }\n        }\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eseries\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eresult\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emap\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e =\u0026gt; \u003cspan style=\u0022color:#a6e22e\u0022\u003ereturnSeriesDataObj\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e))\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      \n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emyChart\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eecharts\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003einit\u003c\/span\u003e(document.\u003cspan style=\u0022color:#a6e22e\u0022\u003egetElementById\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;myChart\u0026#39;\u003c\/span\u003e))\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#a6e22e\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#a6e22e\u0022\u003etitle\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#a6e22e\u0022\u003etext\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          },\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#a6e22e\u0022\u003etooltip\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#a6e22e\u0022\u003etrigger\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;axis\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#a6e22e\u0022\u003eformatter\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efunction\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003eparams\u003c\/span\u003e) {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e              \u003cspan style=\u0022color:#a6e22e\u0022\u003eparams\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eparams\u003c\/span\u003e[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e]\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e              \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eparams\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39; : \u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eparams\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e[\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e]\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            },\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#a6e22e\u0022\u003eaxisPointer\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e              \u003cspan style=\u0022color:#a6e22e\u0022\u003eanimation\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            }\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          },\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#a6e22e\u0022\u003exAxis\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;time\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#a6e22e\u0022\u003esplitLine\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e              \u003cspan style=\u0022color:#a6e22e\u0022\u003eshow\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            }\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          },\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#a6e22e\u0022\u003eyAxis\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;value\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#a6e22e\u0022\u003eboundaryGap\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;100%\u0026#39;\u003c\/span\u003e],\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#a6e22e\u0022\u003esplitLine\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e              \u003cspan style=\u0022color:#a6e22e\u0022\u003eshow\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            }\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          },\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#a6e22e\u0022\u003eseries\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eseries\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        }\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#a6e22e\u0022\u003emyChart\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003esetOption\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eoption\u003c\/span\u003e)\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      },\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接著圖片就出來啦\u003c\/p\u003e\n\u003cp\u003e\u003cimg src=\u00227.PNG\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3 id=\u0022Echarts動態更新\u0022\u003eEcharts動態更新\u003c\/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n再來就是處理update了，axios出馬的時候又到了，一樣借$data.response來觀察一下\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e102\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e103\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e104\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e105\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e106\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e107\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e108\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e109\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e110\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e111\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e112\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e113\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-js\u0022 data-lang=\u0022js\u0022\u003e      \u003cspan style=\u0022color:#a6e22e\u0022\u003eupdate_graphOption\u003c\/span\u003e() {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eset_updateURL\u003c\/span\u003e()\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evm\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#a6e22e\u0022\u003eaxios\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eget\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eupdateURL\u003c\/span\u003e)\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        .\u003cspan style=\u0022color:#a6e22e\u0022\u003ethen\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003efunction\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e) {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#a6e22e\u0022\u003evm\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        })\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        .\u003cspan style=\u0022color:#66d9ef\u0022\u003ecatch\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003efunction\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003eerror\u003c\/span\u003e) {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#a6e22e\u0022\u003evm\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eerror\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        })\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      },\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n順利到手\n\u003cimg src=\u00222.gif\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n最後就剩下更新到圖片了，回到$methods，弄一張圖的function需要小小修改\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e126\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e127\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e128\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e129\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e130\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e131\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e132\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e133\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e134\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e135\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e136\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e137\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e138\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e139\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e140\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e141\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e142\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e143\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e144\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e145\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e146\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e147\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e148\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e149\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e150\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e151\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e152\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e153\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e154\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e155\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e156\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e157\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e158\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e159\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e160\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e161\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e162\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e163\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e164\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e165\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e166\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e167\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e168\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e169\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e170\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e171\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e172\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e173\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e174\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-js\u0022 data-lang=\u0022js\u0022\u003e      \u003cspan style=\u0022color:#a6e22e\u0022\u003einit_graphOption\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eresult\u003c\/span\u003e) {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ereturnSeriesDataObj\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e) =\u0026gt; {\n          \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e {\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003einstance\u003c\/span\u003e,\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003evalues\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emap\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e =\u0026gt; ({\u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eunix\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e]).\u003cspan style=\u0022color:#a6e22e\u0022\u003etoDate\u003c\/span\u003e(), \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eunix\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e]).\u003cspan style=\u0022color:#a6e22e\u0022\u003eformat\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;YYYY-MM-DD HH:mm:ss\u0026#34;\u003c\/span\u003e), \u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e[\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e]]})),\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;line\u0026#39;\u003c\/span\u003e,\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003eshowSymbol\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e,\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003ehoverAnimation\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e,\n          }\n        }\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eseries\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eresult\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emap\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e =\u0026gt; \u003cspan style=\u0022color:#a6e22e\u0022\u003ereturnSeriesDataObj\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e))\n\u003c\/span\u003e\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emyChart\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eecharts\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003einit\u003c\/span\u003e(document.\u003cspan style=\u0022color:#a6e22e\u0022\u003egetElementById\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;myChart\u0026#39;\u003c\/span\u003e))\n\u003c\/span\u003e\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e {\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003etitle\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003etext\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emetric\u003c\/span\u003e\n          },\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003etooltip\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003etrigger\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;axis\u0026#39;\u003c\/span\u003e,\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003eformatter\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efunction\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003eparams\u003c\/span\u003e) {\n              \u003cspan style=\u0022color:#a6e22e\u0022\u003eparams\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eparams\u003c\/span\u003e[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e]\n              \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eparams\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39; : \u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eparams\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e[\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e]\n            },\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003eaxisPointer\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n              \u003cspan style=\u0022color:#a6e22e\u0022\u003eanimation\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e\n            }\n          },\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003exAxis\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;time\u0026#39;\u003c\/span\u003e,\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003esplitLine\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n              \u003cspan style=\u0022color:#a6e22e\u0022\u003eshow\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e\n            }\n          },\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003eyAxis\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;value\u0026#39;\u003c\/span\u003e,\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003eboundaryGap\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;100%\u0026#39;\u003c\/span\u003e],\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003esplitLine\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n              \u003cspan style=\u0022color:#a6e22e\u0022\u003eshow\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e\n            }\n          },\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#a6e22e\u0022\u003eseries\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eseries\u003c\/span\u003e,\n\u003c\/span\u003e        }\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emyChart\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003esetOption\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eoption\u003c\/span\u003e)\n\u003c\/span\u003e\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etimer\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esetInterval\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eupdate_graphOption\u003c\/span\u003e, \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003estep\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e*\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1000\u003c\/span\u003e)\n\u003c\/span\u003e      },\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e這些變動為了重複使用prop塞好塞滿，所以改成用\u0026quot;this\u0026rdquo;，加上把setInterval放在這裡\n\u003cbr\u003e\u003c\/br\u003e\n主軸的更新function\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e102\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e103\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e104\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e105\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e106\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e107\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e108\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e109\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e110\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e111\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e112\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e113\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e114\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e115\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e116\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e117\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e118\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e119\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e120\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e121\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e122\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e123\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e124\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e125\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-js\u0022 data-lang=\u0022js\u0022\u003e      \u003cspan style=\u0022color:#a6e22e\u0022\u003eupdate_graphOption\u003c\/span\u003e() {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eset_updateURL\u003c\/span\u003e()\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eupdateToSeries\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003eresult\u003c\/span\u003e) =\u0026gt; {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#a6e22e\u0022\u003eresult\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eforEach\u003c\/span\u003e((\u003cspan style=\u0022color:#a6e22e\u0022\u003eitem\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003ei\u003c\/span\u003e) =\u0026gt; {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eunix\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eitem\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e]).\u003cspan style=\u0022color:#a6e22e\u0022\u003etoDate\u003c\/span\u003e()\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eunix\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eitem\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e]).\u003cspan style=\u0022color:#a6e22e\u0022\u003eformat\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;YYYY-MM-DD HH:mm:ss\u0026#34;\u003c\/span\u003e), \u003cspan style=\u0022color:#a6e22e\u0022\u003eitem\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e[\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e]]\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eseries\u003c\/span\u003e[\u003cspan style=\u0022color:#a6e22e\u0022\u003ei\u003c\/span\u003e].\u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eshift\u003c\/span\u003e()\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eseries\u003c\/span\u003e[\u003cspan style=\u0022color:#a6e22e\u0022\u003ei\u003c\/span\u003e].\u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003epush\u003c\/span\u003e({\u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e})\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          })\n\u003c\/span\u003e        }\n\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evm\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003eaxios\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eget\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eupdateURL\u003c\/span\u003e)\n        .\u003cspan style=\u0022color:#a6e22e\u0022\u003ethen\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003efunction\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e) {\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#a6e22e\u0022\u003eupdateToSeries\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eresult\u003c\/span\u003e)\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#a6e22e\u0022\u003evm\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emyChart\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003esetOption\u003c\/span\u003e({\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#a6e22e\u0022\u003eseries\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evm\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eseries\u003c\/span\u003e\n\u003c\/span\u003e          })\n        })\n        .\u003cspan style=\u0022color:#66d9ef\u0022\u003ecatch\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003efunction\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003eerror\u003c\/span\u003e) {\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003evm\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eerror\u003c\/span\u003e\n        })\n      },\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e改成這樣就大功告成！！\n\u003cbr\u003e\u003c\/br\u003e\n縮短query range就能讓結果更顯而易見，基本上就完工啦\n\u003cimg src=\u00223.gif\u0022 alt=\u0022\u0022\u003e\n當然這只是單圖，圖要多的話必須再想想該怎麼做…\n\u003cbr\u003e\u003c\/br\u003e\n接下來修飾一下就更漂亮了，不過後續的小修正僅是個人喜好，太瑣碎就不放上來\n\u003cimg src=\u00224.gif\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n附上codepen，只要localhost有Prometheus，就能直接玩了\u003c\/p\u003e\n\u003cp class=\u0022codepen\u0022 data-height=\u0022265\u0022 data-theme-id=\u0022light\u0022 data-default-tab=\u0022js,result\u0022 data-user=\u0022aergfaerfaerg\u0022 data-slug-hash=\u0022vYGxVeQ\u0022 style=\u0022height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\u0022 data-pen-title=\u0022query_prometheus_example\u0022\u003e\r\n  \u003cspan\u003eSee the Pen \u003ca href=\u0022https:\/\/codepen.io\/aergfaerfaerg\/pen\/vYGxVeQ\u0022\u003e\r\n  query_prometheus_example\u003c\/a\u003e by rgsergreg (\u003ca href=\u0022https:\/\/codepen.io\/aergfaerfaerg\u0022\u003e@aergfaerfaerg\u003c\/a\u003e)\r\n  on \u003ca href=\u0022https:\/\/codepen.io\u0022\u003eCodePen\u003c\/a\u003e.\u003c\/span\u003e\r\n\u003c\/p\u003e\r\n\u003cscript async src=\u0022https:\/\/static.codepen.io\/assets\/embed\/ei.js\u0022\u003e\u003c\/script\u003e',
    
    
      date: '2020-08-24',
    
    
      tags: '[Echarts JavaScript Prometheus Vue.js]',
    
    
      categories: '[運維管理]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008191354\/',
    
      title: '從今天開始學Flask',
    
    
      summary: '\u003cp\u003e以往用的framework都是Django，但總不可能靠一招就打天下…所以便來轉戰Flask了，畢竟在某些情境下，使用這種輕量化的framework會更合適\u003c\/p\u003e\n\u003cp\u003e和Django不同，Flask不像Django這麼複雜，預設也只有最低限度的功能，也不像Django自帶ORM，\n因此是個自由度相當高的framework，接下來就開始動手練習\u003c\/p\u003e',
      content: '\u003cp\u003e以往用的framework都是Django，但總不可能靠一招就打天下…所以便來轉戰Flask了，畢竟在某些情境下，使用這種輕量化的framework會更合適\u003c\/p\u003e\n\u003cp\u003e和Django不同，Flask不像Django這麼複雜，預設也只有最低限度的功能，也不像Django自帶ORM，\n因此是個自由度相當高的framework，接下來就開始動手練習\u003c\/p\u003e\n\u003ch3\u003eHello World\u003c\/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n首先安裝Flask\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ pip install Flask\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n之後要用目錄先開好來\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ mkdir -p flask_app\/app\r\n$ cd flask_app\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n主要的app.py，定義頁面用的，比較特別的是route是用decorator，對\u0026rdquo;\/\u0026ldquo;發出請求的時候便會回傳Hello, World!\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e6\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e flask \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e Flask\napp \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Flask(__name__)\n\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/\u0026#39;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehello_world\u003c\/span\u003e():\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Hello, World!\u0026#39;\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e4\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:run.py\u0022 data-lang=\u0022:run.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e app.app \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e app\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e __name__ \u003cspan style=\u0022color:#f92672\u0022\u003e==\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;__main__\u0026#34;\u003c\/span\u003e:\n    app\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003erun()\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n當前目錄的樹狀圖像是這樣\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e.\r\n│  run.py\r\n│\r\n└─app\r\n        app.py\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n執行後就能透過http:\/\/127.0.0.1:5000\/看到Hello, World!了\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ python run.py\r\n * Serving Flask app \u0026quot;app.app\u0026quot; (lazy loading)\r\n * Environment: production\r\n   WARNING: This is a development server. Do not use it in a production deployment.\r\n   Use a production WSGI server instead.\r\n * Debug mode: off\r\n * Running on http:\/\/127.0.0.1:5000\/ (Press CTRL\u002bC to quit)\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3\u003e使用Template\u003c\/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n首先建立一個templates的目錄\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ mkdir templates\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n再來創建一個名為index.html的檔案，作為之後要使用的template\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/templates\/index.html\u0022 data-lang=\u0022:app\/templates\/index.html\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u0026lt;!DOCTYPE html\u0026gt;\u003c\/span\u003e\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elang\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;en\u0026#34;\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emeta\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003echarset\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;UTF-8\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;Title\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eh3\u003c\/span\u003e\u0026gt;測試測試\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eh3\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\napp.py修改如下，建立一個新function，return則指向剛才建立的html\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e flask \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e Flask, render_template\n\u003c\/span\u003eapp \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Flask(__name__)\n\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/\u0026#39;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehello_world\u003c\/span\u003e():\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Hello, World!\u0026#39;\u003c\/span\u003e\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/index\u0026#39;\u003c\/span\u003e)\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eindex\u003c\/span\u003e():\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e render_template(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;index.html\u0026#39;\u003c\/span\u003e)\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e從新執行一次\u003ccode\u003epython run.py\u003c\/code\u003e就能看到template啦\n\u003cbr\u003e\u003c\/br\u003e\n目錄樹狀圖大概是這樣\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e.\r\n│  run.py\r\n│\r\n└─app\r\n    │  app.py\r\n    │\r\n    └─templates\r\n           index.html\r\n\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3\u003e放上靜態檔案\u003c\/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n再來則是靜態檔案，不論是js還是css又或是其他檔案，都放這個static裡，現在建立目錄\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ mkdir static\/images\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n目錄大概是這樣了\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e.\r\n│  run.py\r\n│\r\n└─app\r\n    │  app.py\r\n    │\r\n    ├─static\r\n    │  └─images\r\n    │          怕.jpg\r\n    │\r\n    └─templates\r\n           index.html\r\n\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\ntemplate裡面指定相對目錄\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/templates\/index.html\u0022 data-lang=\u0022:app\/templates\/index.html\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u0026lt;!DOCTYPE html\u0026gt;\u003c\/span\u003e\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elang\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;en\u0026#34;\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emeta\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003echarset\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;UTF-8\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;Title\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eimg\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;\/static\/images\/怕.jpg\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ealt\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;怕\u0026#34;\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n這樣就能看到剛才放上的圖片了\u003c\/p\u003e\n\u003cp\u003e\u003cimg src=\u00221.PNG\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3\u003e在Template中插入Parameter\u003c\/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來就練習放個param，Flask的template engine是Jinja2，陌生歸陌生，但語法跟之前接觸的Django相去不遠\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/index\u0026#39;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eindex\u003c\/span\u003e():\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e render_template(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;index.html\u0026#39;\u003c\/span\u003e, title\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;tiiiiiiiiiiiiiiiitttttllleeeee\u0026#39;\u003c\/span\u003e)\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\ntemplate改成這樣\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/templates\/index.html\u0022 data-lang=\u0022:app\/templates\/index.html\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u0026lt;!DOCTYPE html\u0026gt;\u003c\/span\u003e\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elang\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;en\u0026#34;\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emeta\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003echarset\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;UTF-8\u0026#34;\u003c\/span\u003e\u0026gt;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;{{ title }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eimg\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;\/static\/images\/怕.jpg\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ealt\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;怕\u0026#34;\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來response的title就會變成剛才指定的Argument了\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-html\u0022 data-lang=\u0022html\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u0026lt;!DOCTYPE html\u0026gt;\u003c\/span\u003e\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elang\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;en\u0026#34;\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emeta\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003echarset\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;UTF-8\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;tiiiiiiiiiiiiiiiitttttllleeeee\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eimg\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;\/static\/images\/怕.jpg\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ealt\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;怕\u0026#34;\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3\u003e取得Query String\u003c\/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n在GET method下取得url後面的query string，方法大概就像以下，將\u003ccode\u003erequest.args.get\u003c\/code\u003e拿到的值作為tamplate的param\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e flask \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e Flask, render_template, request\n\u003c\/span\u003eapp \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Flask(__name__)\n\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/\u0026#39;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehello_world\u003c\/span\u003e():\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Hello, World!\u0026#39;\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/index\u0026#39;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eindex\u003c\/span\u003e():\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    title \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e request\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eargs\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;title\u0026#39;\u003c\/span\u003e)\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e render_template(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;index.html\u0026#39;\u003c\/span\u003e, title\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003etitle)\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n這樣title就會是後面的query string了\u003c\/p\u003e\n\u003cp\u003e\u003cimg src=\u00222.PNG\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3\u003e迴圈\u003c\/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n也是很常用的功能，建立一個list來練習\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/index\u0026#39;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eindex\u003c\/span\u003e():\n    title \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e request\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eargs\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eget(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;title\u0026#39;\u003c\/span\u003e)\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    tao_te_ching \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;道可道\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;非常道\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;名可名\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;非常名\u0026#39;\u003c\/span\u003e]\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e render_template(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;index.html\u0026#39;\u003c\/span\u003e, title\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003etitle, tao_te_ching\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003etao_te_ching)\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來在template插入下列語法\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/templates\/index.html\u0022 data-lang=\u0022:app\/templates\/index.html\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u0026lt;!DOCTYPE html\u0026gt;\u003c\/span\u003e\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elang\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;en\u0026#34;\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emeta\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003echarset\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;UTF-8\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;{{ title }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e{% for word in tao_te_ching %}\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;{{ word }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e{% endfor %}\n\u003c\/span\u003e\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n這樣就能看到多了跟list長度一樣的element\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-html\u0022 data-lang=\u0022html\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u0026lt;!DOCTYPE html\u0026gt;\u003c\/span\u003e\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elang\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;en\u0026#34;\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emeta\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003echarset\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;UTF-8\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;None\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;道可道\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;非常道\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;名可名\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;非常名\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3\u003e使用POST\u003c\/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n最後一個練習就用POST吧，route沒指定的話是只有GET的，現在新增一個POST，如果直接用\u003ccode\u003erequest.form\u003c\/code\u003e的話，在method是GET的情況下是會error的，\n所以加一個判斷，確定request是POST在取得對應的value，然後避免GET時dinner這個variable沒定義，所以先建一個空的string\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/app.py\u0022 data-lang=\u0022:app\/app.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e flask \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e Flask, render_template, request\napp \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Flask(__name__)\n\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/\u0026#39;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehello_world\u003c\/span\u003e():\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Hello, World!\u0026#39;\u003c\/span\u003e\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.route\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/index\u0026#39;\u003c\/span\u003e, methods\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;get\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;post\u0026#39;\u003c\/span\u003e])\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eindex\u003c\/span\u003e():\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    dinner \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e request\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003emethod \u003cspan style=\u0022color:#f92672\u0022\u003e==\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;POST\u0026#39;\u003c\/span\u003e:\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        dinner \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e request\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eform[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;dinner\u0026#39;\u003c\/span\u003e]\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e render_template(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;index.html\u0026#39;\u003c\/span\u003e, dinner\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003edinner)\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n在template上加一個form，就大功告成了\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/templates\/index.html\u0022 data-lang=\u0022:app\/templates\/index.html\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u0026lt;!DOCTYPE html\u0026gt;\u003c\/span\u003e\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elang\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;en\u0026#34;\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emeta\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003echarset\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;UTF-8\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;{{ title }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eaction\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;\/index\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emethod\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;POST\u0026#34;\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        {% if dinner %}\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eh1\u003c\/span\u003e\u0026gt;晚餐吃了{{ dinner }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eh1\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        {% else %}\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eh1\u003c\/span\u003e\u0026gt;晚餐吃了啥？\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eh1\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        {% endif %}\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;text\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;dinner\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eplaceholder\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;輸入你吃了啥\u0026#34;\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;submit\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Submit\u0026#34;\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n完成的結果像是這樣，今天的練習就到此為止，以後有空在看看其他部分\u003c\/p\u003e\n\u003cp\u003e\u003cimg src=\u00221.gif\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e',
    
    
      date: '2020-08-19',
    
    
      tags: '[Flask Python]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008181609\/',
    
      title: '【Prometheus入門練習-基本操作篇3】使用Prometheus監控RabbitMQ',
    
    
      summary: '\u003cp\u003e想特地找個一個有自帶plugin的軟體練習一下幫助記憶，剛剛好是常常使用RabbitMQ！這次就來測試看看，當作實務運用的練習\u003c\/p\u003e',
      content: '\u003cp\u003e想特地找個一個有自帶plugin的軟體練習一下幫助記憶，剛剛好是常常使用RabbitMQ！這次就來測試看看，當作實務運用的練習\u003c\/p\u003e\n\u003cp\u003e\u003ca href=\u0022https:\/\/github.com\/rabbitmq\/rabbitmq-prometheus\u0022\u003erabbitmq-prometheus的repository\u003c\/a\u003e\u003c\/p\u003e\n\u003cp\u003e一樣求方便使用docker-compose，寫個陽春的Dockerfile會比較方便\u003c\/p\u003e\n\u003cp\u003e為了使用內建的pulgin，直接用3.8.0以後的image，並且RUN啟用的command\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-Dockerfile\u0022 data-lang=\u0022Dockerfile\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eFROM\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e rabbitmq:3.8.6-management\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eRUN\u003c\/span\u003e rabbitmq-plugins enable rabbitmq_prometheus\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\ncompose file增加port 15692\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:docker-compose.yml\u0022 data-lang=\u0022:docker-compose.yml\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eversion\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;3\u0026#39;\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eservices\u003c\/span\u003e:\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003emy-queue\u003c\/span\u003e:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003econtainer_name\u003c\/span\u003e: rabbitmq\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003ebuild\u003c\/span\u003e: .\/\n\u003c\/span\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003eports\u003c\/span\u003e:\n      - \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;5672:5672\u0026#39;\u003c\/span\u003e\n      - \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;15672:15672\u0026#39;\u003c\/span\u003e\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      - \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;15692:15692\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003evolumes\u003c\/span\u003e:\n      - rabbitmq-data:\/var\/lib\/rabbitmq\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003evolumes\u003c\/span\u003e:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003erabbitmq-data\u003c\/span\u003e:\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來就能在host上用cURL測試了\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl -v -H \u0026quot;Accept:text\/plain\u0026quot; \u0026quot;http:\/\/localhost:15692\/metrics\u0026quot;\n...\n# TYPE rabbitmq_consumers gauge\n# HELP rabbitmq_consumers Consumers currently connected\nrabbitmq_consumers 0\n# TYPE rabbitmq_queues gauge\n# HELP rabbitmq_queues Queues available\nrabbitmq_queues 0\n# TYPE rabbitmq_build_info untyped\n# HELP rabbitmq_build_info RabbitMQ \u0026amp; Erlang\/OTP version info\nrabbitmq_build_info{rabbitmq_version=\u0026quot;3.8.6\u0026quot;,prometheus_plugin_version=\u0026quot;3.8.6\u0026quot;,prometheus_client_version=\u0026quot;4.6.0\u0026quot;,erlang_version=\u0026quot;23.0.3\u0026quot;} 1\n# TYPE rabbitmq_identity_info untyped\n# HELP rabbitmq_identity_info RabbitMQ node \u0026amp; cluster identity info\nrabbitmq_identity_info{rabbitmq_node=\u0026quot;rabbit@7f33446fce98\u0026quot;,rabbitmq_cluster=\u0026quot;rabbit@7f33446fce98\u0026quot;} 1\n# TYPE telemetry_scrape_duration_seconds summary\n# HELP telemetry_scrape_duration_seconds Scrape duration\n# TYPE telemetry_scrape_size_bytes summary\n# HELP telemetry_scrape_size_bytes Scrape size, not encoded\n# TYPE telemetry_scrape_encoded_size_bytes summary\n...\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e巴拉巴拉一大堆\n\u003cbr\u003e\u003c\/br\u003e\n適當增加一下prometheus的config，反正只是測試一下，就姑且用static config吧\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-yaml\u0022 data-lang=\u0022yaml\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003escrape_configs\u003c\/span\u003e:\n...\n  - \u003cspan style=\u0022color:#66d9ef\u0022\u003ejob_name\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;rabbitmq-exporter\u0026#39;\u003c\/span\u003e\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003escrape_interval\u003c\/span\u003e: 60s\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003escrape_timeout\u003c\/span\u003e: 59s\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003estatic_configs\u003c\/span\u003e:\n      - \u003cspan style=\u0022color:#66d9ef\u0022\u003etargets\u003c\/span\u003e:\n          - \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;rabbitmq-exporter:15692\u0026#39;\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n能看到endpoint增加了\n\u003cimg src=\u00221.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n\u003cimg src=\u00222.png\u0022 alt=\u0022\u0022\u003e\n這樣就能用Prometheus監控RabbitMQ了\u003c\/p\u003e\n\u003cp\u003e剩下細部的設定可以參考\u003ca href=\u0022https:\/\/www.rabbitmq.com\/prometheus.html\u0022\u003ehttps:\/\/www.rabbitmq.com\/prometheus.html\u003c\/a\u003e\u003c\/p\u003e',
    
    
      date: '2020-08-18',
    
    
      tags: '[Prometheus RabbitMQ]',
    
    
      categories: '[運維管理]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008171709\/',
    
      title: '【Prometheus入門練習-自訂篇1】使用Prometheus client library自訂metrics',
    
    
      summary: '\u003cp\u003e作為往後可能需要自訂Exporter的預習，就試著拿\u003ca href=\u0022https:\/\/prometheus.io\/docs\/instrumenting\/clientlibs\/\u0022\u003ePrometheus client library\u003c\/a\u003e來玩玩…這次使用官方提供的Python版本，藉由這次練習來更加熟練操作Exporter\u003c\/p\u003e',
      content: '\u003cp\u003e作為往後可能需要自訂Exporter的預習，就試著拿\u003ca href=\u0022https:\/\/prometheus.io\/docs\/instrumenting\/clientlibs\/\u0022\u003ePrometheus client library\u003c\/a\u003e來玩玩…這次使用官方提供的Python版本，藉由這次練習來更加熟練操作Exporter\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\u0022#1\u0022\u003e測試Prometheus Client Library\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022#2\u0022\u003e搭配Node exporter text collector\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022#3\u0022\u003e搭配Pushgateway\u003c\/a\u003e\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ch3 id=1\u003e測試Prometheus Client Library\u003c\/h3\u003e\r\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n環境是debian 9及python 3.5.3\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$  cat \/etc\/*-release\r\nPRETTY_NAME=\u0026quot;Debian GNU\/Linux 9 (stretch)\u0026quot;\r\nNAME=\u0026quot;Debian GNU\/Linux\u0026quot;\r\nVERSION_ID=\u0026quot;9\u0026quot;\r\nVERSION=\u0026quot;9 (stretch)\u0026quot;\r\nID=debian\r\nHOME_URL=\u0026quot;https:\/\/www.debian.org\/\u0026quot;\r\nSUPPORT_URL=\u0026quot;https:\/\/www.debian.org\/support\u0026quot;\r\nBUG_REPORT_URL=\u0026quot;https:\/\/bugs.debian.org\/\u0026quot;\r\n\r\n$ python --version\r\nPython 3.5.3\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n先用一下好久沒碰的Pipenv，避免環境弄亂\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ pip3 install -U pipenv\r\n$ pipenv --python 3\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n下載prometheus client，然後用shell\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ pipenv install prometheus-client\r\n$ pipenv shell\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n\u003ca href=\u0022https:\/\/github.com\/prometheus\/node_exporter\/\u0022\u003ereadme.md\u003c\/a\u003e中的範例，是使用start_http_server，因為本身就是一個頗為簡短的script，\n使用while True來持續執行\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e prometheus_client \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e start_http_server, Summary\n\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e random\n\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e time\n\n\u003cspan style=\u0022color:#75715e\u0022\u003e# Create a metric to track time spent and requests made.\u003c\/span\u003e\nREQUEST_TIME \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Summary(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;request_processing_seconds\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Time spent processing request\u0026#39;\u003c\/span\u003e)\n\n\u003cspan style=\u0022color:#75715e\u0022\u003e# Decorate function with metric.\u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@REQUEST_TIME.time\u003c\/span\u003e()\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eprocess_request\u003c\/span\u003e(t):\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;\u0026#34;\u0026#34;A dummy function that takes some time.\u0026#34;\u0026#34;\u0026#34;\u003c\/span\u003e\n    time\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esleep(t)\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e __name__ \u003cspan style=\u0022color:#f92672\u0022\u003e==\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;__main__\u0026#39;\u003c\/span\u003e:\n    \u003cspan style=\u0022color:#75715e\u0022\u003e# Start up the server to expose the metrics.\u003c\/span\u003e\n    start_http_server(\u003cspan style=\u0022color:#ae81ff\u0022\u003e8000\u003c\/span\u003e)\n    \u003cspan style=\u0022color:#75715e\u0022\u003e# Generate some requests.\u003c\/span\u003e\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ewhile\u003c\/span\u003e True:\n        process_request(random\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003erandom())\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n來看看start_http_server的廬山真面目\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026gt;\u0026gt;\u0026gt; import prometheus_client\r\n\u0026gt;\u0026gt;\u0026gt; import inspect\r\n\r\n\u0026gt;\u0026gt;\u0026gt; print(inspect.getsource(prometheus_client.start_http_server))\r\ndef start_wsgi_server(port, addr=\u0027\u0027, registry=REGISTRY):\r\n    \u0026quot;\u0026quot;\u0026quot;Starts a WSGI server for prometheus metrics as a daemon thread.\u0026quot;\u0026quot;\u0026quot;\r\n    app = make_wsgi_app(registry)\r\n    httpd = make_server(addr, port, app, ThreadingWSGIServer, handler_class=_SilentHandler)\r\n    t = threading.Thread(target=httpd.serve_forever)\r\n    t.daemon = True\r\n    t.start()\r\n\r\n\u0026gt;\u0026gt;\u0026gt; print(inspect.getsource(prometheus_client.start_wsgi_server))\r\ndef start_wsgi_server(port, addr=\u0027\u0027, registry=REGISTRY):\r\n    \u0026quot;\u0026quot;\u0026quot;Starts a WSGI server for prometheus metrics as a daemon thread.\u0026quot;\u0026quot;\u0026quot;\r\n    app = make_wsgi_app(registry)\r\n    httpd = make_server(addr, port, app, ThreadingWSGIServer, handler_class=_SilentHandler)\r\n    t = threading.Thread(target=httpd.serve_forever)\r\n    t.daemon = True\r\n    t.start()\r\n\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e由此可見start_http_server和start_wsgi_server是同一個function，當這支script執行完了後，Thread也一併結束\n\u003cbr\u003e\u003c\/br\u003e\n執行後一樣cURL測試一下取得的metrics\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl http:\/\/localhost:8000\r\n# HELP process_virtual_memory_bytes Virtual memory size in bytes.\r\n# TYPE process_virtual_memory_bytes gauge\r\nprocess_virtual_memory_bytes 2.17821184e\u002b08\r\n# HELP process_resident_memory_bytes Resident memory size in bytes.\r\n# TYPE process_resident_memory_bytes gauge\r\nprocess_resident_memory_bytes 2.0774912e\u002b07\r\n# HELP process_start_time_seconds Start time of the process since unix epoch in seconds.\r\n# TYPE process_start_time_seconds gauge\r\nprocess_start_time_seconds 1.59764690706e\u002b09\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n當然也可以用custom collector，記得要用REGISTRY.register將collector註冊\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e prometheus_client.core \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e GaugeMetricFamily, REGISTRY\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e prometheus_client \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e start_http_server\n\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e random\n\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e time\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eCustomCollector\u003c\/span\u003e(object):\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecollect\u003c\/span\u003e(self):\n        g \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e GaugeMetricFamily(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;my_Gauge\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Help text\u0026#39;\u003c\/span\u003e, labels\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;foo\u0026#39;\u003c\/span\u003e])\n        g\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eadd_metric([\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;bar\u0026#39;\u003c\/span\u003e], random\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003erandint(\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e100\u003c\/span\u003e))\n        g\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eadd_metric([\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;baz\u0026#39;\u003c\/span\u003e], random\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003erandom())\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eyield\u003c\/span\u003e g\n\nREGISTRY\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eregister(CustomCollector())\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e __name__ \u003cspan style=\u0022color:#f92672\u0022\u003e==\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;__main__\u0026#39;\u003c\/span\u003e:\n    start_http_server(\u003cspan style=\u0022color:#ae81ff\u0022\u003e8000\u003c\/span\u003e)\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ewhile\u003c\/span\u003e True:\n        time\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esleep(\u003cspan style=\u0022color:#ae81ff\u0022\u003e10\u003c\/span\u003e)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n可以看到metrics包含剛才測試的custom collector了，看得出start_http_server是指向REGISTRY，而REGISTRY又包含了collector，所以server每pull一次，就會執行一次註冊到REGISTRY的collector\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl http:\/\/localhost:8000 \r\n# HELP my_Gauge Help text\r\n# TYPE my_Gauge gauge\r\nmy_Gauge{foo=\u0026quot;bar\u0026quot;} 84.0\r\n...\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e大致上是這樣，雖然能動，但單單是這樣似乎有點不太夠，畢竟單獨使用的話功能實在有點陽春\u003c\/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ch3 id=2\u003e搭配Node exporter text collector\u003c\/h3\u003e\r\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n\u003ca href=\u0022https:\/\/github.com\/prometheus\/node_exporter\u0022\u003eNode exporter\u003c\/a\u003e出馬的時候又到了，Node Exporter的Textfile collector就能在此發揮作用\u003c\/p\u003e\n\u003cp\u003e現在更改剛才測試用的.py如下\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e prometheus_client.core \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e GaugeMetricFamily, REGISTRY\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e prometheus_client \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e write_to_textfile\n\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e random\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eCustomCollector\u003c\/span\u003e(object):\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecollect\u003c\/span\u003e(self):\n        g \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e GaugeMetricFamily(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;my_Gauge\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Help text\u0026#39;\u003c\/span\u003e, labels\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;foo\u0026#39;\u003c\/span\u003e])\n        g\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eadd_metric([\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;bar\u0026#39;\u003c\/span\u003e], random\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003erandint(\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e100\u003c\/span\u003e))\n        g\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eadd_metric([\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;baz\u0026#39;\u003c\/span\u003e], random\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003erandom())\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eyield\u003c\/span\u003e g\n\nREGISTRY\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eregister(CustomCollector())\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003ewrite_to_textfile(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;test.prom\u0026#39;\u003c\/span\u003e, REGISTRY)\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e這樣就會將registry的中的metrics通通輸出到一個叫做\u0026quot;test.prom\u0026quot;的file裡了\n\u003cbr\u003e\u003c\/br\u003e\n之後Node exporter再使用\u0026ndash;collector.textfile.directory這個flag就能取得指定目錄下*.prom內的metrics，範例指令如下：\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e.\/node_exporter  --web.listen-address=\u0026quot;0.0.0.0:9100\u0026quot; --collector.textfile.directory ~\/test\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n一樣測試一下\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl http:\/\/127.0.0.1:9000\/metrics\r\n...\r\nmy_Gauge{foo=\u0026quot;bar\u0026quot;} 90\r\nmy_Gauge{foo=\u0026quot;baz\u0026quot;} 0.7249480740635738\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e這樣就能pull file裡面的東西了\u003c\/p\u003e\n\u003cp\u003e如此一來不只能用crontab之類的來排程，甚至在其他程式裡加上write_to_textfile，到時候只需要讓node_exporter去指定目錄抓就好，彈性又便利，這是這做法會犧牲掉Counter\u003c\/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ch3 id=3\u003e搭配Pushgateway\u003c\/h3\u003e\r\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nClient library除了能使用write_to_textfile來搭配Node exporter，也能配合Pushgateway\u003c\/p\u003e\n\u003cp\u003e修改剛才測試的py如下：\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-py\u0022 data-lang=\u0022py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e prometheus_client.core \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e GaugeMetricFamily, REGISTRY\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e prometheus_client \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e push_to_gateway\n\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e random\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eCustomCollector\u003c\/span\u003e(object):\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecollect\u003c\/span\u003e(self):\n        g \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e GaugeMetricFamily(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;my_Gauge\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Help text\u0026#39;\u003c\/span\u003e, labels\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;foo\u0026#39;\u003c\/span\u003e])\n        g\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eadd_metric([\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;bar\u0026#39;\u003c\/span\u003e], random\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003erandint(\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e100\u003c\/span\u003e))\n        g\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eadd_metric([\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;baz\u0026#39;\u003c\/span\u003e], random\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003erandom())\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eyield\u003c\/span\u003e g\n\nREGISTRY\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eregister(CustomCollector())\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003epush_to_gateway(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;localhost:9091\u0026#39;\u003c\/span\u003e, job\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;batchA\u0026#39;\u003c\/span\u003e, registry\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eREGISTRY)\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\ncURL測試一下\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl http:\/\/localhost:9091\/metrics\r\n...\r\n# HELP python_gc_collections_total Number of times this generation was collected\r\n# TYPE python_gc_collections_total counter\r\npython_gc_collections_total{generation=\u0026quot;0\u0026quot;,instance=\u0026quot;\u0026quot;,job=\u0026quot;batchA\u0026quot;} 42\r\npython_gc_collections_total{generation=\u0026quot;1\u0026quot;,instance=\u0026quot;\u0026quot;,job=\u0026quot;batchA\u0026quot;} 3\r\npython_gc_collections_total{generation=\u0026quot;2\u0026quot;,instance=\u0026quot;\u0026quot;,job=\u0026quot;batchA\u0026quot;} 0\r\n# HELP python_gc_objects_collected_total Objects collected during gc\r\n# TYPE python_gc_objects_collected_total counter\r\npython_gc_objects_collected_total{generation=\u0026quot;0\u0026quot;,instance=\u0026quot;\u0026quot;,job=\u0026quot;batchA\u0026quot;} 145\r\npython_gc_objects_collected_total{generation=\u0026quot;1\u0026quot;,instance=\u0026quot;\u0026quot;,job=\u0026quot;batchA\u0026quot;} 25\r\npython_gc_objects_collected_total{generation=\u0026quot;2\u0026quot;,instance=\u0026quot;\u0026quot;,job=\u0026quot;batchA\u0026quot;} 0\r\n# HELP python_gc_objects_uncollectable_total Uncollectable object found during GC\r\n# TYPE python_gc_objects_uncollectable_total counter\r\npython_gc_objects_uncollectable_total{generation=\u0026quot;0\u0026quot;,instance=\u0026quot;\u0026quot;,job=\u0026quot;batchA\u0026quot;} 0\r\npython_gc_objects_uncollectable_total{generation=\u0026quot;1\u0026quot;,instance=\u0026quot;\u0026quot;,job=\u0026quot;batchA\u0026quot;} 0\r\npython_gc_objects_uncollectable_total{generation=\u0026quot;2\u0026quot;,instance=\u0026quot;\u0026quot;,job=\u0026quot;batchA\u0026quot;} 0\r\n# HELP python_info Python platform information\r\n# TYPE python_info gauge\r\npython_info{implementation=\u0026quot;CPython\u0026quot;,instance=\u0026quot;\u0026quot;,job=\u0026quot;batchA\u0026quot;,major=\u0026quot;3\u0026quot;,minor=\u0026quot;6\u0026quot;,patchlevel=\u0026quot;8\u0026quot;,version=\u0026quot;3.6.8\u0026quot;} 1\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n完\u003c\/p\u003e',
    
    
      date: '2020-08-17',
    
    
      tags: '[Prometheus Python]',
    
    
      categories: '[運維管理]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008151135\/',
    
      title: '使用Moment.js處理日期時間',
    
    
      summary: '\u003cp\u003e一個處理時間的library，覺得蠻好用得所以筆記一下\u003c\/p\u003e',
      content: '\u003cp\u003e一個處理時間的library，覺得蠻好用得所以筆記一下\u003c\/p\u003e\n\u003cp\u003e\u003ca href=\u0022https:\/\/momentjs.com\/\u0022\u003eMoment.js\u003c\/a\u003e\u003c\/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3\u003e基本用法\u003c\/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nFormat\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-js\u0022 data-lang=\u0022js\u0022\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e()\n\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Mon Aug 24 2020 13:43:22 GMT\u002b0800\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eformat\u003c\/span\u003e()\n\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/2020-08-24T13:43:22\u002b08:00\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eformat\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;YYYY-MM-DD HH:mm:ssZ\u0026#39;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/2020-08-24 13:43:22\u002b08:00\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eformat\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;dddd, MMMM Do YYYY, h:mm:ss a\u0026#39;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Monday, August 24th 2020, 1:43:22 pm\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n取得其他類型\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-js\u0022 data-lang=\u0022js\u0022\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003etoDate\u003c\/span\u003e() \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/取得Date object\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Mon Aug 24 2020 14:20:11 GMT\u002b0800 (Taipei Standard Time)\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eunix\u003c\/span\u003e() \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/取得timestamp (秒)\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/1598250011 \n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n其他method\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-js\u0022 data-lang=\u0022js\u0022\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e() \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/now\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Mon Aug 24 2020 14:58:26 GMT\u002b0800\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eyear\u003c\/span\u003e()  \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/年\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/2020\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003equarter\u003c\/span\u003e() \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/季 1到4\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/3\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003emonth\u003c\/span\u003e() \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/月 0到11\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/7\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eweek\u003c\/span\u003e() \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/週\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/35\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003edate\u003c\/span\u003e() \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/日\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/24\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eday\u003c\/span\u003e() \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/星期幾\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/1\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003ehour\u003c\/span\u003e() \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/時\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/14\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eminute\u003c\/span\u003e() \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/分\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/58\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003esecond\u003c\/span\u003e() \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/秒\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/26\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003emillisecond\u003c\/span\u003e() \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/毫秒\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/23\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3\u003eget與set\u003c\/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nget\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-js\u0022 data-lang=\u0022js\u0022\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e() \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/now\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Mon Aug 24 2020 14:34:18 GMT\u002b0800\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eget\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;y\u0026#39;\u003c\/span\u003e) \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/同\u0026#39;years\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/2020\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eget\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Q\u0026#39;\u003c\/span\u003e) \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/同\u0026#39;quarters\u0026#39; 1 to 4\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/3\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eget\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;M\u0026#39;\u003c\/span\u003e) \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/同\u0026#39;months\u0026#39; 0 to 11\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/7\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eget\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;w\u0026#39;\u003c\/span\u003e) \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/同\u0026#39;weeks\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/35\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eget\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;d\u0026#39;\u003c\/span\u003e) \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/同\u0026#39;days\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/1\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eget\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;h\u0026#39;\u003c\/span\u003e)  \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/同\u0026#39;hours\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/14\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eget\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;m\u0026#39;\u003c\/span\u003e) \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/同\u0026#39;minutes\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/34\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eget\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;s\u0026#39;\u003c\/span\u003e) \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/同\u0026#39;seconds\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/18\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eget\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ms\u0026#39;\u003c\/span\u003e) \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/同\u0026#39;milliseconds\u0026#39;\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/449\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nset\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-js\u0022 data-lang=\u0022js\u0022\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eset\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;y\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e1999\u003c\/span\u003e)\n\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Tue Aug 24 1999 14:44:16 GMT\u002b0800\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eset\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Q\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e)\n\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Mon Feb 24 2020 14:44:16 GMT\u002b0800\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eset\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;M\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e)\n\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Fri Jan 24 2020 14:44:16 GMT\u002b0800\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eset\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;W\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e)\n\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Mon Dec 30 2019 14:44:16 GMT\u002b0800\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3\u003e轉換\u003c\/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-js\u0022 data-lang=\u0022js\u0022\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e() \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/now\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Mon Aug 24 2020 15:24:10 GMT\u002b0800\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;1997-12-31T01:02:03\u0026#34;\u003c\/span\u003e) \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/String\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Wed Dec 31 1997 01:02:03 GMT\u002b0800\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e({\u003cspan style=\u0022color:#a6e22e\u0022\u003eyears\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1997\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003emonths\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e11\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003edays\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e31\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003ehours\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eminutes\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e2\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eseconds\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e3\u003c\/span\u003e}) \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Object\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Wed Dec 31 1997 01:02:03 GMT\u002b0800\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e({\u003cspan style=\u0022color:#a6e22e\u0022\u003ey\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1997\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eM\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e11\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003ed\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e31\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eh\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003em\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e2\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003es\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e3\u003c\/span\u003e}) \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Object\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Wed Dec 31 1997 01:02:03 GMT\u002b0800\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e(\u003cspan style=\u0022color:#ae81ff\u0022\u003e883497600000\u003c\/span\u003e) \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Timestamp(millisecond)\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Wed Dec 31 1997 00:00:00 GMT\u002b0800\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eunix\u003c\/span\u003e(\u003cspan style=\u0022color:#ae81ff\u0022\u003e883497600\u003c\/span\u003e) \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Timestamp(second)\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Wed Dec 31 1997 00:00:00 GMT\u002b0800\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e Date(\u003cspan style=\u0022color:#ae81ff\u0022\u003e1997\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e11\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e31\u003c\/span\u003e)) \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Date object\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Wed Dec 31 1997 00:00:00 GMT\u002b0800\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e([\u003cspan style=\u0022color:#ae81ff\u0022\u003e1997\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e11\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e31\u003c\/span\u003e]) \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Array\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Wed Dec 31 1997 00:00:00 GMT\u002b0800\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003ch3\u003e計算\u003c\/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nadd與sub(能chaining)\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-js\u0022 data-lang=\u0022js\u0022\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e()\n\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Mon Aug 24 2020 15:36:35 GMT\u002b0800\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003eadd\u003c\/span\u003e(\u003cspan style=\u0022color:#ae81ff\u0022\u003e7\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;d\u0026#39;\u003c\/span\u003e).\u003cspan style=\u0022color:#a6e22e\u0022\u003eadd\u003c\/span\u003e(\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;M\u0026#39;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Wed Sep 30 2020 15:36:35 GMT\u002b0800\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003emoment\u003c\/span\u003e().\u003cspan style=\u0022color:#a6e22e\u0022\u003esubtract\u003c\/span\u003e(\u003cspan style=\u0022color:#ae81ff\u0022\u003e7\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;d\u0026#39;\u003c\/span\u003e).\u003cspan style=\u0022color:#a6e22e\u0022\u003esubtract\u003c\/span\u003e(\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;M\u0026#39;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/Fri Jul 17 2020 15:36:35 GMT\u002b0800\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e',
    
    
      date: '2020-08-15',
    
    
      tags: '[JavaScript Moment.js]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008140913\/',
    
      title: '【Prometheus入門練習-基本操作篇2】使用Pushgateway進行監控',
    
    
      summary: '\u003cp\u003ePrometheus在設計上是採用pull的模式，但在網路架構的規劃上，並不是所有的target能讓Prometheus去pull，這時候就是Pushgateway出馬的時候了\u003c\/p\u003e',
      content: '\u003cp\u003ePrometheus在設計上是採用pull的模式，但在網路架構的規劃上，並不是所有的target能讓Prometheus去pull，這時候就是Pushgateway出馬的時候了\u003c\/p\u003e\n\u003cp\u003ePushgateway顧名思義，能讓所需要監控的設備及服務用push的方式將metrics放在Pushgateway，再讓Prometheus來pull\u003c\/p\u003e\n\u003cp\u003e如下圖所示：\u003c\/p\u003e\n\u003cp\u003e\u003cimg src=\u00220.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n接下來就試著做一遍了\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\u0022#1\u0022\u003e下載並執行Pushgateway\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022#2\u0022\u003e使用Pushgateway API\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022#3\u0022\u003e從Pushgateway取得metrics\u003c\/a\u003e\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ch3 id=1\u003e下載並執行Pushgateway\u003c\/h3\u003e\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n直接在github上就能下載到，檔案不大十分快速，解開來一樣是binary file\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ wget https:\/\/github.com\/prometheus\/pushgateway\/releases\/download\/v1.2.0\/pushgateway-1.2.0.linux-amd64.tar.gz\n$ tar zxvf pushgateway-1.2.0.linux-amd64.tar.gz\n$ cd pushgateway-1.2.0.linux-amd64.tar.gz\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n執行和exporter差不多，一樣用\u0026ndash;web.listen-address來決定listen address及port，\u0026ndash;persistence.file pg_file能指定一個暫存用的檔案，以防重新啟動時丟失當前的metrics\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ .\/pushgateway --web.listen-address 0.0.0.0:9091 --persistence.file pg_file\nlevel=info ts=2020-08-18T07:04:00.332Z caller=main.go:83 msg=\u0026quot;starting pushgateway\u0026quot; version=\u0026quot;(version=1.2.0, branch=HEAD, revision=b7e0167e9574f4f88404dde9653ee1d3c940f2eb)\u0026quot;\nlevel=info ts=2020-08-18T07:04:00.332Z caller=main.go:84 build_context=\u0026quot;(go=go1.13.8, user=root@0e823ccfff84, date=20200311-18:51:01\u0026quot;\nlevel=info ts=2020-08-18T07:04:00.334Z caller=main.go:137 listen_address=0.0.0.0:9091\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來就能簡單pull測試一下metrics了\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl 0.0.0.0:9091\/metrics\n...\n# HELP pushgateway_build_info A metric with a constant \u00271\u0027 value labeled by version, revision, branch, and goversion from which pushgateway was built.\n# TYPE pushgateway_build_info gauge\npushgateway_build_info{branch=\u0026quot;HEAD\u0026quot;,goversion=\u0026quot;go1.13.8\u0026quot;,revision=\u0026quot;b7e0167e9574f4f88404dde9653ee1d3c940f2eb\u0026quot;,version=\u0026quot;1.2.0\u0026quot;} 1\n# HELP pushgateway_http_requests_total Total HTTP requests processed by the Pushgateway, excluding scrapes.\n# TYPE pushgateway_http_requests_total counter\npushgateway_http_requests_total{code=\u0026quot;200\u0026quot;,handler=\u0026quot;status\u0026quot;,method=\u0026quot;get\u0026quot;} 1\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n也能用從web查看，因為現在沒東西push，所以是空空如也\n\u003cimg src=\u00221.png\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ch3 id=2\u003e使用Pushgateway API\u003c\/h3\u003e\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n現在來嘗試push metrics\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ cat \u0026lt;\u0026lt;EOF | curl --data-binary @- http:\/\/127.0.0.1:9091\/metrics\/job\/some_job\/instance\/some_instance\n# TYPE some_metric counter\nsome_metric{label=\u0026quot;val1\u0026quot;} 42\n# TYPE another_metric gauge\n# HELP another_metric Just an example.\nanother_metric 2398.283\nEOF\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n嫌指令長也能使用@file name的方式POST檔案\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl --data-binary @teest.prom http:\/\/127.0.0.1:9091\/metrics\/job\/some_job\/instance\/some_\ninstance\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n當然除了POST，也能使用DELETE刪除指定的instance\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl -X DELETE http:\/\/127.0.0.1:9091\/metrics\/job\/some_job\/instance\/some_instance\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n也可以用PUT來覆蓋\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e curl -X PUT  --data-binary @teest.prom http:\/\/127.0.0.1:9091\/metrics\/job\/some_job\/instance\/some_instance\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\nWeb也能看到剛才push的metrics\n\u003cimg src=\u00222.png\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ch3 id=3\u003e從Pushgateway取得metrics\u003c\/h3\u003e\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n雖然能用file-based sd，但這次就偷懶一下用static config了，畢竟只是想演示一遍\u003c\/p\u003e\n\u003cp\u003e只要在prometheus.yml的target指定Pushgateway\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:prometheus.yml\u0022 data-lang=\u0022:prometheus.yml\u0022\u003e...\n\n  - \u003cspan style=\u0022color:#66d9ef\u0022\u003ejob_name\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;pushgateway\u0026#39;\u003c\/span\u003e\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003estatic_configs\u003c\/span\u003e:\n    - \u003cspan style=\u0022color:#66d9ef\u0022\u003etargets\u003c\/span\u003e: [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;127.0.0.1:9091\u0026#39;\u003c\/span\u003e]\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003elabels\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003einstance\u003c\/span\u003e: pushgateway\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來就能看到endpoint多了Pushgateway\n\u003cimg src=\u00223.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n也可以query了\n\u003cimg src=\u00224.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\n完\u003c\/p\u003e',
    
    
      date: '2020-08-14',
    
    
      tags: '[Prometheus]',
    
    
      categories: '[運維管理]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008131707\/',
    
      title: '【Prometheus入門練習-基本操作篇1】從零開始學Prometheus',
    
    
      summary: '\u003cp\u003ePrometheus是最近非常流行的Pull-based monitoring，主要的角色是以下兩者：\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003ePrometheus：監控方，定期收集資料並存在資料庫\u003c\/li\u003e\n\u003cli\u003eExporter：被監控方，回傳監控方需要的資料\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e為了往後學習方便，先來實作一遍這個方便利用的工具\u003c\/p\u003e',
      content: '\u003cp\u003ePrometheus是最近非常流行的Pull-based monitoring，主要的角色是以下兩者：\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003ePrometheus：監控方，定期收集資料並存在資料庫\u003c\/li\u003e\n\u003cli\u003eExporter：被監控方，回傳監控方需要的資料\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e為了往後學習方便，先來實作一遍這個方便利用的工具\u003c\/p\u003e\n\u003cp\u003ePrometheus的基礎運用架構很單純，大在就像下圖：\n\u003cimg src=\u00220.png\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e從圖中可見，Prometheus收集時間序列資料(metrics)都是由自己主動向Exporter發起的，這次大概會做這些：\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\u0022#1\u0022\u003e啟動Prometheus\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022#2\u0022\u003e啟動Exporter\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022#3\u0022\u003e使用static config監控\u003c\/a\u003e\u003c\/li\u003e\n\u003cli\u003e\u003ca href=\u0022#4\u0022 \u003e使用file-based service discovery取得target\u003c\/a\u003e\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ch3 id=1\u003e啟動Prometheus\u003c\/h3\u003e\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n部屬Prometheus非常簡單，就只是binary配上一個設定檔，指令如下：\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ wget https:\/\/github.com\/prometheus\/prometheus\/releases\/download\/v2.20.1\/prometheus-2.20.1.linux-amd64.tar.gz\n$ tar zxvf prometheus-2.20.1.linux-amd64.tar.gz\n$ cd prometheus-2.20.1.linux-amd64\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:prometheus.yml\u0022 data-lang=\u0022:prometheus.yml\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e# my global config\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eglobal\u003c\/span\u003e:\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003escrape_interval\u003c\/span\u003e:     15s \u003cspan style=\u0022color:#75715e\u0022\u003e# Set the scrape interval to every 15 seconds. Default is every 1 minute.\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003eevaluation_interval\u003c\/span\u003e: 15s \u003cspan style=\u0022color:#75715e\u0022\u003e# Evaluate rules every 15 seconds. The default is every 1 minute.\u003c\/span\u003e\n  \u003cspan style=\u0022color:#75715e\u0022\u003e# scrape_timeout is set to the global default (10s).\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#75715e\u0022\u003e# Alertmanager configuration\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003ealerting\u003c\/span\u003e:\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003ealertmanagers\u003c\/span\u003e:\n  - \u003cspan style=\u0022color:#66d9ef\u0022\u003estatic_configs\u003c\/span\u003e:\n    - \u003cspan style=\u0022color:#66d9ef\u0022\u003etargets\u003c\/span\u003e:\n      \u003cspan style=\u0022color:#75715e\u0022\u003e# - alertmanager:9093\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#75715e\u0022\u003e# Load rules once and periodically evaluate them according to the global \u0026#39;evaluation_interval\u0026#39;.\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003erule_files\u003c\/span\u003e:\n  \u003cspan style=\u0022color:#75715e\u0022\u003e# - \u0026#34;first_rules.yml\u0026#34;\u003c\/span\u003e\n  \u003cspan style=\u0022color:#75715e\u0022\u003e# - \u0026#34;second_rules.yml\u0026#34;\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#75715e\u0022\u003e# A scrape configuration containing exactly one endpoint to scrape:\u003c\/span\u003e\n\u003cspan style=\u0022color:#75715e\u0022\u003e# Here it\u0026#39;s Prometheus itself.\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003escrape_configs\u003c\/span\u003e:\n  \u003cspan style=\u0022color:#75715e\u0022\u003e# The job name is added as a label `job=\u0026lt;job_name\u0026gt;` to any timeseries scraped from this config.\u003c\/span\u003e\n  - \u003cspan style=\u0022color:#66d9ef\u0022\u003ejob_name\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;prometheus\u0026#39;\u003c\/span\u003e\n\n    \u003cspan style=\u0022color:#75715e\u0022\u003e# metrics_path defaults to \u0026#39;\/metrics\u0026#39;\u003c\/span\u003e\n    \u003cspan style=\u0022color:#75715e\u0022\u003e# scheme defaults to \u0026#39;http\u0026#39;.\u003c\/span\u003e\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003estatic_configs\u003c\/span\u003e:\n    - \u003cspan style=\u0022color:#66d9ef\u0022\u003etargets\u003c\/span\u003e: [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;localhost:9090\u0026#39;\u003c\/span\u003e]\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ .\/prometheus --config.file=prometheus.yml\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n使用cURL測試一下metrics\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl localhost:9090\/metrics\n# HELP go_gc_duration_seconds A summary of the pause duration of garbage collection cycles.\n# TYPE go_gc_duration_seconds summary\ngo_gc_duration_seconds{quantile=\u0026quot;0\u0026quot;} 8.412e-06\ngo_gc_duration_seconds{quantile=\u0026quot;0.25\u0026quot;} 6.8151e-05\ngo_gc_duration_seconds{quantile=\u0026quot;0.5\u0026quot;} 0.000435588\ngo_gc_duration_seconds{quantile=\u0026quot;0.75\u0026quot;} 0.000661594\ngo_gc_duration_seconds{quantile=\u0026quot;1\u0026quot;} 0.001019489\ngo_gc_duration_seconds_sum 0.002193234\ngo_gc_duration_seconds_count 5\n# HELP go_goroutines Number of goroutines that currently exist.\n# TYPE go_goroutines gauge\n...\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cstrong\u003e就算加上下載，整個過程也不到五分鐘…\u003c\/strong\u003e\u003c\/p\u003e\n\u003cp\u003e拿到metrics就是這麼快速，也能進web看看graph，在瀏覽器打上http:\/\/prometheus_ip:9090\/graph就能看到了，\ntab選擇graph也能看到些簡單的圖表\n\u003cimg src=\u00221.png\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ch3 id=\u00222\u0022\u003e啟動Exporter\u003c\/h3\u003e\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n既然Prometheus已經起來了，那麼來試著監控些什麼，就下載個node exporter來測試\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003ewget https:\/\/github.com\/prometheus\/node_exporter\/releases\/download\/v1.0.1\/node_exporter-1.0.1.linux-amd64.tar.gz\ntar zxvf node_exporter-1.0.1.linux-amd64.tar.gz\ncd node_exporter-1.0.1.linux-amd64\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n裡面一樣是個binary file，執行下去\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e .\/node_exporter --web.listen-address 127.0.0.1:8080\ncurl 127.0.0.1:8080\/metrics\n# HELP go_gc_duration_seconds A summary of the pause duration of garbage collection cycles.\n# TYPE go_gc_duration_seconds summary\ngo_gc_duration_seconds{quantile=\u0026quot;0\u0026quot;} 0\ngo_gc_duration_seconds{quantile=\u0026quot;0.25\u0026quot;} 0\ngo_gc_duration_seconds{quantile=\u0026quot;0.5\u0026quot;} 0\ngo_gc_duration_seconds{quantile=\u0026quot;0.75\u0026quot;} 0\ngo_gc_duration_seconds{quantile=\u0026quot;1\u0026quot;} 0\ngo_gc_duration_seconds_sum 0\ngo_gc_duration_seconds_count 0\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\ncURL測試metrics\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl localhost:8080\/metrics\n# HELP go_gc_duration_seconds A summary of the pause duration of garbage collection cycles.\n# TYPE go_gc_duration_seconds summary\ngo_gc_duration_seconds{quantile=\u0026quot;0\u0026quot;} 9.31e-06\ngo_gc_duration_seconds{quantile=\u0026quot;0.25\u0026quot;} 5.488e-05\ngo_gc_duration_seconds{quantile=\u0026quot;0.5\u0026quot;} 0.000112915\ngo_gc_duration_seconds{quantile=\u0026quot;0.75\u0026quot;} 0.000194093\ngo_gc_duration_seconds{quantile=\u0026quot;1\u0026quot;} 0.004481425\ngo_gc_duration_seconds_sum 0.175059981\ngo_gc_duration_seconds_count 957\n# HELP go_goroutines Number of goroutines that currently exist.\n# TYPE go_goroutines gauge\ngo_goroutines 8\n# HELP go_info Information about the Go environment.\n# TYPE go_info gauge\n...\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e一樣簡單快速\u003c\/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ch3 id=\u00223\u0022\u003e使用static config進行監控\u003c\/h3\u003e\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n既然exporter沒問題，那麼是時候建立一個job來get metrics了，就依照\u003ca href=\u0022https:\/\/prometheus.io\/docs\/prometheus\/latest\/getting_started\/\u0022\u003e這裡的範例\u003c\/a\u003e，一步步操作吧\u003c\/p\u003e\n\u003cp\u003e依照範例，建立prometheus.rules.yml，用於依照需求控制紀錄的方式，能降低監控造成的負擔，此範例是記錄下五分鐘平均的cpu狀態\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e5\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:prometheus.rules.yml\u0022 data-lang=\u0022:prometheus.rules.yml\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003egroups\u003c\/span\u003e:\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003ename\u003c\/span\u003e: cpu-node\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003erules\u003c\/span\u003e:\n  - \u003cspan style=\u0022color:#66d9ef\u0022\u003erecord\u003c\/span\u003e: job_instance_mode:node_cpu_seconds:avg_rate5m\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eexpr\u003c\/span\u003e: avg by (job, instance, mode) (rate(node_cpu_seconds_total[5m]))\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n然後修改prometheus.yml，除了增加rule，也新增job，並\u003ca href=\u0022\u0022\u003e之前\u003c\/a\u003e啟動的exporter\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:prometheus.yml\u0022 data-lang=\u0022:prometheus.yml\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eglobal\u003c\/span\u003e:\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003escrape_interval\u003c\/span\u003e:     15s \u003cspan style=\u0022color:#75715e\u0022\u003e# By default, scrape targets every 15 seconds.\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003eevaluation_interval\u003c\/span\u003e: 15s \u003cspan style=\u0022color:#75715e\u0022\u003e# Evaluate rules every 15 seconds.\u003c\/span\u003e\n\n  \u003cspan style=\u0022color:#75715e\u0022\u003e# Attach these extra labels to all timeseries collected by this Prometheus instance.\u003c\/span\u003e\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003eexternal_labels\u003c\/span\u003e:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003emonitor\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;codelab-monitor\u0026#39;\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003erule_files\u003c\/span\u003e:\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  - \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;prometheus.rules.yml\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003escrape_configs\u003c\/span\u003e:\n  - \u003cspan style=\u0022color:#66d9ef\u0022\u003ejob_name\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;prometheus\u0026#39;\u003c\/span\u003e\n\n    \u003cspan style=\u0022color:#75715e\u0022\u003e# Override the global default and scrape targets from this job every 5 seconds.\u003c\/span\u003e\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003escrape_interval\u003c\/span\u003e: 5s\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003estatic_configs\u003c\/span\u003e:\n      - \u003cspan style=\u0022color:#66d9ef\u0022\u003etargets\u003c\/span\u003e: [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;localhost:9090\u0026#39;\u003c\/span\u003e]\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  - \u003cspan style=\u0022color:#66d9ef\u0022\u003ejob_name\u003c\/span\u003e:       \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;node\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#75715e\u0022\u003e# Override the global default and scrape targets from this job every 5 seconds.\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003escrape_interval\u003c\/span\u003e: 5s\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003estatic_configs\u003c\/span\u003e:\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      - \u003cspan style=\u0022color:#66d9ef\u0022\u003etargets\u003c\/span\u003e: [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;localhost:8080\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;localhost:8081\u0026#39;\u003c\/span\u003e]\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003elabels\u003c\/span\u003e:\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#66d9ef\u0022\u003egroup\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;production\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e      - \u003cspan style=\u0022color:#66d9ef\u0022\u003etargets\u003c\/span\u003e: [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;localhost:8082\u0026#39;\u003c\/span\u003e]\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003elabels\u003c\/span\u003e:\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e          \u003cspan style=\u0022color:#66d9ef\u0022\u003egroup\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;canary\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n重新啟動prometheus後，就能用去query job instance了\n\u003cimg src=\u00222.png\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ch3 id=\u00224\u0022\u003e使用file-based service discovery取得target\u003c\/h3\u003e\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n在實務上，不可能每增加個exporter就重新啟動一次，這時候file-based service discovery就很重要，\n這種方式和static config不同，只要修改檔案讓prometheus能去讀取就行，不需要reload\u003c\/p\u003e\n\u003cp\u003e先在目錄中建立一個空的file_sd.yml，並修改prometheus.yml\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:prometheus.yml\u0022 data-lang=\u0022:prometheus.yml\u0022\u003e  - \u003cspan style=\u0022color:#66d9ef\u0022\u003ejob_name\u003c\/span\u003e:       \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;node\u0026#39;\u003c\/span\u003e\n\n    \u003cspan style=\u0022color:#75715e\u0022\u003e# Override the global default and scrape targets from this job every 5 seconds.\u003c\/span\u003e\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003escrape_interval\u003c\/span\u003e: 5s\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003efile_sd_configs\u003c\/span\u003e:\n      - \u003cspan style=\u0022color:#66d9ef\u0022\u003efiles\u003c\/span\u003e:\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        - .\/file_sd.yml\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cp\u003e重新啟動prometheus後，就發現targets回到空空如也的狀態了\n\u003cimg src=\u00223.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cp\u003e接下來就是要用file來增加targets了，把前版的prometheus.yml中的static config放到file_sd.yml\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e7\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:file_sd.yml\u0022 data-lang=\u0022:file_sd.yml\u0022\u003e- \u003cspan style=\u0022color:#66d9ef\u0022\u003etargets\u003c\/span\u003e: [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;localhost:8080\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;localhost:8081\u0026#39;\u003c\/span\u003e]\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003elabels\u003c\/span\u003e:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003egroup\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;production\u0026#39;\u003c\/span\u003e\n\n- \u003cspan style=\u0022color:#66d9ef\u0022\u003etargets\u003c\/span\u003e: [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;localhost:8082\u0026#39;\u003c\/span\u003e]\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003elabels\u003c\/span\u003e:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003egroup\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;canary\u0026#39;\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cp\u003e接下來不需要重新啟動prometheus，也能新增targets了\n\u003cimg src=\u00224.png\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e',
    
    
      date: '2020-08-13',
    
    
      tags: '[Prometheus]',
    
    
      categories: '[運維管理]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008100108\/',
    
      title: '使用Django \u002b Channels部屬WebSocket簡易聊天室',
    
    
      summary: '\u003cp\u003e製作一個網頁聊天室，首先要讓服務端和用戶端實現異步通訊，而服務端要包含一個訊息貯列，讓所有符合條件的用戶端都能收到相應的訊息，\n剛好可作為Message Queue及Web Socket的練習。\u003c\/p\u003e\n\u003cp\u003e本篇Message Queue使用RabbitMQ，Framework使用Django，並且由Channels來實現Web Socket\u003c\/p\u003e',
      content: '\u003cp\u003e製作一個網頁聊天室，首先要讓服務端和用戶端實現異步通訊，而服務端要包含一個訊息貯列，讓所有符合條件的用戶端都能收到相應的訊息，\n剛好可作為Message Queue及Web Socket的練習。\u003c\/p\u003e\n\u003cp\u003e本篇Message Queue使用RabbitMQ，Framework使用Django，並且由Channels來實現Web Socket\u003c\/p\u003e\n\u003cp\u003e在Message Queue中，會有訊息的產生及消費，而在RabbitMQ中，主要就以下幾種：\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003eProducer：將訊息丟到Exchange\u003c\/li\u003e\n\u003cli\u003eExchange：將訊息分配到對應的Queue\u003c\/li\u003e\n\u003cli\u003eQueue：存放訊息讓Consumer取用\u003c\/li\u003e\n\u003cli\u003eConsumer：從Queue取得訊息\u003cbr\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e加上Web Socket的話，架構會向下圖所示：\u003c\/p\u003e\n\u003cp\u003e\u003cimg src=\u00221.png\u0022 alt=\u0022\u0022\u003e\n\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cp\u003e而這次Web Server是Django，而實現WebSocket的Channels會同時是Producer及Consumer\u003cbr\u003e\n\u003cstrong\u003e準備開始動工！\u003c\/strong\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:rabbitmq\/docker-compose.yml\u0022 data-lang=\u0022:rabbitmq\/docker-compose.yml\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eversion\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;3\u0026#39;\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eservices\u003c\/span\u003e:\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003emy-queue\u003c\/span\u003e:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003econtainer_name\u003c\/span\u003e: rabbitmq\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eimage\u003c\/span\u003e: rabbitmq:\u003cspan style=\u0022color:#ae81ff\u0022\u003e3.7.4\u003c\/span\u003e-management\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eports\u003c\/span\u003e:\n      - \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;5672:5672\u0026#39;\u003c\/span\u003e\n      - \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;15672:15672\u0026#39;\u003c\/span\u003e\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003evolumes\u003c\/span\u003e:\n      - rabbitmq-data:\/var\/lib\/rabbitmq\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003evolumes\u003c\/span\u003e:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003erabbitmq-data\u003c\/span\u003e:\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n輸入指令\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e# docker-compose up\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n建立一個vhost備用\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl -i -u guest:guest -H \u0026quot;content-type:application\/json\u0026quot;  \\\r\n    -XPUT http:\/\/localhost:15672\/api\/vhosts\/asgi\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e到這裡RabbitMQ就準備完成了，接下來是Channels的部分\n\u003cbr\u003e\u003c\/br\u003e\n建立requirtments.txt供pip使用\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e3\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:requirtments.txt\u0022 data-lang=\u0022:requirtments.txt\u0022\u003edjango == 3.0\nchannels == 2.4.0\nchannels_rabbitmq == 1.2.1\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e安裝上列的幾個包\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ pip install -r requirements.txt\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e還有django的指令\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ django-admin startproject django-channels-example\r\n$ cd django_channels_example\r\n$ python manage.py startapp\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n修改settings.py，加上channels及自己的app\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e41\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e42\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:django_channels_example\/settings.py\u0022 data-lang=\u0022:django_channels_example\/settings.py\u0022\u003eINSTALLED_APPS \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.admin\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.auth\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.contenttypes\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.sessions\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.messages\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.staticfiles\u0026#39;\u003c\/span\u003e,\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;channels\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;app\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e]\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n加上Channels的設定，host指向剛才建立的vhost\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e124\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e125\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e126\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e127\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e128\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e129\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e130\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e131\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e132\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e133\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e134\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-python\u0022 data-lang=\u0022python\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e# Channels\u003c\/span\u003e\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003eASGI_APPLICATION \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django_channels_example.routing.application\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003eCHANNEL_LAYERS \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;default\u0026#34;\u003c\/span\u003e: {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;BACKEND\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;channels_rabbitmq.core.RabbitmqChannelLayer\u0026#34;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;CONFIG\u0026#34;\u003c\/span\u003e: {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;host\u0026#34;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;amqp:\/\/guest:guest@127.0.0.1\/asgi\u0026#34;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        },\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    },\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e}\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n接下來大致參照Channels的\u003ca href=\u0022https:\/\/channels.readthedocs.io\/en\/latest\/tutorial\/part_2.html\u0022\u003eTutorial\u003c\/a\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e41\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e42\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e43\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e44\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e45\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/consumers.py\u0022 data-lang=\u0022:app\/consumers.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e json\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e channels.generic.websocket \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e AsyncWebsocketConsumer\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eChatConsumer\u003c\/span\u003e(AsyncWebsocketConsumer):\n    async \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003econnect\u003c\/span\u003e(self):\n        self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eroom_name \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003escope[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;url_route\u0026#39;\u003c\/span\u003e][\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;kwargs\u0026#39;\u003c\/span\u003e][\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;room_name\u0026#39;\u003c\/span\u003e]\n        self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eroom_group_name \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;chat_\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e%s\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e%\u003c\/span\u003e self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eroom_name\n\n        \u003cspan style=\u0022color:#75715e\u0022\u003e# Join room group\u003c\/span\u003e\n        await self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003echannel_layer\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003egroup_add(\n            self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eroom_group_name,\n            self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003echannel_name\n        )\n\n        await self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eaccept()\n\n    async \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003edisconnect\u003c\/span\u003e(self, close_code):\n        \u003cspan style=\u0022color:#75715e\u0022\u003e# Leave room group\u003c\/span\u003e\n        await self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003echannel_layer\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003egroup_discard(\n            self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eroom_group_name,\n            self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003echannel_name\n        )\n\n    \u003cspan style=\u0022color:#75715e\u0022\u003e# Receive message from WebSocket\u003c\/span\u003e\n    async \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ereceive\u003c\/span\u003e(self, text_data):\n        text_data_json \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e json\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eloads(text_data)\n        message \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e text_data_json[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;message\u0026#39;\u003c\/span\u003e]\n\n        \u003cspan style=\u0022color:#75715e\u0022\u003e# Send message to room group\u003c\/span\u003e\n        await self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003echannel_layer\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003egroup_send(\n            self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eroom_group_name,\n            {\n                \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;type\u0026#39;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;chat_message\u0026#39;\u003c\/span\u003e,\n                \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;message\u0026#39;\u003c\/span\u003e: message\n            }\n        )\n\n    \u003cspan style=\u0022color:#75715e\u0022\u003e# Receive message from room group\u003c\/span\u003e\n    async \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003echat_message\u003c\/span\u003e(self, event):\n        message \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e event[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;message\u0026#39;\u003c\/span\u003e]\n\n        \u003cspan style=\u0022color:#75715e\u0022\u003e# Send message to WebSocket\u003c\/span\u003e\n        await self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esend(text_data\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003ejson\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003edumps({\n            \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;message\u0026#39;\u003c\/span\u003e: message\n        }))\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n建立app\/routing.py,由這裡定義Consumer的Pattern\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e6\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/routing.py\u0022 data-lang=\u0022:app\/routing.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.urls \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e re_path\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e . \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e consumers\n\nwebsocket_urlpatterns \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n    re_path(\u003cspan style=\u0022color:#e6db74\u0022\u003er\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ws\/(?P\u0026lt;room_name\u0026gt;\\w\u002b)\/$\u0026#39;\u003c\/span\u003e, consumers\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eChatConsumer),\n]\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n建立project\/routing.py\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:django_channels_example\/routing.py\u0022 data-lang=\u0022:django_channels_example\/routing.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e channels.auth \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e AuthMiddlewareStack\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e channels.routing \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e ProtocolTypeRouter, URLRouter\n\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e app.routing\n\napplication \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e ProtocolTypeRouter({\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;websocket\u0026#39;\u003c\/span\u003e: AuthMiddlewareStack(\n        URLRouter(\n            app\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003erouting\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ewebsocket_urlpatterns\n        )\n    ),\n})\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cp\u003e準備簡易的template與view\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e41\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e42\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e43\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e44\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e45\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e46\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e47\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e48\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e49\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/templates\/app\/room.html\u0022 data-lang=\u0022:app\/templates\/app\/room.html\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u0026lt;!DOCTYPE html\u0026gt;\u003c\/span\u003e\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emeta\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003echarset\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;utf-8\u0026#34;\u003c\/span\u003e\/\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;Chat Room\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etextarea\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;chat-log\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecols\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;100\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erows\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;20\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etextarea\u003c\/span\u003e\u0026gt;\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebr\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;chat-message-input\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;text\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esize\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;100\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebr\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003einput\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;chat-message-submit\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;button\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Send\u0026#34;\u003c\/span\u003e\u0026gt;\n    {{ room_name|json_script:\u0026#34;room-name\u0026#34; }}\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eroomName\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eJSON\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eparse\u003c\/span\u003e(document.\u003cspan style=\u0022color:#a6e22e\u0022\u003egetElementById\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;room-name\u0026#39;\u003c\/span\u003e).\u003cspan style=\u0022color:#a6e22e\u0022\u003etextContent\u003c\/span\u003e);\n\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003echatSocket\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eWebSocket\u003c\/span\u003e(\n            \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ws:\/\/\u0026#39;\u003c\/span\u003e\n            \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e window.\u003cspan style=\u0022color:#a6e22e\u0022\u003elocation\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ehost\u003c\/span\u003e\n            \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/ws\/\u0026#39;\u003c\/span\u003e\n            \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eroomName\u003c\/span\u003e\n            \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/\u0026#39;\u003c\/span\u003e\n        );\n\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003echatSocket\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eonmessage\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efunction\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ee\u003c\/span\u003e) {\n            \u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eJSON\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eparse\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ee\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e);\n            document.\u003cspan style=\u0022color:#a6e22e\u0022\u003equerySelector\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;#chat-log\u0026#39;\u003c\/span\u003e).\u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b=\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emessage\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\\n\u0026#39;\u003c\/span\u003e);\n        };\n\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003echatSocket\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eonclose\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efunction\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ee\u003c\/span\u003e) {\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003econsole\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eerror\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Chat socket closed unexpectedly\u0026#39;\u003c\/span\u003e);\n        };\n\n        document.\u003cspan style=\u0022color:#a6e22e\u0022\u003equerySelector\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;#chat-message-input\u0026#39;\u003c\/span\u003e).\u003cspan style=\u0022color:#a6e22e\u0022\u003efocus\u003c\/span\u003e();\n        document.\u003cspan style=\u0022color:#a6e22e\u0022\u003equerySelector\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;#chat-message-input\u0026#39;\u003c\/span\u003e).\u003cspan style=\u0022color:#a6e22e\u0022\u003eonkeyup\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efunction\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ee\u003c\/span\u003e) {\n            \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003ee\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ekeyCode\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e===\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e13\u003c\/span\u003e) {  \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/ enter, return\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e                document.\u003cspan style=\u0022color:#a6e22e\u0022\u003equerySelector\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;#chat-message-submit\u0026#39;\u003c\/span\u003e).\u003cspan style=\u0022color:#a6e22e\u0022\u003eclick\u003c\/span\u003e();\n            }\n        };\n\n        document.\u003cspan style=\u0022color:#a6e22e\u0022\u003equerySelector\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;#chat-message-submit\u0026#39;\u003c\/span\u003e).\u003cspan style=\u0022color:#a6e22e\u0022\u003eonclick\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efunction\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ee\u003c\/span\u003e) {\n            \u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emessageInputDom\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e document.\u003cspan style=\u0022color:#a6e22e\u0022\u003equerySelector\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;#chat-message-input\u0026#39;\u003c\/span\u003e);\n            \u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emessage\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emessageInputDom\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e;\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003echatSocket\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003esend\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eJSON\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003estringify\u003c\/span\u003e({\n                \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;message\u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emessage\u003c\/span\u003e\n            }));\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003emessageInputDom\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e;\n        };\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e3\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e4\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e5\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e6\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e7\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/views.py\u0022 data-lang=\u0022:app\/views.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.shortcuts \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e render\n\n\u003cspan style=\u0022color:#75715e\u0022\u003e# Create your views here.\u003c\/span\u003e\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eroom\u003c\/span\u003e(request, room_name):\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e render(request, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;app\/room.html\u0026#39;\u003c\/span\u003e, {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;room_name\u0026#39;\u003c\/span\u003e: room_name\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    })\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n最後建立app\/urls.py及修改project\/urls.py，就能透過vuew來測試了\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e7\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:app\/urls.py\u0022 data-lang=\u0022:app\/urls.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.urls \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e path\n\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e . \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e views\n\nurlpatterns \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026lt;str:room_name\u0026gt;\/\u0026#39;\u003c\/span\u003e, views\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eroom, name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;room\u0026#39;\u003c\/span\u003e),\n]\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:django_channels_example\/urls.py\u0022 data-lang=\u0022:django_channels_example\/urls.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.contrib \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e admin\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.urls \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e path, include\n\u003c\/span\u003e\nurlpatterns \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;admin\/\u0026#39;\u003c\/span\u003e, admin\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esite\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eurls),\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e, include(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;app.urls\u0026#39;\u003c\/span\u003e)),\n\u003c\/span\u003e]\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n把Server開起來就能測試了\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ python manage.py runserver\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003eRabbitMQ會看到Client連上的訊息\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003erabbitmq    | 2020-08-13 07:32:54.655 [warning] \u0026lt;0.577.0\u0026gt; closing AMQP connection \u0026lt;0.577.0\u0026gt; (192.168.149.1:36675 -\u0026gt; 172.18.0.2:5672, vhost: \u0027asgi\u0027, user: \u0027guest\u0027):\r\nrabbitmq    | client unexpectedly closed TCP connection\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e前往網址localhost:8000\/qq就能透過簡易的Web連上WebSocket\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003eWebSocket CONNECT \/ws\/qq\/ [127.0.0.1:37334]\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e這樣所有連上同個room的用戶端都能收送並共享訊息了\u003c\/p\u003e\n\u003cp\u003e完整版一樣放上GitHub \u003ca href=\u0022https:\/\/github.com\/mikanbearer\/django_channels_example\u0022\u003ehttps:\/\/github.com\/mikanbearer\/django_channels_example\u003c\/a\u003e\u003c\/p\u003e',
    
    
      date: '2020-08-10',
    
    
      tags: '[Channels Django Python RabbitMQ]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008092021\/',
    
      title: '動態更新Echarts',
    
    
      summary: '\u003cp\u003e之前工作上需要一個前端的圖表庫，最後就相中了百度的Echarts，像是要做監控的話，前端的圖表要動態更新就變得很重要了\u003c\/p\u003e',
      content: '\u003cp\u003e之前工作上需要一個前端的圖表庫，最後就相中了百度的Echarts，像是要做監控的話，前端的圖表要動態更新就變得很重要了\u003c\/p\u003e\n\u003cp\u003e如同\u003ca href=\u0022https:\/\/echarts.apache.org\/en\/tutorial.html#Get%20Started%20with%20ECharts%20in%205%20minutes\u0022\u003e這裡\u003c\/a\u003e的範例，Echarts會在使用\u003ccode\u003esetOption\u003c\/code\u003e的時候layout\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-html\u0022 data-lang=\u0022html\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u0026lt;!DOCTYPE html\u0026gt;\u003c\/span\u003e\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emeta\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003echarset\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;utf-8\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;ECharts\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;\n    \u003cspan style=\u0022color:#75715e\u0022\u003e\u0026lt;!-- including ECharts file --\u0026gt;\u003c\/span\u003e\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esrc\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;echarts.js\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n    \u003cspan style=\u0022color:#75715e\u0022\u003e\u0026lt;!-- prepare a DOM container with width and height --\u0026gt;\u003c\/span\u003e\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;main\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003estyle\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;width: 600px;height:400px;\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;text\/javascript\u0026#34;\u003c\/span\u003e\u0026gt;\n        \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/ based on prepared DOM, initialize echarts instance\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emyChart\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eecharts\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003einit\u003c\/span\u003e(document.\u003cspan style=\u0022color:#a6e22e\u0022\u003egetElementById\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;main\u0026#39;\u003c\/span\u003e));\n\n        \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/ specify chart configuration item and data\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e {\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003etitle\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n                \u003cspan style=\u0022color:#a6e22e\u0022\u003etext\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ECharts entry example\u0026#39;\u003c\/span\u003e\n            },\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003etooltip\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {},\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003elegend\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n                \u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Sales\u0026#39;\u003c\/span\u003e]\n            },\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003exAxis\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n                \u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;shirt\u0026#34;\u003c\/span\u003e,\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;cardign\u0026#34;\u003c\/span\u003e,\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;chiffon shirt\u0026#34;\u003c\/span\u003e,\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;pants\u0026#34;\u003c\/span\u003e,\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;heels\u0026#34;\u003c\/span\u003e,\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;socks\u0026#34;\u003c\/span\u003e]\n            },\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003eyAxis\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {},\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003eseries\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [{\n                \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Sales\u0026#39;\u003c\/span\u003e,\n                \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;bar\u0026#39;\u003c\/span\u003e,\n                \u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#ae81ff\u0022\u003e5\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e20\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e36\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e10\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e10\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e20\u003c\/span\u003e]\n            }]\n        };\n\n        \u003cspan style=\u0022color:#75715e\u0022\u003e\/\/ use configuration item and data specified to show chart\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e        \u003cspan style=\u0022color:#a6e22e\u0022\u003emyChart\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003esetOption\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eoption\u003c\/span\u003e);\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n如果是要異步更新的話，只要更新option中的這個部分\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-javascript\u0022 data-lang=\u0022javascript\u0022\u003e        \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eoption\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e {\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003etitle\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n                \u003cspan style=\u0022color:#a6e22e\u0022\u003etext\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;ECharts entry example\u0026#39;\u003c\/span\u003e\n            },\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003etooltip\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {},\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003elegend\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n                \u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Sales\u0026#39;\u003c\/span\u003e]\n            },\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003exAxis\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n                \u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;shirt\u0026#34;\u003c\/span\u003e,\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;cardign\u0026#34;\u003c\/span\u003e,\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;chiffon shirt\u0026#34;\u003c\/span\u003e,\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;pants\u0026#34;\u003c\/span\u003e,\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;heels\u0026#34;\u003c\/span\u003e,\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;socks\u0026#34;\u003c\/span\u003e]\n            },\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003eyAxis\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {},\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003eseries\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [{\n                \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Sales\u0026#39;\u003c\/span\u003e,\n                \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;bar\u0026#39;\u003c\/span\u003e,\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e                \u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#ae81ff\u0022\u003e5\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e20\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e36\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e10\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e10\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e20\u003c\/span\u003e]\n\u003c\/span\u003e            }]\n        };\n\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e\u003cbr\u003e\u003c\/br\u003e\n下列是一個動態更新的範例\u003c\/p\u003e\n\u003cp class=\u0022codepen\u0022 data-height=\u0022265\u0022 data-theme-id=\u0022light\u0022 data-default-tab=\u0022js,result\u0022 data-user=\u0022aergfaerfaerg\u0022 data-slug-hash=\u0022RwaWrMp\u0022 style=\u0022height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\u0022 data-pen-title=\u0022Echarts Updating Data\u0022\u003e\r\n  \u003cspan\u003eSee the Pen \u003ca href=\u0022https:\/\/codepen.io\/aergfaerfaerg\/pen\/RwaWrMp\u0022\u003e\r\n  Echarts Updating Data\u003c\/a\u003e by rgsergreg (\u003ca href=\u0022https:\/\/codepen.io\/aergfaerfaerg\u0022\u003e@aergfaerfaerg\u003c\/a\u003e)\r\n  on \u003ca href=\u0022https:\/\/codepen.io\u0022\u003eCodePen\u003c\/a\u003e.\u003c\/span\u003e\r\n\u003c\/p\u003e\r\n\u003cscript async src=\u0022https:\/\/static.codepen.io\/assets\/embed\/ei.js\u0022\u003e\u003c\/script\u003e',
    
    
      date: '2020-08-09',
    
    
      tags: '[Echarts JavaScript]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008070930\/',
    
      title: '新主題上線！',
    
    
      summary: '\u003cp\u003e原本使用\u003ca href=\u0022https:\/\/github.com\/halogenica\/beautifulhugo\u0022\u003eBeautifulhugo\u003c\/a\u003e(個人蠻喜歡的)，但發現會有一些小問題…\u003c\/p\u003e\n\u003cp\u003e這個主題是使用bootstrap3製作，但也會因此有一些特殊字元問題…\u003c\/p\u003e',
      content: '\u003cp\u003e原本使用\u003ca href=\u0022https:\/\/github.com\/halogenica\/beautifulhugo\u0022\u003eBeautifulhugo\u003c\/a\u003e(個人蠻喜歡的)，但發現會有一些小問題…\u003c\/p\u003e\n\u003cp\u003e這個主題是使用bootstrap3製作，但也會因此有一些特殊字元問題…\u003c\/p\u003e\n\u003cp\u003e像是個人使用的tag就很容易包含特殊字元，常見一些Node.js啦、Vue.js啦…都會包然這個\u0026rdquo;.\u0026quot;，而bootstrap是依賴jquery的，\nselector會無法作用，像以下的code；\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e5\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e6\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e7\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:202008070930.md\u0022 data-lang=\u0022:202008070930.md\u0022\u003e---\ntitle: \u0026#34;新主題上線！\u0026#34;\ndate: 2020-08-07T09:30:55\u002b08:00\ndraft: true\ncategories: [雜記]\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003etags: [Hugo, Vue.js, Vuetify]\n\u003c\/span\u003e---\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e再看看beautifulhugo的寫法\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:beautifulhugo\/leyouts\/_default\/terms.html\u0022 data-lang=\u0022:beautifulhugo\/leyouts\/_default\/terms.html\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;container\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erole\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;main\u0026#34;\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1\u0026#34;\u003c\/span\u003e\u0026gt; \n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003earticle\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;post-preview\u0026#34;\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;panel-group\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;accordion\u0026#34;\u003c\/span\u003e\u0026gt;\n        {{ range $key, $value := .Data.Terms.ByCount }}\n          \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;panel panel-default\u0026#34;\u003c\/span\u003e\u0026gt;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;collapsed\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erole\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;button\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003edata-toggle\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;collapse\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003edata-target\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;#collapse{{ $value.Name }}\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003edata-parent\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;#accordion\u0026#34;\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;panel-heading\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;header{{ $value.Name }}\u0026#34;\u003c\/span\u003e\u0026gt;\n                  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eh4\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;panel-title\u0026#34;\u003c\/span\u003e\u0026gt;\n                      {{ $value.Name }}\n                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003espan\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;badge\u0026#34;\u003c\/span\u003e\u0026gt;{{ $value.Count }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003espan\u003c\/span\u003e\u0026gt;\n                  \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eh4\u003c\/span\u003e\u0026gt;\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e\u0026gt;\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;collapse{{ $value.Name }}\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;panel-collapse collapse\u0026#34;\u003c\/span\u003e\u0026gt;\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e是不是讓人略顯得無奈，在tag有Vue.js的情況下，最後可變成\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-html\u0022 data-lang=\u0022html\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;collapseVue.js\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;panel-collapse collapse\u0026#34;\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e無法正常作用啊！\u003c\/p\u003e\n\u003cp\u003e所以與其費神去改，不如做個自己的theme囉！\n…之後就突發奇想，來用個Vue吧？\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ hugo new theme hugovuetifymix\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e就變成現在的模樣了…\u003c\/p\u003e\n\u003cp\u003e想當然爾，結果是一團混亂，考慮到一些效能因素，不會把太多東西塞進instance做成single page，但也要保持著一定的可用性，\n為了避免衝突，要指定vue的delimiter\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e47\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e48\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e49\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e50\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e51\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e52\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e53\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:footer.html\u0022 data-lang=\u0022:footer.html\u0022\u003e  var vm = new Vue({\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    delimiters: [\u0026#39;[[\u0026#39;, \u0026#39;]]\u0026#39;],\n\u003c\/span\u003e    el: \u0026#39;#app\u0026#39;,\n    vuetify: new Vuetify(),\n    props: {\n    },\n    data: {\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e像這樣子的混用是很常見的\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e47\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e48\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e49\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e50\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e51\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e52\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e53\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e54\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e55\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e56\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e57\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e58\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e59\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e60\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e61\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e62\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e63\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e64\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:footer.html\u0022 data-lang=\u0022:footer.html\u0022\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003evar posts = [\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e{{ range where site.RegularPages \u0026#34;Type\u0026#34; \u0026#34;in\u0026#34; site.Params.mainSections }}\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    url: \u0026#39;{{ .Permalink }}\u0026#39;,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    title: \u0026#39;{{ .Title }}\u0026#39;,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    summary: \u0026#39;{{ .Summary }}\u0026#39;,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    date: \u0026#39;{{ .Params.Date.Format \u0026#34;2006-01-02\u0026#34; }}\u0026#39;,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    tags: \u0026#39;{{ .Params.Tags }}\u0026#39;,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    categories: \u0026#39;{{ .Params.Categories }}\u0026#39;,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    author: \u0026#39;{{ .Params.Author }}\u0026#39;,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  },\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e{{ end }}\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e]\n\u003c\/span\u003e\nposts.forEach(element =\u0026gt; {element.categories = element.categories.slice(1, -1).split(\u0026#39; \u0026#39;)})\nposts.forEach(element =\u0026gt; {element.tags = element.tags.slice(1, -1).split(\u0026#39; \u0026#39;)})\n\nvm.$set(vm.$data, \u0026#39;posts\u0026#39;, posts)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e用這種方式產出object，接下來就是揮灑vue的instace method了，之後再更新筆記，theme成熟點後也會放上來\u003c\/p\u003e',
    
    
      date: '2020-08-07',
    
    
      tags: '[Hugo Vuetify Vue.js]',
    
    
      categories: '[雜記]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007301419\/',
    
      title: '在Nginx或Apache上設定CORS',
    
    
      summary: '\u003cp\u003eWeb Server沒定義相關的Header的話，就沒辦法Preflight Request，所以必須額外設定，使用\u003ca href=\u0022https:\/\/mikanbearer.github.io\/myblog\/posts\/202007291642\/\u0022\u003e這篇\u003c\/a\u003e來實作，本篇包含Nginx及Apache的設定範例\u003c\/p\u003e',
      content: '\u003cp\u003eWeb Server沒定義相關的Header的話，就沒辦法Preflight Request，所以必須額外設定，使用\u003ca href=\u0022https:\/\/mikanbearer.github.io\/myblog\/posts\/202007291642\/\u0022\u003e這篇\u003c\/a\u003e來實作，本篇包含Nginx及Apache的設定範例\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eNginx\u003c\/strong\u003e\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e未設定狀態：\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e# curl http:\/\/127.0.0.1\/api -I -X OPTIONS -H \u0026quot;Origin: http:\/\/127.0.0.1:8000\u0026quot; -H \u0026quot;Access-Control-Request-Method: GET\u0026quot;\nHTTP\/1.1 301 Moved Permanently\nServer: nginx\/1.19.1\nDate: Thu, 30 Jul 2020 08:27:27 GMT\nContent-Type: text\/html; charset=utf-8\nContent-Length: 0\nConnection: keep-alive\nLocation: \/api\/\nX-Content-Type-Options: nosniff\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003edefault.conf範例\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003eserver {\n    listen       80;\n    listen  [::]:80;\n    server_name  localhost;\n\n    location \/api {\n        uwsgi_pass 172.16.238.11:8000;\n        include uwsgi_params;\n\n        add_header Access-Control-Allow-Origin *;\n        add_header Access-Control-Allow-Methods \u0026quot;POST, GET, OPTIONS\u0026quot;;\n        add_header Access-Control-Allow-Headers \u0026quot;Origin, Authorization, Accept\u0026quot;;\n        add_header Access-Control-Allow-Credentials true;\n    }\n}\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e完成後測試\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003ecurl http:\/\/127.0.0.1\/api -I -X OPTIONS -H \u0026quot;Origin: http:\/\/127.0.0.1:9000\u0026quot; -H \u0026quot;Access-Co\nntrol-Request-Method: GET\u0026quot;\nHTTP\/1.1 301 Moved Permanently\nServer: nginx\/1.19.1\nDate: Thu, 30 Jul 2020 08:34:10 GMT\nContent-Type: text\/html; charset=utf-8\nContent-Length: 0\nConnection: keep-alive\nLocation: \/api\/\nX-Content-Type-Options: nosniff\nAccess-Control-Allow-Origin: *\nAccess-Control-Allow-Methods: POST, GET, OPTIONS\nAccess-Control-Allow-Headers: Origin, Authorization, Accept\nAccess-Control-Allow-Credentials: true\n\u003c\/code\u003e\u003c\/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eApache\u003c\/strong\u003e\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e未設定的狀態\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e# curl http:\/\/127.0.0.1:81\/api\/ -I -X OPTIONS -H \u0026quot;Origin: http:\/\/127.0.0.1:9000\u0026quot; -H \u0026quot;Access-Control-Request-Method: GET\u0026quot;\nHTTP\/1.1 200 OK\nDate: Thu, 30 Jul 2020 07:39:22 GMT\nServer: Apache\/2.4.43 (Unix)\nContent-Type: text\/html; charset=utf-8\nContent-Length: 0\nVary: Origin\nX-Frame-Options: DENY\nX-Content-Type-Options: nosniff\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003ehttpd.conf範例(太冗長省略一些)\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003eServerRoot \u0026quot;\/usr\/local\/apache2\u0026quot;\nListen 80\n...\n\nLoadModule headers_module modules\/mod_headers.so\n...\nLoadModule proxy_module modules\/mod_proxy.so\nLoadModule proxy_uwsgi_module modules\/mod_proxy_uwsgi.so\n...\n\u0026lt;IfModule headers_module\u0026gt;\n    RequestHeader unset Proxy early\n    \u0026lt;Location \/api\u0026gt;\n        Header set Access-Control-Allow-Origin \u0026quot;*\u0026quot;\n    \u0026lt;\/Location\u0026gt;\n\u0026lt;IfModule headers_module\u0026gt;\n\u0026lt;IfModule proxy_uwsgi_module\u0026gt;\n    ProxyPass \/api uwsgi:\/\/172.16.238.11:8000\/\n\u0026lt;\/IfModule\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e完成後測試：\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl http:\/\/127.0.0.1\/api -I -X OPTIONS -H \u0026quot;Origin: http:\/\/127.0.0.1:9000\u0026quot; -H \u0026quot;Access-Control-Request-Method: GET\u0026quot;\nHTTP\/1.1 200 OK\nDate: Thu, 30 Jul 2020 08:03:58 GMT\nServer: Apache\/2.4.43 (Unix)\nContent-Type: text\/html; charset=utf-8\nContent-Length: 0\nVary: Origin\nAccess-Control-Allow-Origin: *\nAccess-Control-Allow-Headers: accept, accept-encoding, authorization, content-type, dnt, origin, user-agent, x-csrftoken, x-requested-with\nAccess-Control-Allow-Methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\nAccess-Control-Max-Age: 86400\nX-Frame-Options: DENY\nX-Content-Type-Options: nosniff\n\u003c\/code\u003e\u003c\/pre\u003e',
    
    
      date: '2020-07-30',
    
    
      tags: '[Apache Nginx]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007291642\/',
    
      title: '使用docker-compose部屬Nginx \u002b uWSGI \u002b Django',
    
    
      summary: '\u003cp\u003e雖然docker-compose真的很方便，為了一鍵部屬些東西，還是爬一下文，避免處處碰壁…\u003c\/p\u003e\n\u003cp\u003e這次使用以下兩篇舊文的範例來練習\u003c\/p\u003e',
      content: '\u003cp\u003e雖然docker-compose真的很方便，為了一鍵部屬些東西，還是爬一下文，避免處處碰壁…\u003c\/p\u003e\n\u003cp\u003e這次使用以下兩篇舊文的範例來練習\u003c\/p\u003e\n\u003cp\u003e\u003ca href=\u0022https:\/\/mikanbearer.github.io\/myblog\/posts\/202007262314\/\u0022\u003e使用製作Vue.js \u002b Vuetify製作SPA登入畫面\u003c\/a\u003e\u003c\/p\u003e\n\u003cp\u003e\u003ca href=\u0022https:\/\/mikanbearer.github.io\/myblog\/posts\/202007201501\/\u0022\u003e使用Django REST framework超高速部屬RESTful API (2)\u003c\/a\u003e\u003c\/p\u003e\n\u003cp\u003e練習中使用compose file來部屬，所以建立兩個container，\u003c\/p\u003e\n\u003cp\u003e\u003cstrong\u003e第一個問題來了\u003c\/strong\u003e\n既然是SPA，在不使用localhost的情況，client要怎麼知道API的位置在哪呢？\u003c\/p\u003e\n\u003cp\u003e\u003cstrong\u003e讓兩個IP相同就好啦\u003c\/strong\u003e\u003c\/p\u003e\n\u003cp\u003e只要像以下連線方式就可以了：\nclient → nginx web server → django wsgi\u003c\/p\u003e\n\u003cp\u003e嗯…一整串，這樣的意思就是讓nginx在同一個server上提供靜態檔案及wsgi，\u003c\/p\u003e\n\u003cp\u003e\u003cstrong\u003e※本範例因為使用同一個port，所以不會CORS的問題，故Nginx上並沒有設定相關的header\u003c\/strong\u003e\u003c\/p\u003e\n\u003cp\u003e首先要把front-end弄出來，靠的是webpack來編譯\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003enpm run build\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e會產生一個叫做dist的目錄，編譯好的東西預設都在這裡\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003edist\n  │  favicon.ico\n  │  index.html\n  │\n  ├─css\n  │      chunk-vendors.69d077a6.css\n  │\n  └─js\n          app.7215ebfd.js\n          app.7215ebfd.js.map\n          chunk-vendors.7993b17d.js\n          chunk-vendors.7993b17d.js.map\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e然後做一個名為demo的目錄，把東西都扔進來\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003edemo\n│  docker-compose.yml\n│\n├─api ★ 新增\n│  │  Dockerfile ★ 新增\n│  │  requirements.txt ★ 新增\n│  │  usgsi.ini ★ 新增\n│  │\n│  └─django_rest_example ★ 移動自API的Django Project\n│      │  db.sqlite3\n│      │  manage.py\n│      │\n│      ├─api\n│      │  │  ...\n|      |\n│      └─django_rest_example\n│          │  ...\n│\n├─nginx ★ 新增\n│      default.conf ★新增\n│\n└─web ★ 移動至dist，改名web方便辨識\n    │  favicon.ico\n    │  index.html\n    │\n    ├─css\n    │      chunk-vendors.69d077a6.css\n    │\n    └─js\n            app.7215ebfd.js\n            app.7215ebfd.js.map\n            chunk-vendors.7993b17d.js\n            chunk-vendors.7993b17d.js.map\n\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e接下來是重點的docker-compose file，因為api的container會需要下載一些package，所以額外做成一個image會比較方便，\n而web server的container就沒有這樣的需求，所以精簡就好，照一開始的規劃，\nweb server要使用tcp socket連到api，所以兩者使用一個docker network來通訊\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:docker-compose.yml\u0022 data-lang=\u0022:docker-compose.yml\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eversion\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;3\u0026#39;\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eservices\u003c\/span\u003e:\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003eapi\u003c\/span\u003e:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003erestart\u003c\/span\u003e: always\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ebuild\u003c\/span\u003e: .\/api\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eports\u003c\/span\u003e:\n      - \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;8000:8000\u0026#34;\u003c\/span\u003e\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003evolumes\u003c\/span\u003e:\n      - .\/api:\/api\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003enetworks\u003c\/span\u003e:\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003ebackend\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eipv4_address\u003c\/span\u003e: \u003cspan style=\u0022color:#ae81ff\u0022\u003e172.16.238.11\u003c\/span\u003e\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edeploy\u003c\/span\u003e:\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003erestart_policy\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003econdition\u003c\/span\u003e: on-failure\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ecommand\u003c\/span\u003e: uwsgi --ini uwsgi.ini\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003eweb\u003c\/span\u003e:\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eimage\u003c\/span\u003e: nginx:\u003cspan style=\u0022color:#ae81ff\u0022\u003e1.19.1\u003c\/span\u003e\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eports\u003c\/span\u003e:\n      - \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;80:80\u0026#34;\u003c\/span\u003e\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003evolumes\u003c\/span\u003e:\n      - .\/web:\/usr\/share\/nginx\/html\n      - .\/nginx:\/etc\/nginx\/conf.d\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003enetworks\u003c\/span\u003e:\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003ebackend\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eipv4_address\u003c\/span\u003e: \u003cspan style=\u0022color:#ae81ff\u0022\u003e172.16.238.10\u003c\/span\u003e\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edeploy\u003c\/span\u003e:\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003erestart_policy\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003econdition\u003c\/span\u003e: on-failure\n\u003cspan style=\u0022color:#66d9ef\u0022\u003enetworks\u003c\/span\u003e:\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003ebackend\u003c\/span\u003e: \n      \u003cspan style=\u0022color:#66d9ef\u0022\u003eipam\u003c\/span\u003e:\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003edriver\u003c\/span\u003e: default\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003econfig\u003c\/span\u003e:\n          - \u003cspan style=\u0022color:#66d9ef\u0022\u003esubnet\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;172.16.238.0\/24\u0026#34;\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003eDockerfile如下，使用python 3.8.4的image\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e5\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:api\/Dockerfile\u0022 data-lang=\u0022:api\/Dockerfile\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eFROM\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e python:3.8.4\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eRUN\u003c\/span\u003e mkdir -p \/api\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eWORKDIR\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e \/api\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eADD\u003c\/span\u003e requirements.txt .\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eRUN\u003c\/span\u003e pip install -r requirements.txt\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e必要的幾個包\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-requirements.txt\u0022 data-lang=\u0022requirements.txt\u0022\u003eDjango == 3.0\ndjango-cors-headers == 3.2.1\ndjangorestframework == 3.11.0\ndjangorestframework-jwt == 1.11.0\nuWSGI == 2.0.19.1\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003euWSGI的設定可以精簡一點\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e8\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:api\/uwsgi.ini\u0022 data-lang=\u0022:api\/uwsgi.ini\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003e[uwsgi]\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#a6e22e\u0022\u003echdir\u003c\/span\u003e           \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\/api\/django_rest_example\u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003emodule\u003c\/span\u003e          \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003edjango_rest_example.wsgi\u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003emaster\u003c\/span\u003e          \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003etrue\u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003eprocesses\u003c\/span\u003e       \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e2\u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003esocket\u003c\/span\u003e          \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e172.16.238.11:8000 \u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003evacuum\u003c\/span\u003e          \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003etrue\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003enginx用的conf，由location \/api來和uWSGI通訊，使用tcp socket\u003c\/p\u003e\n\u003cpre\u003e\u003ccode class=\u0022language-:nginx\/default.conf\u0022 data-lang=\u0022:nginx\/default.conf\u0022\u003eserver {\n    listen       80;\n    listen  [::]:80;\n    server_name  localhost;\n\n    location \/ {\n        root   \/usr\/share\/nginx\/html;\n        index  index.html;\n    }\n\n    location \/api {\n        uwsgi_pass 172.16.238.11:8000;\n        include uwsgi_params;\n    }\n}\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e下接來只要以下指令就部屬完成了\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003edemo# docker-compose up\n\u003c\/code\u003e\u003c\/pre\u003e',
    
    
      date: '2020-07-29',
    
    
      tags: '[Docker Nginx uWSGI]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007262314\/',
    
      title: '使用Vue.js \u002b Vuetify製作SPA登入畫面',
    
    
      summary: '\u003cp\u003e利用Vuetify這個最近蠻流行的UI Kit來做一個SPA的練習，當然首選就是登入畫面了，這次順帶附加上nested route，\n往後可作為隨時能取用的範例，code依然很醜，不合理及多餘的部分之後再慢慢修正…\u003c\/p\u003e',
      content: '\u003cp\u003e利用Vuetify這個最近蠻流行的UI Kit來做一個SPA的練習，當然首選就是登入畫面了，這次順帶附加上nested route，\n往後可作為隨時能取用的範例，code依然很醜，不合理及多餘的部分之後再慢慢修正…\u003c\/p\u003e\n\u003cp\u003e參考資料[https:\/\/qiita.com\/maisuto\/items\/4671ded9ec1ff329ca98(https:\/\/qiita.com\/maisuto\/items\/4671ded9ec1ff329ca98)\u003c\/p\u003e\n\u003cp\u003esource與demo都放在github了\n\u003ca href=\u0022https:\/\/github.com\/mikanbearer\/vue_login_example\u0022\u003ehttps:\/\/github.com\/mikanbearer\/vue_login_example\u003c\/a\u003e\u003c\/p\u003e\n\u003cp\u003e這次預計會做成這樣的感覺：\n　　\u003c\/p\u003e\n\u003cp\u003e\u002b\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u002b\u003cbr\u003e\n|App　　　　　　　　|\u003cbr\u003e\n|\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026ndash;|\u003cbr\u003e\n|　　　　　　　　　　|\u003cbr\u003e\n|　　　Login　　　　|\u003cbr\u003e\n|　　　　　　　　　　|\u003cbr\u003e\n\u002b\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u002b\u003cbr\u003e\n　　　　　↓\u003cbr\u003e\n\u002b\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u002b\u003cbr\u003e\n|App　　　　　　　　|\u003cbr\u003e\n|\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026ndash;|\u003cbr\u003e\n|Home|　　　　　　　|\u003cbr\u003e\n|　　　|　Foo or Bar　|\u003cbr\u003e\n|　　　|　　　　　　　|\u003cbr\u003e\n\u002b\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u002b\u003c\/p\u003e\n\u003cp\u003e首先是環境，第一步就是偷懶使用create\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ vue create vue_login_example\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003epackage大概會是這樣的\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ npm version\r\n{\r\n  vue_login_example: \u00270.1.0\u0027,\r\n  npm: \u00276.13.4\u0027,\r\n  ares: \u00271.15.0\u0027,\r\n  brotli: \u00271.0.7\u0027,\r\n  cldr: \u002735.1\u0027,\r\n  http_parser: \u00272.9.3\u0027,\r\n  icu: \u002764.2\u0027,\r\n  llhttp: \u00272.0.4\u0027,\r\n  modules: \u002772\u0027,\r\n  napi: \u00275\u0027,\r\n  nghttp2: \u00271.40.0\u0027,\r\n  node: \u002712.16.1\u0027,\r\n  openssl: \u00271.1.1d\u0027,\r\n  tz: \u00272019c\u0027,\r\n  unicode: \u002712.1\u0027,\r\n  uv: \u00271.34.0\u0027,\r\n  v8: \u00277.8.279.23-node.31\u0027,\r\n  zlib: \u00271.2.11\u0027\r\n}\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e加入vuetify\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ vue add vuetify\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003enpm下載其他必要的包\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ npm install --save vue-router axios vuex vuex-persistedstate\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e先建立好需要的檔案，樹狀圖會像以下這樣(☆為新增)\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003esrc\r\n │  App.vue\r\n │  main.js\r\n │\r\n ├─assets\r\n │      logo.png\r\n │      logo.svg\r\n │\r\n ├─components \r\n │      Bar.vue ★\r\n │      Foo.vue ★\r\n │      HelloWorld.vue\r\n │      Home.vue ★\r\n │      Login.vue ★\r\n │\r\n ├─plugins\r\n │      vuetify.js\r\n │\r\n ├─router ★\r\n │      index.js ★\r\n │\r\n └─store ★\r\n     │  index.js ★\r\n     │\r\n     └─modules ★\r\n             api.js ★\r\n             auth.js ★\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e首先是main.js，先import稍後加入的router及store\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:main.js\u0022 data-lang=\u0022:main.js\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eVue\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;vue\u0026#39;\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eApp\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/App.vue\u0026#39;\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evuetify\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/plugins\/vuetify\u0026#39;\u003c\/span\u003e\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erouter\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@\/router\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003estore\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@\/store\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003eVue\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003econfig\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eproductionTip\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eVue\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003evuetify\u003c\/span\u003e,\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003erouter\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003estore\u003c\/span\u003e,\n\u003c\/span\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003erender\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eh\u003c\/span\u003e =\u0026gt; \u003cspan style=\u0022color:#a6e22e\u0022\u003eh\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eApp\u003c\/span\u003e)\n}).\u003cspan style=\u0022color:#a6e22e\u0022\u003e$mount\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;#app\u0026#39;\u003c\/span\u003e)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e再來是App.vue，砍到乾乾淨淨留下router-view\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:App.vue\u0022 data-lang=\u0022:App.vue\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etemplate\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-app\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;app\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003erouter-view\u003c\/span\u003e\u0026gt;\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/router-view\u0026gt;\u003c\/span\u003e\n  \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-app\u0026gt;\u003c\/span\u003e\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etemplate\u003c\/span\u003e\u0026gt;\n\n\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003edefault\u003c\/span\u003e {\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;App\u0026#39;\u003c\/span\u003e,\n}\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003estyle\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003estyle\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e建立名為:router的目錄，並開一個叫index.js的檔案，使用beforeEach，在從store取得狀態來決定是否重新導向回login\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e41\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e42\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e43\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e44\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e45\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e46\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e47\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e48\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e49\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e50\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e51\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e52\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:router\/index.js\u0022 data-lang=\u0022:router\/index.js\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eVue\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;vue\u0026#39;\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eRouter\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;vue-router\u0026#39;\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/ components\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eHome\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@\/components\/Home.vue\u0026#39;\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eLogin\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@\/components\/Login.vue\u0026#39;\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eFoo\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@\/components\/Foo.vue\u0026#39;\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eBar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@\/components\/Bar.vue\u0026#39;\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/ store\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003estore\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@\/store\u0026#39;\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#a6e22e\u0022\u003eVue\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003euse\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eRouter\u003c\/span\u003e)\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erouter\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e  \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eRouter\u003c\/span\u003e({\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003emode\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;history\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eroutes\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\n      {\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003epath\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/\u0026#39;\u003c\/span\u003e,\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Home\u0026#39;\u003c\/span\u003e,\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003ecomponent\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eHome\u003c\/span\u003e,\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003echildren\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\n          {\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Foo\u0026#39;\u003c\/span\u003e,\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003epath\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;foo\u0026#39;\u003c\/span\u003e,\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003ecomponent\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eFoo\u003c\/span\u003e\n          },\n          {\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003epath\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;bar\u0026#39;\u003c\/span\u003e,\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003ecomponent\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eBar\u003c\/span\u003e\n          }\n        ]\n      },\n      {\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003epath\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/login\u0026#39;\u003c\/span\u003e,\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Login\u0026#39;\u003c\/span\u003e,\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003ecomponent\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eLogin\u003c\/span\u003e,\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003emeta\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003enoNeedLogin\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e\n        },\n      },\n    ],\n  })\n  \n  \n\u003cspan style=\u0022color:#75715e\u0022\u003e\/\/ navigation guard\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003erouter\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ebeforeEach\u003c\/span\u003e((\u003cspan style=\u0022color:#a6e22e\u0022\u003eto\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003enext\u003c\/span\u003e) =\u0026gt; {\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e (\u003cspan style=\u0022color:#f92672\u0022\u003e!\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003eto\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003emeta\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003enoNeedLogin\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026amp;\u0026amp;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e!\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003estore\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003estate\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eisLoggedIn\u003c\/span\u003e) \u003cspan style=\u0022color:#a6e22e\u0022\u003enext\u003c\/span\u003e({ \u003cspan style=\u0022color:#a6e22e\u0022\u003epath\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/login\u0026#39;\u003c\/span\u003e })\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003eelse\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003enext\u003c\/span\u003e();\n});\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003edefault\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003erouter\u003c\/span\u003e;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e建立名為store的目錄，並開一個叫index.js的檔案\u003c\/p\u003e\n\u003cp\u003e由mutations來設定state，而actions則用來提供components來執行mutations，getters則為一個能讓components取得state的function\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e41\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e42\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e43\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e44\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e45\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e46\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e47\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e48\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e49\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e50\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e51\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e52\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e53\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e54\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e55\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e56\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e57\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e58\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e59\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e60\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e61\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e62\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e63\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e64\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e65\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e66\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e67\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e68\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:store\/index.js\u0022 data-lang=\u0022:store\/index.js\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eVue\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;vue\u0026#39;\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eVuex\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;vuex\u0026#39;\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclient\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;@\/store\/modules\/api\u0026#39;\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecreatePersistedState\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;vuex-persistedstate\u0026#39;\u003c\/span\u003e\n\u003cspan style=\u0022color:#a6e22e\u0022\u003eVue\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003euse\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eVuex\u003c\/span\u003e)\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003edebug\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eprocess\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eenv\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eNODE_ENV\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e!==\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;production\u0026#39;\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003estate\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e {\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eisLoggedIn\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e,\n}\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emutations\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e {\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eloggedIn\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003estate\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e) {\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003estate\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eisLoggedIn\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eclient\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003edefaults\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eheaders\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ecommon\u003c\/span\u003e[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Authorization\u0026#39;\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e`JWT \u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e${\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e}\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e`\u003c\/span\u003e\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003elocalStorage\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003esetItem\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;token\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e)\n  },\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eloggedOut\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003estate\u003c\/span\u003e) {\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003estate\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eisLoggedIn\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edelete\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclient\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003edefaults\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eheaders\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ecommon\u003c\/span\u003e[\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Authorization\u0026#39;\u003c\/span\u003e]\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003elocalStorage\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eclear\u003c\/span\u003e()\n  },\n}\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eactions\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e {\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003elogin\u003c\/span\u003e ({\u003cspan style=\u0022color:#a6e22e\u0022\u003ecommit\u003c\/span\u003e}, [\u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e]) {\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclient\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eauth\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003elogin\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e).\u003cspan style=\u0022color:#a6e22e\u0022\u003ethen\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eres\u003c\/span\u003e =\u0026gt; {\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003ecommit\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;loggedIn\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eres\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e)\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eres\u003c\/span\u003e\n    })\n  },\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003elogout\u003c\/span\u003e ({\u003cspan style=\u0022color:#a6e22e\u0022\u003ecommit\u003c\/span\u003e}) {\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003ecommit\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;loggedOut\u0026#39;\u003c\/span\u003e)\n  },\n  \n  \u003cspan style=\u0022color:#a6e22e\u0022\u003etryLoggedIn\u003c\/span\u003e ({\u003cspan style=\u0022color:#a6e22e\u0022\u003ecommit\u003c\/span\u003e}) {\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elocalStorage\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003egetItem\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;token\u0026#39;\u003c\/span\u003e)\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e) {\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eclient\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eauth\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003everify\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e).\u003cspan style=\u0022color:#a6e22e\u0022\u003ethen\u003c\/span\u003e(\n        () =\u0026gt; {\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003ecommit\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;loggedIn\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e)\n        }, \n        () =\u0026gt; {\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003ecommit\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;loggedOut\u0026#39;\u003c\/span\u003e)\n        }\n      )\n    }\n  },\n}\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003egetters\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e {\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eisLoggedIn\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003estate\u003c\/span\u003e =\u0026gt; {\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e () =\u0026gt; \u003cspan style=\u0022color:#a6e22e\u0022\u003estate\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eisLoggedIn\u003c\/span\u003e\n  }\n}\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003edefault\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eVuex\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eStore\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003estrict\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003edebug\u003c\/span\u003e,\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eactions\u003c\/span\u003e,\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003egetters\u003c\/span\u003e,\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003emutations\u003c\/span\u003e,\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003estate\u003c\/span\u003e,\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003eplugins\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\u003cspan style=\u0022color:#a6e22e\u0022\u003ecreatePersistedState\u003c\/span\u003e({\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003ekey\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;example\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003estorage\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e window.\u003cspan style=\u0022color:#a6e22e\u0022\u003esessionStorage\u003c\/span\u003e\n  })]\n})\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e為了避免store太長，拆出兩個小檔案，分別是：\n建立axios object的api.js\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:store\/modules\/api.js\u0022 data-lang=\u0022:store\/modules\/api.js\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eaxios\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;axios\u0026#39;\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eauth\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;.\/auth\u0026#39;\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclient\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eaxios\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ecreate\u003c\/span\u003e({\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003ebaseURL\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;http:\/\/127.0.0.1:8000\/api\u0026#39;\u003c\/span\u003e,\n})\n\n\u003cspan style=\u0022color:#a6e22e\u0022\u003eclient\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eauth\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eauth\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eclient\u003c\/span\u003e)\n\n\u003cspan style=\u0022color:#a6e22e\u0022\u003eclient\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003einstall\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003eVue\u003c\/span\u003e) =\u0026gt; {\n  Object.\u003cspan style=\u0022color:#a6e22e\u0022\u003edefineProperty\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eVue\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eprototype\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;$request\u0026#39;\u003c\/span\u003e, {\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eget\u003c\/span\u003e () {\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclient\u003c\/span\u003e\n    },\n  })\n}\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003edefault\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclient\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e還有處理request data的auth.js\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:store\/modules\/auth.js\u0022 data-lang=\u0022:store\/modules\/auth.js\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003edefault\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003ecli\u003c\/span\u003e) =\u0026gt; {\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e {\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003elogin\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e) {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003econst\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eparams\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eURLSearchParams\u003c\/span\u003e();\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003eparams\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eappend\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;username\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e);\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003eparams\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eappend\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;password\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e);\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecli\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003epost\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/api-token-auth\/\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003eparams\u003c\/span\u003e)\n      },\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003everify\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e) {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecli\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003epost\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/api-token-verify\/\u0026#39;\u003c\/span\u003e, {\u003cspan style=\u0022color:#a6e22e\u0022\u003etoken\u003c\/span\u003e})\n      },\n    }\n  }\n  \n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e接下來是components的部分，\nLogin和Home主要是參考這裡：\u003c\/p\u003e\n\u003cp\u003e\u003ca href=\u0022https:\/\/vuetifyjs.com\/en\/getting-started\/pre-made-layouts\/\u0022\u003e\u003ca href=\u0022https:\/\/vuetifyjs.com\/en\/getting-started\/pre-made-layouts\/\u0022\u003ehttps:\/\/vuetifyjs.com\/en\/getting-started\/pre-made-layouts\/\u003c\/a\u003e\u003c\/a\u003e\u003c\/p\u003e\n\u003cp\u003e首先是最主要的Login.vue\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 39\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 40\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 41\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 42\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 43\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 44\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 45\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 46\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 47\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 48\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 49\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 50\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 51\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 52\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 53\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 54\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 55\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 56\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 57\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 58\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 59\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 60\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 61\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 62\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 63\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 64\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 65\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 66\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 67\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 68\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 69\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 70\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 71\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 72\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 73\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 74\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 75\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 76\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 77\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 78\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 79\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 80\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 81\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 82\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 83\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 84\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 85\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 86\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 87\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 88\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 89\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 90\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 91\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 92\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 93\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 94\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 95\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 96\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 97\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 98\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 99\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e100\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e101\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e102\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e103\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e104\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e105\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e106\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e107\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e108\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e109\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e110\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e111\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:components\/Login.vue\u0022 data-lang=\u0022:components\/Login.vue\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etemplate\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-app\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;login\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-main\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-container\u003c\/span\u003e\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;fill-height\u0026#34;\u003c\/span\u003e\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003efluid\u003c\/span\u003e\n      \u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-row\u003c\/span\u003e\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003ealign\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;center\u0026#34;\u003c\/span\u003e\n          \u003cspan style=\u0022color:#a6e22e\u0022\u003ejustify\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;center\u0026#34;\u003c\/span\u003e\n        \u0026gt;\n          \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-col\u003c\/span\u003e\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003ecols\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;12\u0026#34;\u003c\/span\u003e\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003esm\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;8\u0026#34;\u003c\/span\u003e\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003emd\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;4\u0026#34;\u003c\/span\u003e\n          \u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-card\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;elevation-12\u0026#34;\u003c\/span\u003e\u0026gt;\n              \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-toolbar\u003c\/span\u003e\n                \u003cspan style=\u0022color:#a6e22e\u0022\u003ecolor\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;secondary\u0026#34;\u003c\/span\u003e\n                \u003cspan style=\u0022color:#a6e22e\u0022\u003edark\u003c\/span\u003e\n                \u003cspan style=\u0022color:#a6e22e\u0022\u003eflat\u003c\/span\u003e\n              \u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-toolbar-title\u003c\/span\u003e\u0026gt;\u003cspan style=\u0022color:#a6e22e\u0022\u003eLogin\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eform\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-toolbar-title\u0026gt;\u003c\/span\u003e\n              \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-toolbar\u0026gt;\u003c\/span\u003e\n              \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-card-text\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-form\u003c\/span\u003e\u0026gt;\n                  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-text-field\u003c\/span\u003e\n                    \u003cspan style=\u0022color:#a6e22e\u0022\u003elabel\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Username\u0026#34;\u003c\/span\u003e\n                    \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;username\u0026#34;\u003c\/span\u003e\n                    \u003cspan style=\u0022color:#a6e22e\u0022\u003eprepend\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e-icon\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e=\u0026#34;\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003emdi\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e-account\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\u0026#34;\u003c\/span\u003e\n                    \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;text\u0026#34;\u003c\/span\u003e\n                    \u003cspan style=\u0022color:#f92672\u0022\u003e:rules\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e=\u0026#34;rules.usernameRules\u0026#34;\u003c\/span\u003e\n                    \u003cspan style=\u0022color:#f92672\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e=\u0026#34;username\u0026#34;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e                  \u0026gt;\u0026lt;\/v-text-field\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e                  \u0026lt;v-text-field\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e                    id=\u0026#34;password\u0026#34;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e                    label=\u0026#34;Password\u0026#34;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e                    name=\u0026#34;password\u0026#34;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e                    prepend-icon=\u0026#34;mdi-lock\u0026#34;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e                    type=\u0026#34;password\u0026#34;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e                    :rules=\u0026#34;rules.passwordRules\u0026#34;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e                    v-model=\u0026#34;password\u0026#34;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e                  \u0026gt;\u0026lt;\/v-text-field\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e                \u0026lt;\/v-form\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e              \u0026lt;\/v-card-text\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e              \u0026lt;v-card-actions\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e                \u0026lt;v-spacer\u0026gt;\u0026lt;\/v-spacer\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e                \u0026lt;v-btn color=\u0026#34;primary\u0026#34; @click=\u0026#34;submit\u0026#34; :loading=\u0026#34;loading\u0026#34; \u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:disabled\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e=\u0026#34;disabled\u0026#34;\u003c\/span\u003e\u0026gt;\u003cspan style=\u0022color:#a6e22e\u0022\u003eLogin\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\u0026lt;\/\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003ev-btn\u003c\/span\u003e\u0026gt;\n              \u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\u0026lt;\/\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e-card-actions\u003c\/span\u003e\u0026gt;\n            \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-card\u0026gt;\u003c\/span\u003e\n          \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-col\u0026gt;\u003c\/span\u003e\n        \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-row\u0026gt;\u003c\/span\u003e\n      \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-container\u0026gt;\u003c\/span\u003e\n    \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-main\u0026gt;\u003c\/span\u003e\n  \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-app\u0026gt;\u003c\/span\u003e\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etemplate\u003c\/span\u003e\u0026gt;\n\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e {\u003cspan style=\u0022color:#a6e22e\u0022\u003emapActions\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003emapGetters\u003c\/span\u003e} \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;vuex\u0026#39;\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003edefault\u003c\/span\u003e {\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Login\u0026#39;\u003c\/span\u003e,\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e () {\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e {\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003evalid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eloading\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003edisabled\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eshowPassword\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e,\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003enonFieldErrors\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [],\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003erules\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003eusernameRules\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\n         \u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e =\u0026gt; \u003cspan style=\u0022color:#f92672\u0022\u003e!!\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e||\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;username is required\u0026#39;\u003c\/span\u003e,\n        ],\n        \u003cspan style=\u0022color:#a6e22e\u0022\u003epasswordRules\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e [\n         \u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e =\u0026gt; \u003cspan style=\u0022color:#f92672\u0022\u003e!!\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003ev\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e||\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;password is required\u0026#39;\u003c\/span\u003e,\n        ],\n      }\n    }\n  },\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003ecomputed\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n    ...\u003cspan style=\u0022color:#a6e22e\u0022\u003emapGetters\u003c\/span\u003e([\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;isLoggedIn\u0026#39;\u003c\/span\u003e]),\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eUserPassField\u003c\/span\u003e() {\u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e [\u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e, \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e]}\n  },\n\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003ewatch\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eUserPassField\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e) {\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e (\u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026amp;\u0026amp;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e[\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e]) {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003edisabled\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e\n      }\n    }\n  },\n\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003emethods\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n    ...\u003cspan style=\u0022color:#a6e22e\u0022\u003emapActions\u003c\/span\u003e([\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;login\u0026#39;\u003c\/span\u003e]),\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003esubmit\u003c\/span\u003e () {\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eloading\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003etrue\u003c\/span\u003e\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003esetTimeout\u003c\/span\u003e(() =\u0026gt; {\u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eloading\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003efalse\u003c\/span\u003e}, \u003cspan style=\u0022color:#ae81ff\u0022\u003e100000\u003c\/span\u003e); \n      \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003enonFieldErrors\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e []\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003elogin\u003c\/span\u003e([\u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eusername\u003c\/span\u003e, \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003epassword\u003c\/span\u003e]).\u003cspan style=\u0022color:#a6e22e\u0022\u003ethen\u003c\/span\u003e(\n          () =\u0026gt; \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003e$router\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003epush\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/\u0026#39;\u003c\/span\u003e), \n          \u003cspan style=\u0022color:#a6e22e\u0022\u003eerr\u003c\/span\u003e =\u0026gt; {\n            \u003cspan style=\u0022color:#a6e22e\u0022\u003econsole\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003elog\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003eerr\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e)\n              \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003enonFieldErrors\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eerr\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eresponse\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003enonFieldErrors\u003c\/span\u003e\n              }\n              )\n    },\n  },\n}\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e登入後的Home.vue\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e  9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 39\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 40\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 41\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 42\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 43\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 44\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 45\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 46\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 47\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 48\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 49\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 50\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 51\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 52\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 53\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 54\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 55\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 56\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 57\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 58\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 59\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 60\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 61\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 62\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 63\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 64\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 65\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 66\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 67\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 68\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 69\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 70\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 71\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 72\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 73\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 74\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 75\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 76\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 77\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 78\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 79\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 80\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 81\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 82\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 83\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 84\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 85\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 86\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 87\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 88\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 89\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 90\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 91\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 92\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 93\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 94\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 95\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 96\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 97\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 98\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 99\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e100\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e101\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:components\/Home.vue\u0022 data-lang=\u0022:components\/Home.vue\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etemplate\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-app\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-navigation-drawer\u003c\/span\u003e\n      \u003cspan style=\u0022color:#f92672\u0022\u003ev-model\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e=\u0026#34;drawer\u0026#34;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e      app\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e      clipped\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    \u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e      \u0026lt;v-list dense\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e        \u0026lt;v-list-item link to=\u0026#34;foo\u0026#34;\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e          \u0026lt;v-list-item-action\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e            \u0026lt;v-icon\u0026gt;mdi-wrench\u0026lt;\/v-icon\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e          \u0026lt;\/v-list-item-action\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e          \u0026lt;v-list-item-content\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e            \u0026lt;v-list-item-title\u0026gt;Foo\u0026lt;\/v-list-item-title\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e          \u0026lt;\/v-list-item-content\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e        \u0026lt;\/v-list-item\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e        \u0026lt;v-list-item link to=\u0026#34;bar\u0026#34;\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e          \u0026lt;v-list-item-action\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e            \u0026lt;v-icon\u0026gt;mdi-wrench\u0026lt;\/v-icon\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e          \u0026lt;\/v-list-item-action\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e          \u0026lt;v-list-item-content\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e            \u0026lt;v-list-item-title\u0026gt;Bar\u0026lt;\/v-list-item-title\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e          \u0026lt;\/v-list-item-content\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e        \u0026lt;\/v-list-item\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e      \u0026lt;\/v-list\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    \u0026lt;\/v-navigation-drawer\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    \u0026lt;v-app-bar\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e      app\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e      clipped-left\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    \u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e      \u0026lt;v-app-bar-nav-icon @click.stop=\u0026#34;drawer = !drawer\u0026#34;\u0026gt;\u0026lt;\/v-app-bar-nav-icon\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e      \u0026lt;v-toolbar-title\u0026gt;Application\u0026lt;\/v-toolbar-title\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e      \u0026lt;v-spacer\u0026gt;\u0026lt;\/v-spacer\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e      \u0026lt;v-btn color=\u0026#34;accent\u0026#34; @click=\u0026#34;logout\u0026#34;\u0026gt;Logout\u0026lt;\/v-btn\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    \u0026lt;\/v-app-bar\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    \u0026lt;v-main\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e      \u0026lt;v-container\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e        class=\u0026#34;fill-height\u0026#34;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e        fluid\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e      \u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e        \u0026lt;router-view\u0026gt;\u0026lt;\/router-view\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e      \u0026lt;\/v-container\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    \u0026lt;\/v-main\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e    \u0026lt;v-footer app\u0026gt;\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e      \u0026lt;v-row justify=\u0026#34;center\u0026#34;\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003espan\u003c\/span\u003e\u0026gt;\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026amp;\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003ecopy\u003c\/span\u003e; {{ \u003cspan style=\u0022color:#66d9ef\u0022\u003enew\u003c\/span\u003e Date().\u003cspan style=\u0022color:#a6e22e\u0022\u003egetFullYear\u003c\/span\u003e() }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003espan\u003c\/span\u003e\u0026gt;\n      \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-row\u0026gt;\u003c\/span\u003e\n    \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-footer\u0026gt;\u003c\/span\u003e\n  \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-app\u0026gt;\u003c\/span\u003e\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etemplate\u003c\/span\u003e\u0026gt;\n\n\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eimport\u003c\/span\u003e {\u003cspan style=\u0022color:#a6e22e\u0022\u003emapGetters\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003emapActions\u003c\/span\u003e} \u003cspan style=\u0022color:#a6e22e\u0022\u003efrom\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;vuex\u0026#39;\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003edefault\u003c\/span\u003e {\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003edata\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e () =\u0026gt; ({\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003edrawer\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e,\n    }),\n\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003ecomputed\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n    ...\u003cspan style=\u0022color:#a6e22e\u0022\u003emapGetters\u003c\/span\u003e([\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;isLoggedIn\u0026#39;\u003c\/span\u003e]),\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003estate\u003c\/span\u003e() {\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eisLoggedIn\u003c\/span\u003e()\n    },\n  },\n  \n  \u003cspan style=\u0022color:#a6e22e\u0022\u003ecreated\u003c\/span\u003e() {\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etryLoggedIn\u003c\/span\u003e()\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003estartVerify\u003c\/span\u003e()\n  },\n\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003edestroyed\u003c\/span\u003e() {\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003estopVerify\u003c\/span\u003e()\n  },\n\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003ewatch\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003estate\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e) {\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e (\u003cspan style=\u0022color:#f92672\u0022\u003e!\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003evalue\u003c\/span\u003e) {\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003elogout\u003c\/span\u003e()\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003e$router\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003epush\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/login\u0026#39;\u003c\/span\u003e)\n      }\n    }\n  },\n\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003emethods\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e {\n    ...\u003cspan style=\u0022color:#a6e22e\u0022\u003emapActions\u003c\/span\u003e([\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;tryLoggedIn\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;logout\u0026#39;\u003c\/span\u003e]),\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003estartVerify\u003c\/span\u003e() {\n      \u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003everify\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003esetInterval\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etryLoggedIn\u003c\/span\u003e, \u003cspan style=\u0022color:#ae81ff\u0022\u003e1000\u003c\/span\u003e)\n    },\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003estopVerify\u003c\/span\u003e() {\n      \u003cspan style=\u0022color:#a6e22e\u0022\u003eclearInterval\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003ethis\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003everify\u003c\/span\u003e)\n    },\n  },\n}\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003estyle\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003estyle\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e再來是demo nested route，大同小異的Foo\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:components\/Foo.vue\u0022 data-lang=\u0022:components\/Foo.vue\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etemplate\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-card\u003c\/span\u003e\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;mx-auto\u0026#34;\u003c\/span\u003e\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003emax\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e-width\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e=\u0026#34;\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003e344\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\u0026#34;\u003c\/span\u003e\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eoutlined\u003c\/span\u003e\n  \u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-list-item\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ethree\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e-line\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-list-item-content\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-list-item-title\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;headline mb-1\u0026#34;\u003c\/span\u003e\u0026gt;\u003cspan style=\u0022color:#a6e22e\u0022\u003eFoo\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-list-item-title\u0026gt;\u003c\/span\u003e\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-list-item-subtitle\u003c\/span\u003e\u0026gt;\u003cspan style=\u0022color:#a6e22e\u0022\u003eThis\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eis\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eFoo\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-list-item-subtitle\u0026gt;\u003c\/span\u003e\n      \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-list-item-content\u0026gt;  \u003c\/span\u003e\n    \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-list-item\u0026gt;  \u003c\/span\u003e\n  \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-card\u0026gt;\u003c\/span\u003e\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etemplate\u003c\/span\u003e\u0026gt;\n\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003edefault\u003c\/span\u003e {\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Foo\u0026#39;\u003c\/span\u003e,\n}\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003escript\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e還有Bar\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:components\/Bar.vue\u0022 data-lang=\u0022:components\/Bar.vue\u0022\u003e\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etemplate\u003c\/span\u003e\u0026gt;\n  \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-card\u003c\/span\u003e\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;mx-auto\u0026#34;\u003c\/span\u003e\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003emax\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e-width\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e=\u0026#34;\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003e344\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\u0026#34;\u003c\/span\u003e\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003eoutlined\u003c\/span\u003e\n  \u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-list-item\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ethree\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e-line\u003c\/span\u003e\u0026gt;\n      \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-list-item-content\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-list-item-title\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;headline mb-1\u0026#34;\u003c\/span\u003e\u0026gt;\u003cspan style=\u0022color:#a6e22e\u0022\u003eBar\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-list-item-title\u0026gt;\u003c\/span\u003e\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ev-list-item-subtitle\u003c\/span\u003e\u0026gt;\u003cspan style=\u0022color:#a6e22e\u0022\u003eThis\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eis\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eBar\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-list-item-subtitle\u0026gt;\u003c\/span\u003e\n      \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-list-item-content\u0026gt;  \u003c\/span\u003e\n    \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-list-item\u0026gt;  \u003c\/span\u003e\n  \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\/v-card\u0026gt;\u003c\/span\u003e\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etemplate\u003c\/span\u003e\u0026gt;\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eexport\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003edefault\u003c\/span\u003e {\n  \u003cspan style=\u0022color:#a6e22e\u0022\u003ename\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Bar\u0026#39;\u003c\/span\u003e,\n}\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e完成就可以run看看了，細部介紹後補\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ npm run serve\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cimg style=\u0022display:inline;\u0022 width=\u0022180\u0022 src=\u00222.png\u0022\u003e\r\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022180\u0022 src=\u00223.png\u0022\u003e\r\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022180\u0022 src=\u00224.png\u0022\u003e\r\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022180\u0022 src=\u00225.png\u0022\u003e',
    
    
      date: '2020-07-26',
    
    
      tags: '[JavaScript Node.js Vue.js]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007241554\/',
    
      title: '【2020\/07\/25解決】在EVE-NG上部屬vEOS LAB',
    
    
      summary: '\u003cp\u003e第一篇挫折問題紀錄，各種鬼打牆…\n原本想在EVE-NG上做個簡單的LAB，沒想到問題還真不少…\u003c\/p\u003e',
      content: '\u003cp\u003e第一篇挫折問題紀錄，各種鬼打牆…\n原本想在EVE-NG上做個簡單的LAB，沒想到問題還真不少…\u003c\/p\u003e\n\u003cp\u003e首先使用的是官網下載的EVE Community Edition 2.0.3-110\u003c\/p\u003e\n\u003cp\u003evEOS則是網路上撿來，並且已經按照\u003ca href=\u0022https:\/\/www.eve-ng.net\/index.php\/documentation\/howtos\/howto-add-arista-veos\/\u0022\u003e這裡\u003c\/a\u003e的方法轉換成qcow2的image，才剛試就馬上就卡住了…\u003c\/p\u003e\n\u003cp\u003econsole卡在以下畫面\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003eAboot 2.1.0-2121970\n\n\nPress Control-C now to enter Aboot shell\nBooting flash:\/vEOS-lab.swi\n[    9.072566] Starting new kernel\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e看起來Aboot正常，但是到了kernel開機就卡住\u003c\/p\u003e\n\u003cp\u003e後來發現EVE上有output呢？\n\u003cimg src=\u00221.png\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e看起來就是虛擬化失敗，但總覺得哪裡有點古怪，先去看log\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003eroot@eve-ng:~# tail \/var\/log\/syslog \nJul 24 22:07:52 eve-ng systemd-udevd[5789]: Could not generate persistent MAC address for vunl0_1_1: No such file or directory\nJul 24 22:07:52 eve-ng systemd-udevd[5880]: Could not generate persistent MAC address for vunl0_1_2: No such file or directory\nJul 24 22:07:52 eve-ng systemd-udevd[5752]: Could not generate persistent MAC address for vunl0_1_3: No such file or directory\nJul 24 22:07:52 eve-ng systemd-udevd[5789]: Could not generate persistent MAC address for vunl0_1_4: No such file or directory\nJul 24 22:07:52 eve-ng systemd-udevd[5888]: Could not generate persistent MAC address for vunl0_1_5: No such file or directory\nJul 24 22:07:52 eve-ng systemd-udevd[6098]: Could not generate persistent MAC address for vunl0_1_6: No such file or directory\nJul 24 22:07:52 eve-ng systemd-udevd[5880]: Could not generate persistent MAC address for vunl0_1_7: No such file or directory\nJul 24 22:07:52 eve-ng systemd-udevd[5752]: Could not generate persistent MAC address for vunl0_1_8: No such file or directory\nJul 24 22:08:02 eve-ng kernel: [  686.996310] kvm [6431]: vcpu0, guest rIP: 0xffffffff81686dc8 disabled perfctr wrmsr: 0xc1 data 0xabcd\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cstrong\u003e全掛…\u003c\/strong\u003e\u003c\/p\u003e\n\u003cp\u003e而且報錯的是kernel，這就沒那麼好解決了…\u003c\/p\u003e\n\u003cp\u003e無奈之下，只好跟朋友要了舊版2.0.3-92\u003c\/p\u003e\n\u003cp\u003e一開機\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003eBooting flash:\/vEOS-lab.swi\n[    6.428401] Starting new kernel\nSwitching rootfs\n\nWelcome to Arista Networks EOS 4.15.5M\nMounting filesystems:  [  OK  ]\nStarting udev: [  OK  ]\nSetting hostname localhost:  [  OK  ]\nEntering non-interactive startup\nStarting TimeAgent: Cannot find immortalize pid [FAILED]\nStarting ProcMgr: [  OK  ]\nStarting EOS initialization stage 1: [   11.005777] NMI watchdog: failed to be enabled on some cpus\n[  OK  ]\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cstrong\u003e蛤？可以用？？\u003c\/strong\u003e\u003c\/p\u003e\n\u003cp\u003e搞到頭都疼了，比較一下kernel的版本\n這次嘗試不能用的2.0.3-110\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003eroot@eve-ng:~# uname -r\n4.20.17-eve-ng-ukms\u002b\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e意外可以用的2.0.3-92\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003eroot@eve-ng:~# uname -r\n4.9.40-eve-ng-ukms-2\u002b\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e兩者究竟差在哪呢？\u003c\/p\u003e\n\u003cp\u003e\u0026mdash;\u0026mdash;\u0026mdash;2020\/07\/25補\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u003c\/p\u003e\n\u003cp\u003e不甘心又查了一次，這次從虛擬化開始找起，首先是QEMU的版本\u003c\/p\u003e\n\u003cp\u003e能用的\u003c\/p\u003e\n\u003cp\u003e\u003cimg src=\u0022old.PNG\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e不能用的\u003c\/p\u003e\n\u003cp\u003e\u003cimg src=\u0022new.PNG\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e\u003cstrong\u003e看來QEMU版本不一樣呢…\u003c\/strong\u003e\n　　\n那就來試試看相同的版本，首先確定版本號\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003eroot@eve-ng:~# \/opt\/qemu-2.4.0\/bin\/qemu-system-x86_64 --version\n\n(process:18019): GLib-WARNING **: \/build\/glib2.0-xkQkqE\/glib2.0-2.48.2\/.\/glib\/gmem.c:483: custom memory allocation vtable not supported\nQEMU emulator version 2.4.0, Copyright (c) 2003-2008 Fabrice Bellard\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e使用ps -aux來找出失敗的command\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003eroot@eve-ng:~# ps -aux | grep qemu\nroot      5296 81.5  3.5 2958708 289036 ?      Sl   11:58   0:21 \/opt\/qemu-4.1.0\/bin\/qemu-system-x86_64 -nographic -device e1000,netdev=net0,mac=50:00:00:01:00:00 -netdev tap,id=net0,ifname=vunl0_1_0,script=no -device e1000,netdev=net1,mac=50:00:00:01:00:01 -netdev tap,id=net1,ifname=vunl0_1_1,script=no -device e1000,netdev=net2,mac=50:00:00:01:00:02 -netdev tap,id=net2,ifname=vunl0_1_2,script=no -device e1000,netdev=net3,mac=50:00:00:01:00:03 -netdev tap,id=net3,ifname=vunl0_1_3,script=no -device e1000,netdev=net4,mac=50:00:00:01:00:04 -netdev tap,id=net4,ifname=vunl0_1_4,script=no -device e1000,netdev=net5,mac=50:00:00:01:00:05 -netdev tap,id=net5,ifname=vunl0_1_5,script=no -device e1000,netdev=net6,mac=50:00:00:01:00:06 -netdev tap,id=net6,ifname=vunl0_1_6,script=no -device e1000,netdev=net7,mac=50:00:00:01:00:07 -netdev tap,id=net7,ifname=vunl0_1_7,script=no -device e1000,netdev=net8,mac=50:00:00:01:00:08 -netdev tap,id=net8,ifname=vunl0_1_8,script=no -smp 1 -m 2048 -name vEOS -uuid 3308871b-8b59-4bc5-ae4e-4f2a5d478676 -cdrom \/opt\/unetlab\/addons\/qemu\/veos-4.15.0F\/cdrom.iso -hda hda.qcow2 -machine type=pc,accel=kvm -serial mon:stdio -nographic -display none -no-user-config -rtc base=utc -boot order=d\nroot      5425  0.0  0.0  16576  2072 pts\/0    R\u002b   11:59   0:00 grep --color=auto qemu\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cstrong\u003e有點雜亂…\u003c\/strong\u003e\u003c\/p\u003e\n\u003cp\u003e稍微整理一下後，只留下一個interface，且版本改為2.4，所以定版的指令就用這個\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003eroot@eve-ng:~# \/opt\/qemu-2.4.0\/bin\/qemu-system-x86_64 -nographic -device e1000,netdev=net0,mac=50:00:00:01:00:00 -netdev tap,id=net0,ifname=vunl0_1_0,script=no -smp 1 -m 2048 -name vEOS -uuid 3308871b-8b59-4bc5-ae4e-4f2a5d478676 -cdrom \/opt\/unetlab\/addons\/qemu\/veos-4.15.0F\/cdrom.iso -hda \/opt\/unetlab\/addons\/qemu\/veos-4.15.0F\/hda.qcow2 -machine type=pc,accel=kvm -serial mon:stdio -nographic -display none -no-user-config -rtc base=utc -boot order=d\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cstrong\u003e還是失敗\u003c\/strong\u003e\u003c\/p\u003e\n\u003cp\u003e所以並不是QEMU版本的問題，那麼就只好從option著手了\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003eroot@eve-ng:\/opt\/unetlab\/addons\/qemu\/veos-4.15.0F# \/opt\/qemu-4.1.0\/bin\/qemu-system-x86_64 -nographic -cdrom cdrom.iso -boot d -hda hda.qcow2 -m 1024\n\u003c\/code\u003e\u003c\/pre\u003e\u003cpre\u003e\u003ccode\u003eAboot 2.1.0-2121970\n\n\nPress Control-C now to enter Aboot shell\nBooting flash:\/vEOS-lab.swi\n[    6.089384] Starting new kernel\nSwitching rootfs\n\nWelcome to Arista Networks EOS 4.15.5M\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003cstrong\u003e成功開機了\u003c\/strong\u003e\u003c\/p\u003e\n\u003cp\u003e所以是option的問題，在經過數次比對後，發現是-machine這個option有問題…\u003c\/p\u003e\n\u003cp\u003e-machine type=pc,accel=kvm是行不通的，但是拿掉accel這個porp就可以成功開機，像是以下範例：\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003eroot@eve-ng:~# \/opt\/qemu-4.1.0\/bin\/qemu-system-x86_64 -nographic -device e1000,netdev=net0,mac=50:00:00:01:00:00 -netdev tap,id=net0,ifname=vunl0_1_0,script=no -smp 1 -m 2048 -name vEOS -uuid 3308871b-8b59-4bc5-ae4e-4f2a5d478676 -cdrom \/opt\/unetlab\/addons\/qemu\/veos-4.15.0F\/cdrom.iso -hda \/opt\/unetlab\/addons\/qemu\/veos-4.15.0F\/hda.qcow2 -machine type=pc -serial mon:stdio -nographic -display none -no-user-config -rtc base=utc -boot order=d\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e問題是這樣運行速度感覺特別慢…\n\u0026mdash;\u0026mdash;\u0026mdash;2020\/07\/26補\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\n越想越不甘心，回頭看了下能用的2.0.3-92，\u003cstrong\u003e意外發現option的template長不一樣！\u003c\/strong\u003e\u003c\/p\u003e\n\u003cp\u003e2.0.3-92\u003c\/p\u003e\n\u003cp\u003e\u003cimg src=\u0022old1.PNG\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e2.0.3-110\u003c\/p\u003e\n\u003cp\u003e\u003cimg src=\u0022new1.PNG\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e\u003cstrong\u003e看來在type=pc的情況下，加上accel這個prop會讓vEOS啟動失敗…\u003c\/strong\u003e\u003c\/p\u003e\n\u003cp\u003e測試之後，以下的指令是可以用的\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003eroot@eve-ng:~# \/opt\/qemu-4.1.0\/bin\/qemu-system-x86_64 -nographic \\\n-device e1000,netdev=net0,mac=50:00:00:01:00:00 \\\n-netdev tap,id=net0,ifname=vunl0_1_0,script=no \\\n-smp 1 -m 2048 -name vEOS -uuid 3308871b-8b59-4bc5-ae4e-4f2a5d478676 \\\n-cdrom \/opt\/unetlab\/addons\/qemu\/veos-4.15.0F\/cdrom.iso \\\n-hda \/opt\/unetlab\/addons\/qemu\/veos-4.15.0F\/hda.qcow2 \\\n-machine type=pc-1.0,accel=kvm -serial mon:stdio -nographic -display none -no-user-config -rtc base=utc -boot order=d\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e所以不需要卡卡了，之後再換個vEOS的版本試試看\u003c\/p\u003e',
    
    
      date: '2020-07-24',
    
    
      tags: '[EVE-NG]',
    
    
      categories: '[問題紀錄]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007221111\/',
    
      title: '使用Django \u002b Celery進行異步處理',
    
    
      summary: '\u003cp\u003e本篇旨在project中增加異步執行的功能，增進使用者體驗，避免東西沒跑完response等了老半天等不到的窘境，\n目前只提供簡單的範例，不包含異步任務的情境應用\u003c\/p\u003e',
      content: '\u003cp\u003e本篇旨在project中增加異步執行的功能，增進使用者體驗，避免東西沒跑完response等了老半天等不到的窘境，\n目前只提供簡單的範例，不包含異步任務的情境應用\u003c\/p\u003e\n\u003cp\u003esource code一樣放在github\n\u003ca href=\u0022https:\/\/github.com\/mikanbearer\/django_celery_example\u0022\u003ehttps:\/\/github.com\/mikanbearer\/django_celery_example\u003c\/a\u003e\n這次需要這幾個包\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003epip install django celery django-celery-results\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e目前環境如下\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ python --version\r\nPython 3.6.8\r\n\r\n$ pip list\r\n...\r\ncelery                  4.4.1\r\nDjango                  3.0\r\ndjango-celery-results   1.2.1\r\n...\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e首先在settings中加上celery及django_celery_results需要的設定\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e41\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:django_celery_example\/settings.py\u0022 data-lang=\u0022:django_celery_example\/settings.py\u0022\u003eINSTALLED_APPS \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.admin\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.auth\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.contenttypes\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.sessions\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.messages\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.staticfiles\u0026#39;\u003c\/span\u003e,\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django_celery_results\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e]\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e網路上的資料多半是redis，那這次個人就用amqp，部屬就不贅述\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e124\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e125\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e126\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e127\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e128\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:django_celery_example\/settings.py\u0022 data-lang=\u0022:django_celery_example\/settings.py\u0022\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003eCELERY_BROKER_URL \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;amqp:\/\/guest:guest@127.0.0.1\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003eCELERY_RESULT_BACKEND \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django-db\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003eCELERY_CACHE_BACKEND \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django-cache\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e建立table\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ python manage.py migrate\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e\u003ca href=\u0022https:\/\/docs.celeryproject.org\/en\/stable\/django\/first-steps-with-django.html\u0022\u003e\u003ca href=\u0022https:\/\/docs.celeryproject.org\/en\/stable\/django\/first-steps-with-django.html\u0022\u003ehttps:\/\/docs.celeryproject.org\/en\/stable\/django\/first-steps-with-django.html\u003c\/a\u003e\u003c\/a\u003e\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:django_celery_example\/celery.py\u0022 data-lang=\u0022:django_celery_example\/celery.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e __future__ \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e absolute_import, unicode_literals\n\n\u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e os\n\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e celery \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e Celery\n\n\u003cspan style=\u0022color:#75715e\u0022\u003e# set the default Django settings module for the \u0026#39;celery\u0026#39; program.\u003c\/span\u003e\nos\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eenviron\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esetdefault(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;DJANGO_SETTINGS_MODULE\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django_celery_example.settings\u0026#39;\u003c\/span\u003e)\n\napp \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Celery(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django_celery_example\u0026#39;\u003c\/span\u003e)\n\n\u003cspan style=\u0022color:#75715e\u0022\u003e# Using a string here means the worker doesn\u0026#39;t have to serialize\u003c\/span\u003e\n\u003cspan style=\u0022color:#75715e\u0022\u003e# the configuration object to child processes.\u003c\/span\u003e\n\u003cspan style=\u0022color:#75715e\u0022\u003e# - namespace=\u0026#39;CELERY\u0026#39; means all celery-related configuration keys\u003c\/span\u003e\n\u003cspan style=\u0022color:#75715e\u0022\u003e#   should have a `CELERY_` prefix.\u003c\/span\u003e\napp\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003econfig_from_object(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.conf:settings\u0026#39;\u003c\/span\u003e, namespace\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;CELERY\u0026#39;\u003c\/span\u003e)\n\n\u003cspan style=\u0022color:#75715e\u0022\u003e# Load task modules from all registered Django app configs.\u003c\/span\u003e\napp\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eautodiscover_tasks()\n\n\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@app.task\u003c\/span\u003e(bind\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003edebug_task\u003c\/span\u003e(self):\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eprint\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;Request: {0!r}\u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eformat(self\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003erequest))\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cpre\u003e\u003ccode\u003ecelery -A django_celery_example worker --pool=solo -l info\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e可以用django shell測試\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ python manage.py shell\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e可以用sync的方式直接執行django_celery_example\/celery.py當初裡面的debug_task\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026gt;\u0026gt;\u0026gt; from django_celery_example.celery import debug_task\r\n\u0026gt;\u0026gt;\u0026gt; debug_task()\r\nRequest: \u0026lt;Context: {\u0027args\u0027: (), \u0027kwargs\u0027: {}}\u0026gt;\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e也可以使用async方式執行，只要使用delay這個method，並使用TaskResult這個model來看結果\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026gt;\u0026gt;\u0026gt; debug_task.delay()\r\n\u0026lt;AsyncResult: d988824b-5613-4f2d-8034-e3eb69a43fd7\u0026gt;\r\n\u0026gt;\u0026gt;\u0026gt; from django_celery_results.models import TaskResult\r\n\u0026gt;\u0026gt;\u0026gt; TaskResults.objects.all()\r\n\u0026lt;QuerySet [\u0026lt;TaskResult: \u0026lt;Task: d988824b-5613-4f2d-8034-e3eb69a43fd7 (SUCCESS)\u0026gt;\u0026gt;]\u0026gt;\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e而celery的stdout也會有相應的info\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e[2020-07-22 14:12:01,565: INFO\/MainProcess] Received task: django_celery_example.celery.debug_task[d988824b-5613-4f2d-8034-e3eb69a43fd7]\r\n[2020-07-22 14:12:01,566: WARNING\/MainProcess] Request: \u0026lt;Context: {\u0027lang\u0027: \u0027py\u0027, \u0027task\u0027: \u0027django_celery_example.celery.debug_task\u0027, \u0027id\u0027: \u0027d988824b-5613-4f2d-8034-e3eb69a43fd7\u0027, \u0027shadow\u0027: None, \u0027eta\u0027: None, \u0027ex\r\npires\u0027: None, \u0027group\u0027: None, \u0027retries\u0027: 0, \u0027timelimit\u0027: [None, None], \u0027root_id\u0027: \u0027d988824b-5613-4f2d-8034-e3eb69a43fd7\u0027, \u0027parent_id\u0027: None, \u0027argsrepr\u0027: \u0027()\u0027, \u0027kwargsrepr\u0027: \u0027{}\u0027, \u0027origin\u0027: \u0027gen10892@ABRACADABRA\u0027\r\n, \u0027reply_to\u0027: \u002757a2696a-9b60-32f2-8cbc-66ec2fb60cea\u0027, \u0027correlation_id\u0027: \u0027d988824b-5613-4f2d-8034-e3eb69a43fd7\u0027, \u0027hostname\u0027: \u0027celery@ABRACADABRA\u0027, \u0027delivery_info\u0027: {\u0027exchange\u0027: \u0027\u0027, \u0027routing_key\u0027: \u0027celery\u0027, \u0027prio\r\nrity\u0027: 0, \u0027redelivered\u0027: False}, \u0027args\u0027: [], \u0027kwargs\u0027: {}, \u0027is_eager\u0027: False, \u0027callbacks\u0027: None, \u0027errbacks\u0027: None, \u0027chain\u0027: None, \u0027chord\u0027: None, \u0027called_directly\u0027: False, \u0027_protected\u0027: 1}\u0026gt;\r\n[2020-07-22 14:12:01,587: INFO\/MainProcess] Task django_celery_example.celery.debug_task[d988824b-5613-4f2d-8034-e3eb69a43fd7] succeeded in 0.01599999999962165s: None\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e這樣就能確定我們的task queue在正常運作了\u003c\/p\u003e\n\u003cp\u003e接下來要在自己的app內登錄task，首先建立app\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ python manage.py startapp demoapp\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e加進settings.py\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e41\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e42\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:django_celery_example\/settings.py\u0022 data-lang=\u0022:django_celery_example\/settings.py\u0022\u003eINSTALLED_APPS \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.admin\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.auth\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.contenttypes\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.sessions\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.messages\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.staticfiles\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django_celery_results\u0026#39;\u003c\/span\u003e,\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;demoapp\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e]\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e一樣在celery.py加上剛才建立的app\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:django_celery_example\/celery.py\u0022 data-lang=\u0022:django_celery_example\/celery.py\u0022\u003eapp\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003econfig_from_object(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.conf:settings\u0026#39;\u003c\/span\u003e, namespace\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;CELERY\u0026#39;\u003c\/span\u003e)\n\n\u003cspan style=\u0022color:#75715e\u0022\u003e# Load task modules from all registered Django app configs.\u003c\/span\u003e\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003eapp\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eautodiscover_tasks([\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;demoapp\u0026#39;\u003c\/span\u003e])\n\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e在__init__.py增加以下內容，這樣才會讀取加上@shared_task這個decotator的task\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e1\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e2\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e3\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e4\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e5\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e6\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e7\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:django_celery_example\/__init__.py\u0022 data-lang=\u0022:django_celery_example\/__init__.py\u0022\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e __future__ \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e absolute_import, unicode_literals\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e# This will make sure the app is always imported when\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e# Django starts so that shared_task will use this app.\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e .celery \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e app \u003cspan style=\u0022color:#66d9ef\u0022\u003eas\u003c\/span\u003e celery_app\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e__all__ \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e (\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;celery_app\u0026#39;\u003c\/span\u003e,)\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e接下來建立task，先偷懶不使用model\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:demoapp\/tasks.py\u0022 data-lang=\u0022:demoapp\/tasks.py\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e# Create your tasks here\u003c\/span\u003e\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e __future__ \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e absolute_import, unicode_literals\n\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e celery \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e shared_task\n\n\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@shared_task\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eadd\u003c\/span\u003e(x, y):\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e x \u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e y\n\n\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@shared_task\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emul\u003c\/span\u003e(x, y):\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e x \u003cspan style=\u0022color:#f92672\u0022\u003e*\u003c\/span\u003e y\n\n\n\u003cspan style=\u0022color:#a6e22e\u0022\u003e@shared_task\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003exsum\u003c\/span\u003e(numbers):\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e sum(numbers)\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e再啟動celery，就會發現多出不同的東西了\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ celery -A django_celery_example worker --pool=solo -l info\r\n...\r\n[tasks]\r\n  . demoapp.tasks.add\r\n  . demoapp.tasks.mul\r\n  . demoapp.tasks.xsum\r\n  . django_celery_example.celery.debug_task\r\n\r\n...\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e剛才的task已經進來了，接下來就能用shell測試\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026gt;\u0026gt;\u0026gt; from demoapp import tasks\r\n\u0026gt;\u0026gt;\u0026gt; tasks.add.delay(1, 1)\r\n\u0026lt;AsyncResult: 9729c417-9fb1-4868-a884-eeeea4faa125\u0026gt;\r\n\u0026gt;\u0026gt;\u0026gt; tasks.mul.delay(9, 9)\r\n\u0026lt;AsyncResult: 1ac747d8-bff1-46ef-8b0b-0efdeb1f925c\u0026gt;\r\n\u0026gt;\u0026gt;\u0026gt; from django_celery_results.models import TaskResult\r\n\u0026gt;\u0026gt;\u0026gt; TaskResult.objects.all()\r\n\u0026lt;QuerySet [\u0026lt;TaskResult: \u0026lt;Task: 1ac747d8-bff1-46ef-8b0b-0efdeb1f925c (SUCCESS)\u0026gt;\u0026gt;, \u0026lt;TaskResult: \u0026lt;Task: 9729c417-9fb1-4868-a884-eeeea4faa125 (SUCCESS)\u0026gt;\u0026gt;]\u0026gt;\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e也能很簡單的取出結果\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026gt;\u0026gt;\u0026gt; TaskResult.objects.get(task_id=\u00271ac747d8-bff1-46ef-8b0b-0efdeb1f925c\u0027).result\r\n\u002781\u0027\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e完\u003c\/p\u003e',
    
    
      date: '2020-07-22',
    
    
      tags: '[Celery Django Python RabbitMQ]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007211516\/',
    
      title: '用VBA在Excel中使用nslookup',
    
    
      summary: '\u003cp\u003e工作中常常用到的功能，不筆記會忘記，\n主要是在Excel Macro調用Wshshell，把A欄的結果輸出到B欄\u003c\/p\u003e',
      content: '\u003cp\u003e工作中常常用到的功能，不筆記會忘記，\n主要是在Excel Macro調用Wshshell，把A欄的結果輸出到B欄\u003c\/p\u003e\n\u003cp\u003enslookup範例\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-vb\u0022 data-lang=\u0022vb\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eSub\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003enslookup\u003c\/span\u003e()\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eDim\u003c\/span\u003e WshShell, wExec, cmd, rRes, i, j\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eDim\u003c\/span\u003e sBuf() \u003cspan style=\u0022color:#f92672\u0022\u003eAs\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eString\u003c\/span\u003e\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eSet\u003c\/span\u003e WshShell \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e CreateObject(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;WScript.Shell\u0026#34;\u003c\/span\u003e)\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eFor\u003c\/span\u003e i \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e 1 \u003cspan style=\u0022color:#66d9ef\u0022\u003eTo\u003c\/span\u003e 3\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eSet\u003c\/span\u003e wExec \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e WshShell.exec(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;nslookup \u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026amp;\u003c\/span\u003e Cells(i, 1))\n\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eDo\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eWhile\u003c\/span\u003e wExec.Status \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e 0\n            DoEvents\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eLoop\u003c\/span\u003e\n        rRes \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e wExec.StdOut.ReadAll\n        sBuf \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Split(rRes, vbCrLf)\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eFor\u003c\/span\u003e j \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e 0 \u003cspan style=\u0022color:#66d9ef\u0022\u003eTo\u003c\/span\u003e UBound(sBuf)\n            \u003cspan style=\u0022color:#66d9ef\u0022\u003eIf\u003c\/span\u003e Left(sBuf(j), 5) \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Name:\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003eOr\u003c\/span\u003e Left(sBuf(j), 3) \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;名稱:\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eThen\u003c\/span\u003e\n                Cells(i, 2) \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Trim(Right(sBuf(j), Len(sBuf(j)) \u003cspan style=\u0022color:#f92672\u0022\u003e-\u003c\/span\u003e 5))\n            \u003cspan style=\u0022color:#66d9ef\u0022\u003eEnd\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eIf\u003c\/span\u003e\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eNext\u003c\/span\u003e j\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eNext\u003c\/span\u003e i\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eEnd\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eSub\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003eping的範例\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-vb\u0022 data-lang=\u0022vb\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eSub\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eping\u003c\/span\u003e()\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eDim\u003c\/span\u003e WshShell, wExec, cmd, rRes, i, j\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eDim\u003c\/span\u003e sBuf() \u003cspan style=\u0022color:#f92672\u0022\u003eAs\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eString\u003c\/span\u003e\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eSet\u003c\/span\u003e WshShell \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e CreateObject(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;WScript.Shell\u0026#34;\u003c\/span\u003e)\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eFor\u003c\/span\u003e i \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e 1 \u003cspan style=\u0022color:#66d9ef\u0022\u003eTo\u003c\/span\u003e 3\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eSet\u003c\/span\u003e wExec \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e WshShell.exec(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;ping \u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026amp;\u003c\/span\u003e Cells(i, 1))\n\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eDo\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eWhile\u003c\/span\u003e wExec.Status \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e 0\n            DoEvents\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eLoop\u003c\/span\u003e\n        rRes \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e wExec.StdOut.ReadAll\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eIf\u003c\/span\u003e InStr(rRes, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;TTL\u0026#34;\u003c\/span\u003e) \u003cspan style=\u0022color:#66d9ef\u0022\u003eThen\u003c\/span\u003e\n            Cells(i, 2) \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e 1\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eElse\u003c\/span\u003e\n            Cells(i, 2) \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e 0\n        \u003cspan style=\u0022color:#66d9ef\u0022\u003eEnd\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eIf\u003c\/span\u003e\n        \n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eNext\u003c\/span\u003e i\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eEnd\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eSub\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e',
    
    
      date: '2020-07-21',
    
    
      tags: '[Excel VBA]',
    
    
      categories: '[小技巧]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007201501\/',
    
      title: '【Django API實作-入門篇2】在Django REST framework上導入JWT驗證',
    
    
      summary: '\u003cp\u003e承之前的範例，這次要用JSON Web Token驗證，並加上Cross-Origin Resource Sharing\u003c\/p\u003e',
      content: '\u003cp\u003e承之前的範例，這次要用JSON Web Token驗證，並加上Cross-Origin Resource Sharing\u003c\/p\u003e\n\u003cp\u003ecode放在一樣放在GitHub上\n\u003ca href=\u0022https:\/\/github.com\/mikanbearer\/django_rest_example\u0022\u003e\u003ca href=\u0022https:\/\/github.com\/mikanbearer\/django_rest_example\u0022\u003ehttps:\/\/github.com\/mikanbearer\/django_rest_example\u003c\/a\u003e\u003c\/a\u003e\u003c\/p\u003e\n\u003cp\u003e環境大概是以下這樣\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ python --version\r\nPython 3.8.4\r\n$ pip list\r\n...\r\nDjango                  3.0\r\ndjango-cors-headers     3.2.1\r\ndjangorestframework     3.11.0\r\ndjangorestframework-jwt 1.11.0\r\n\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e修改settings.py\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e41\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e42\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e43\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:django_rest_example\/settings.py\u0022 data-lang=\u0022:django_rest_example\/settings.py\u0022\u003eINSTALLED_APPS \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.admin\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.auth\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.contenttypes\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.sessions\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.messages\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.staticfiles\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;rest_framework\u0026#39;\u003c\/span\u003e,\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;corsheaders\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#75715e\u0022\u003e# 追加\u003c\/span\u003e\n\u003c\/span\u003e    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;api\u0026#39;\u003c\/span\u003e,\n]\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003eMiddleware\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e45\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e46\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e47\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e48\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e49\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e50\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e51\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e52\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e53\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e54\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:django_rest_example\/settings.py\u0022 data-lang=\u0022:django_rest_example\/settings.py\u0022\u003eMIDDLEWARE \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.middleware.security.SecurityMiddleware\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.sessions.middleware.SessionMiddleware\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.middleware.common.CommonMiddleware\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.middleware.csrf.CsrfViewMiddleware\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.auth.middleware.AuthenticationMiddleware\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.messages.middleware.MessageMiddleware\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.middleware.clickjacking.XFrameOptionsMiddleware\u0026#39;\u003c\/span\u003e,\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;corsheaders.middleware.CorsMiddleware\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e]\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e白名單\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e133\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e134\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e135\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e136\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:django_rest_example\/settings.py\u0022 data-lang=\u0022:django_rest_example\/settings.py\u0022\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003eCORS_ORIGIN_WHITELIST \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;http:\/\/localhost:8080\u0026#34;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;http:\/\/127.0.0.1:9000\u0026#34;\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e]\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003eJWT設定\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e127\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e128\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e129\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e130\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e131\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e132\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e133\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e134\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e135\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e136\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e137\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e138\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:django_rest_example\/settings.py\u0022 data-lang=\u0022:django_rest_example\/settings.py\u0022\u003eREST_FRAMEWORK \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e {\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;DEFAULT_PAGINATION_CLASS\u0026#39;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;rest_framework.pagination.PageNumberPagination\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;PAGE_SIZE\u0026#39;\u003c\/span\u003e: \u003cspan style=\u0022color:#ae81ff\u0022\u003e10\u003c\/span\u003e,\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;DEFAULT_PERMISSION_CLASSES\u0026#39;\u003c\/span\u003e: (\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;rest_framework.permissions.IsAuthenticated\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    ),\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;DEFAULT_AUTHENTICATION_CLASSES\u0026#39;\u003c\/span\u003e: (\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;rest_framework_jwt.authentication.JSONWebTokenAuthentication\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;rest_framework.authentication.SessionAuthentication\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;rest_framework.authentication.BasicAuthentication\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    ),\n\u003c\/span\u003e}\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e追加以下\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:api\/urls.py\u0022 data-lang=\u0022:api\/urls.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.urls \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e include, path\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e rest_framework \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e routers\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e rest_framework_jwt.views \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e obtain_jwt_token, verify_jwt_token\n\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e .views \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e LinkmanViewSet\n\nrouter \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e routers\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eDefaultRouter()\nrouter\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eregister(\u003cspan style=\u0022color:#e6db74\u0022\u003er\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;linkman\u0026#39;\u003c\/span\u003e, LinkmanViewSet)\n\nurlpatterns \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e, include(router\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eurls)),\n    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;api-auth\/\u0026#39;\u003c\/span\u003e, include(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;rest_framework.urls\u0026#39;\u003c\/span\u003e)),\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;api-token-auth\/\u0026#39;\u003c\/span\u003e, obtain_jwt_token),\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;api-token-verify\/\u0026#39;\u003c\/span\u003e, verify_jwt_token),\n\u003c\/span\u003e]\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e使用JWT驗證\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl http:\/\/127.0.0.1:8000\/api\/\r\n{\u0026quot;detail\u0026quot;:\u0026quot;Authentication credentials were not provided.\u0026quot;}\r\n\r\n$ curl http:\/\/127.0.0.1:8000\/api\/api-token-auth\/ -X POST -d \u0026quot;username=admin\u0026amp;password=123\u0026quot;\r\n{\u0026quot;token\u0026quot;:\u0026quot;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJ1c2VybmFtZSI6InphcSIsImV4cCI6MTU5NTIzMTA1MiwiZW1haWwiOiJxcUBxcS5xcSJ9.JeifIXkcpy7Koui1ezNMJDACJL1pyE_U0faaBBGeN8o\u0026quot;}\r\n\r\n$ curl http:\/\/127.0.0.1:8000\/api\/ -H \u0026quot;Authorization: JWT eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJ1c2VybmFtZSI6InphcSIsImV4cCI6MTU5NTIzMTA1MiwiZW1haWwiOiJxcUBxcS5xcSJ9.JeifIXkcpy7Koui1ezNMJDACJL1pyE_U0faaBBGeN8o\u0026quot;\r\n{\u0026quot;linkman\u0026quot;:\u0026quot;http:\/\/127.0.0.1:8000\/api\/linkman\/\u0026quot;}\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e測試CORS\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl http:\/\/127.0.0.1:8000\/api\/ \r\n    \\-I -X OPTIONS \r\n    \\-H \u0026quot;Origin: http:\/\/127.0.0.1:8000\u0026quot; \r\n    \\-H \u0026quot;Access-Control-Request-Method: GET\u0026quot;\r\nHTTP\/1.1 200 OK\r\nDate: Mon, 20 Jul 2020 08:53:16 GMT\r\nServer: WSGIServer\/0.2 CPython\/3.6.8\r\nContent-Type: text\/html; charset=utf-8\r\nContent-Length: 0\r\nVary: Origin\r\nX-Frame-Options: DENY\r\nX-Content-Type-Options: nosniff\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003eOrigin和白名單一致會出現allow的資訊\u003c\/p\u003e\n\u003cpre\u003e\u003ccode class=\u0022language-{hl_lines=[\u002211-13\u0022]}\u0022 data-lang=\u0022{hl_lines=[\u002211-13\u0022]}\u0022\u003e$ curl http:\/\/127.0.0.1:8000\/api\/ \r\n    \\-I -X OPTIONS \r\n    \\-H \u0026quot;Origin: http:\/\/127.0.0.1:9000\u0026quot; \r\n    \\-H \u0026quot;Access-Control-Request-Method: GET\u0026quot;\r\nHTTP\/1.1 200 OK\r\nDate: Mon, 20 Jul 2020 08:53:23 GMT\r\nServer: WSGIServer\/0.2 CPython\/3.6.8\r\nContent-Type: text\/html; charset=utf-8\r\nContent-Length: 0\r\nVary: Origin\r\nAccess-Control-Allow-Origin: http:\/\/127.0.0.1:9000\r\nAccess-Control-Allow-Headers: accept, accept-encoding, authorization, content-type, dnt, origin, user-agent, x-csrftoken, x-requested-with\r\nAccess-Control-Allow-Methods: DELETE, GET, OPTIONS, PATCH, POST, PUT\r\nAccess-Control-Max-Age: 86400\r\nX-Frame-Options: DENY\r\nX-Content-Type-Options: nosniff\r\n\u003c\/code\u003e\u003c\/pre\u003e',
    
    
      date: '2020-07-20',
    
    
      tags: '[Django Python]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007201139\/',
    
      title: '使用watch監控的一些寫法',
    
    
      summary: '\u003cp\u003e想到要利用watch來監視複數data property，但寫出來都是重是又冗長，所以整理了一些比較彈性的寫法\u003c\/p\u003e',
      content: '\u003cp\u003e想到要利用watch來監視複數data property，但寫出來都是重是又冗長，所以整理了一些比較彈性的寫法\u003c\/p\u003e\n\u003cp\u003e剛接觸的時候的寫法\u003c\/p\u003e\n\u003cp class=\u0022codepen\u0022 data-height=\u0022265\u0022 data-theme-id=\u0022light\u0022 data-default-tab=\u0022js,result\u0022 data-user=\u0022aergfaerfaerg\u0022 data-slug-hash=\u0022gOaYGRW\u0022 style=\u0022height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\u0022 data-pen-title=\u0022watch-1\u0022\u003e\r\n  \u003cspan\u003eSee the Pen \u003ca href=\u0022https:\/\/codepen.io\/aergfaerfaerg\/pen\/gOaYGRW\u0022\u003e\r\n  watch-1\u003c\/a\u003e by rgsergreg (\u003ca href=\u0022https:\/\/codepen.io\/aergfaerfaerg\u0022\u003e@aergfaerfaerg\u003c\/a\u003e)\r\n  on \u003ca href=\u0022https:\/\/codepen.io\u0022\u003eCodePen\u003c\/a\u003e.\u003c\/span\u003e\r\n\u003c\/p\u003e\r\n\u003cscript async src=\u0022https:\/\/static.codepen.io\/assets\/embed\/ei.js\u0022\u003e\u003c\/script\u003e\r\n  \u003cbr\u003e\r\n\u003cp\u003e不使用watch option\u003c\/p\u003e\n\u003cp class=\u0022codepen\u0022 data-height=\u0022265\u0022 data-theme-id=\u0022light\u0022 data-default-tab=\u0022js,result\u0022 data-user=\u0022aergfaerfaerg\u0022 data-slug-hash=\u0022eYJbmYw\u0022 style=\u0022height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\u0022 data-pen-title=\u0022watch-2\u0022\u003e\r\n  \u003cspan\u003eSee the Pen \u003ca href=\u0022https:\/\/codepen.io\/aergfaerfaerg\/pen\/eYJbmYw\u0022\u003e\r\n  watch-2\u003c\/a\u003e by rgsergreg (\u003ca href=\u0022https:\/\/codepen.io\/aergfaerfaerg\u0022\u003e@aergfaerfaerg\u003c\/a\u003e)\r\n  on \u003ca href=\u0022https:\/\/codepen.io\u0022\u003eCodePen\u003c\/a\u003e.\u003c\/span\u003e\r\n\u003c\/p\u003e\r\n\u003cscript async src=\u0022https:\/\/static.codepen.io\/assets\/embed\/ei.js\u0022\u003e\u003c\/script\u003e\r\n  \u003cbr\u003e\r\n\u003cp\u003e利用computed來把複數value變成list\u003c\/p\u003e\n\u003cp class=\u0022codepen\u0022 data-height=\u0022265\u0022 data-theme-id=\u0022light\u0022 data-default-tab=\u0022js,result\u0022 data-user=\u0022aergfaerfaerg\u0022 data-slug-hash=\u0022rNxoaNX\u0022 style=\u0022height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\u0022 data-pen-title=\u0022watch-3\u0022\u003e\r\n  \u003cspan\u003eSee the Pen \u003ca href=\u0022https:\/\/codepen.io\/aergfaerfaerg\/pen\/rNxoaNX\u0022\u003e\r\n  watch-3\u003c\/a\u003e by rgsergreg (\u003ca href=\u0022https:\/\/codepen.io\/aergfaerfaerg\u0022\u003e@aergfaerfaerg\u003c\/a\u003e)\r\n  on \u003ca href=\u0022https:\/\/codepen.io\u0022\u003eCodePen\u003c\/a\u003e.\u003c\/span\u003e\r\n\u003c\/p\u003e\r\n\u003cscript async src=\u0022https:\/\/static.codepen.io\/assets\/embed\/ei.js\u0022\u003e\u003c\/script\u003e\r\n  \u003cbr\u003e\r\n\u003cp\u003e想到會再補\u003c\/p\u003e',
    
    
      date: '2020-07-20',
    
    
      tags: '[JavaScript Vue.js]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007161628\/',
    
      title: '【Django API實作-入門篇1】使用Django REST framework超高速部屬RESTful API',
    
    
      summary: '\u003cp\u003e這次作為複習，利用djangorestframework製作一個陽春的REST API\n何謂RESTful就不贅述了，直接開始實做\u003c\/p\u003e',
      content: '\u003cp\u003e這次作為複習，利用djangorestframework製作一個陽春的REST API\n何謂RESTful就不贅述了，直接開始實做\u003c\/p\u003e\n\u003cp\u003ecode放在一樣放在GitHub上\n\u003ca href=\u0022https:\/\/github.com\/mikanbearer\/django_rest_example\u0022\u003ehttps:\/\/github.com\/mikanbearer\/django_rest_example\u003c\/a\u003e\u003c\/p\u003e\n\u003cp\u003e環境大概是以下這樣\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ python --version\r\nPython 3.8.4\r\n$ pip list\r\n...\r\nDjango                  3.0\r\ndjangorestframework     3.11.0\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e初期的幾個指令\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003edjango-admin startproject django_rest_example\r\ncd django_rest_example\r\npython manage.py startapp api\r\npython manage.py migrate\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e完成後的樹狀圖\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e.\r\n│  db.sqlite3\r\n│  manage.py\r\n│\r\n├─django_rest_example\r\n│  │  asgi.py\r\n│  │  settings.py\r\n│  │  urls.py\r\n│  │  wsgi.py\r\n│  │  __init__.py\r\n│  │\r\n│  └─__pycache__\r\n│          settings.cpython-36.pyc\r\n│          urls.cpython-36.pyc\r\n│          __init__.cpython-36.pyc\r\n│\r\n└─api\r\n    │  admin.py\r\n    │  apps.py\r\n    │  models.py\r\n    │  tests.py\r\n    │  views.py\r\n    │  __init__.py\r\n    │\r\n    ├─migrations\r\n    │      __init__.py\r\n    │\r\n    └─__pycache__\r\n            __init__.cpython-36.pyc\r\n\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003esettings.py追加剛才建立的app\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e41\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e42\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e43\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:django_rest_example\/settings.py\u0022 data-lang=\u0022:django_rest_example\/settings.py\u0022\u003e\nINSTALLED_APPS \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.admin\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.auth\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.contenttypes\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.sessions\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.messages\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.staticfiles\u0026#39;\u003c\/span\u003e,\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;rest_framework\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#75715e\u0022\u003e# 追加\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;api\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#75715e\u0022\u003e# 追加\u003c\/span\u003e\n\u003c\/span\u003e]\n\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e追加以下設定，可以指定一頁最多幾個object\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e124\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e125\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e126\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e127\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e128\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:django_rest_example\/settings.py\u0022 data-lang=\u0022:django_rest_example\/settings.py\u0022\u003e\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003eREST_FRAMEWORK \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e {\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;DEFAULT_PAGINATION_CLASS\u0026#39;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;rest_framework.pagination.PageNumberPagination\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;PAGE_SIZE\u0026#39;\u003c\/span\u003e: \u003cspan style=\u0022color:#ae81ff\u0022\u003e10\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e}\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e修改models.py\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:api\/models.py\u0022 data-lang=\u0022:api\/models.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.db \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e models\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.core \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e validators\n\u003c\/span\u003e\n\u003cspan style=\u0022color:#75715e\u0022\u003e# Create your models here.\u003c\/span\u003e\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eLinkman\u003c\/span\u003e(models\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eModel):\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    SEX_CHOICES \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e (\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        (\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;男\u0026#39;\u003c\/span\u003e),\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        (\u003cspan style=\u0022color:#ae81ff\u0022\u003e2\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;女\u0026#39;\u003c\/span\u003e),\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    )\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    name \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e models\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eCharField(\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        verbose_name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;姓名\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        max_length\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e15\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    )\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    sex \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e models\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eIntegerField(\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        verbose_name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;性別\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        choices\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eSEX_CHOICES,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        default\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    )\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    tel \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e models\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eCharField(\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        verbose_name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;電話\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        max_length\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e15\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    )\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    email \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e models\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eEmailField(\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        verbose_name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;電子郵件\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        validators\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[validators\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eEmailValidator]\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    )\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    created_at \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e models\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eDateTimeField(\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        verbose_name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;建立日\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        auto_now_add\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    )\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    updated_at \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e models\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eDateTimeField(\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        verbose_name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;更新日\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        auto_now\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    )\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e使用以下兩個指令生成migration並建立table\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003epython manage.py makemigrations\r\npython manage.py migrate\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e接下來建立關鍵的Serializer，就之於html用的forms，在使用json的情況下則是用serializers來進行序列化，\n和ModelForm不同的是，serializer也會用於view的response\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e7\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:api\/serializers.py\u0022 data-lang=\u0022:api\/serializers.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e rest_framework \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e serializers\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e .models \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e Linkman\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eLinkmanSerializer\u003c\/span\u003e(serializers\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eHyperlinkedModelSerializer):\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eMeta\u003c\/span\u003e:\n        model \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Linkman\n        fields \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;name\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;sex\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;tel\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;email\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;created_at\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;updated_at\u0026#39;\u003c\/span\u003e]\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e接下來就是處理view了，雖然一般會用以下的寫法\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-python\u0022 data-lang=\u0022python\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eLinkmanList\u003c\/span\u003e(APIView):\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eget\u003c\/span\u003e(self, request, format\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eNone):\n        \u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\n\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003epost\u003c\/span\u003e(self, request, format\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eNone):\n        \u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eLinkDetail\u003c\/span\u003e(APIView):\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eget\u003c\/span\u003e(self, request, pk, format\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eNone):\n        \u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\n    \n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eput\u003c\/span\u003e(self, request, pk, format\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eNone):\n        \u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\n    \n    \u003cspan style=\u0022color:#66d9ef\u0022\u003edef\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003edelete\u003c\/span\u003e(self, request, pk, format\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eNone):\n        \u003cspan style=\u0022color:#f92672\u0022\u003e...\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e和相應的urlpattern\nurls.py也能用以下寫法\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-python\u0022 data-lang=\u0022python\u0022\u003eurlpatterns \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e, views\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eLinkmanList\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eas_view()),\n    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026lt;int:pk\u0026gt;\/\u0026#39;\u003c\/span\u003e, LinkmanDetail\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eas_view()),\n]\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e但為了求快，view直接選擇可使用多種method的viewsets，而urlpattern選用routers\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:api\/views.py\u0022 data-lang=\u0022:api\/views.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.shortcuts \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e render\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e rest_framework \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e viewsets\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e rest_framework \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e permissions\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e .models \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e Linkman\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e .serializers \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e LinkmanSerializer\n\u003c\/span\u003e\n\u003cspan style=\u0022color:#75715e\u0022\u003e# Create your views here.\u003c\/span\u003e\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eLinkmanViewSet\u003c\/span\u003e(viewsets\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eModelViewSet):\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    queryset \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Linkman\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eobjects\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eall()\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    serializer_class \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e LinkmanSerializer\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    permission_classes \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [permissions\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eIsAuthenticated]\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e使用router的urls如下\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:api\/urls.py\u0022 data-lang=\u0022:api\/urls.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.urls \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e include, path\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e rest_framework \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e routers\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e .views \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e LinkmanViewSet\n\nrouter \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e routers\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eDefaultRouter()\nrouter\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eregister(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;linkman\u0026#39;\u003c\/span\u003e, LinkmanViewSet)\n\nurlpatterns \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e, include(router\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eurls)),\n    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;api-auth\/\u0026#39;\u003c\/span\u003e, include(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;rest_framework.urls\u0026#39;\u003c\/span\u003e))\n]\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e既然viewsets已經包含了這麼多method，那現在的pattern到底會是怎樣呢？其實可以從router一窺究竟,\n使用django shell\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003epython manage.py shell\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e照剛才的寫法，這就是urlpatterns中「\u0027\u0027」include的內容\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-python\u0022 data-lang=\u0022python\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u0026gt;\u0026gt;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e api \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e urls\n\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u0026gt;\u0026gt;\u003c\/span\u003e urls\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003erouter\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003e__dict__\n{\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;root_renderers\u0026#39;\u003c\/span\u003e: [\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e\u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003erest_framework\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003erenderers\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eJSONRenderer\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026gt;, \u0026lt;class \u0026#39;\u003c\/span\u003erest_framework\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003erende\nrers\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eBrowsableAPIRenderer\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026gt;], \u0026#39;\u003c\/span\u003etrailing_slash\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;: \u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e\/\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;, \u0026#39;\u003c\/span\u003eregistry\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;: [(\u0026#39;\u003c\/span\u003elinkman\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;, \u0026lt;class \u0026#39;\u003c\/span\u003eapi\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eviews\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eL\ninkmanViewSet\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026gt;, \u0026#39;\u003c\/span\u003elinkman\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;)], \u0026#39;\u003c\/span\u003e_urls\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;: [\u0026lt;URLPattern \u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e^\u003c\/span\u003elinkman\u003cspan style=\u0022color:#f92672\u0022\u003e\/\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e$\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39; [name=\u0026#39;\u003c\/span\u003elinkman\u003cspan style=\u0022color:#f92672\u0022\u003e-\u003c\/span\u003elist\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;]\u0026gt;, \u0026lt;URLPatt\u003c\/span\u003e\nern \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;^linkman\\.(?P\u0026lt;format\u0026gt;[a-z0-9]\u002b)\/?$\u0026#39;\u003c\/span\u003e [name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;linkman-list\u0026#39;\u003c\/span\u003e]\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u003c\/span\u003e, \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003eURLPattern \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;^linkman\/(?P\u0026lt;pk\u0026gt;[^\/\u003c\/span\u003e\n\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003e]\u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e\/\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e$\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39; [name=\u0026#39;\u003c\/span\u003elinkman\u003cspan style=\u0022color:#f92672\u0022\u003e-\u003c\/span\u003edetail\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;]\u0026gt;, \u0026lt;URLPattern \u0026#39;\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e^\u003c\/span\u003elinkman\u003cspan style=\u0022color:#f92672\u0022\u003e\/\u003c\/span\u003e(\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e?\u003c\/span\u003eP\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003epk\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u003c\/span\u003e[\u003cspan style=\u0022color:#f92672\u0022\u003e^\/.\u003c\/span\u003e]\u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e)\\\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003e(\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e?\u003c\/span\u003eP\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003eformat\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u003c\/span\u003e[a\u003cspan style=\u0022color:#f92672\u0022\u003e-\u003c\/span\u003ez0\u003cspan style=\u0022color:#f92672\u0022\u003e-\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e9\u003c\/span\u003e]\u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e\/\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e?$\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u003c\/span\u003e\n [name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;linkman-detail\u0026#39;\u003c\/span\u003e]\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u003c\/span\u003e, \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003eURLPattern \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;^$\u0026#39;\u003c\/span\u003e [name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;api-root\u0026#39;\u003c\/span\u003e]\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u003c\/span\u003e, \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003eURLPattern \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;^\\.(?P\u0026lt;format\u0026gt;[a-z0-\u003c\/span\u003e\n\u003cspan style=\u0022color:#ae81ff\u0022\u003e9\u003c\/span\u003e]\u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e\/\u003c\/span\u003e\u003cspan style=\u0022color:#960050;background-color:#1e0010\u0022\u003e?$\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39; [name=\u0026#39;\u003c\/span\u003eapi\u003cspan style=\u0022color:#f92672\u0022\u003e-\u003c\/span\u003eroot\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;]\u0026gt;]}\u003c\/span\u003e\n\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003eproject的urls.py要記得include app的urls.py，接下來就大功告成\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:django_rest_example\/urls.py\u0022 data-lang=\u0022:django_rest_example\/urls.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.contrib \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e admin\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.urls \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e path, include\n\u003c\/span\u003e\nurlpatterns \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;admin\/\u0026#39;\u003c\/span\u003e, admin\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esite\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eurls),\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e, include(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;api.urls\u0026#39;\u003c\/span\u003e)),\n\u003c\/span\u003e]\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e一樣用runserver這個指令來啟動WSGI\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003epython manage.py runserver\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e因為permission有指定IsAuthenticated，所以沒有加上user:password的話會失敗\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl http:\/\/127.0.0.1:8000\/api\/linkman\/\r\n{\u0026quot;detail\u0026quot;:\u0026quot;Authentication credentials were not provided.\u0026quot;}\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003epost\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl http:\/\/127.0.0.1:8000\/api\/linkman\/ -u admin:123 -X POST -H \u0027Content-Type: application\/json\u0027 \r\n    \\ -d \u0027{\u0026quot;name\u0026quot;:\u0026quot;orz\u0026quot;,\u0026quot;sex\u0026quot;:1,\u0026quot;tel\u0026quot;:\u0026quot;123\u0026quot;,\u0026quot;email\u0026quot;:\u0026quot;qq@qq.qq\u0026quot;}\u0027\r\n{\u0026quot;name\u0026quot;:\u0026quot;orz\u0026quot;,\u0026quot;sex\u0026quot;:1,\u0026quot;tel\u0026quot;:\u0026quot;123\u0026quot;,\u0026quot;email\u0026quot;:\u0026quot;qq@qq.qq\u0026quot;,\u0026quot;created_at\u0026quot;:\u0026quot;2020-07-18T18:11:11.137940Z\u0026quot;,\u0026quot;updated_at\u0026quot;:\u0026quot;2020-07-18T18:48:53.737802Z\u0026quot;}\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003eget\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl http:\/\/127.0.0.1:8000\/api\/linkman\/ -u admin:123\r\n[{\u0026quot;name\u0026quot;:\u0026quot;orz\u0026quot;,\u0026quot;sex\u0026quot;:1,\u0026quot;tel\u0026quot;:\u0026quot;123\u0026quot;,\u0026quot;email\u0026quot;:\u0026quot;qq@qq.qq\u0026quot;,\u0026quot;created_at\u0026quot;:\u0026quot;2020-07-18T18:11:11.137940Z\u0026quot;,\u0026quot;updated_at\u0026quot;:\u0026quot;2020-07-18T18:48:53.737802Z\u0026quot;}] \r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003eget detail\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl http:\/\/127.0.0.1:8000\/api\/linkman\/1\/ -u admin:123\r\n{\u0026quot;name\u0026quot;:\u0026quot;orz\u0026quot;,\u0026quot;sex\u0026quot;:1,\u0026quot;tel\u0026quot;:\u0026quot;123\u0026quot;,\u0026quot;email\u0026quot;:\u0026quot;qq@qq.qq\u0026quot;,\u0026quot;created_at\u0026quot;:\u0026quot;2020-07-18T18:11:11.137940Z\u0026quot;,\u0026quot;updated_at\u0026quot;:\u0026quot;2020-07-18T18:52:39.098101Z\u0026quot;}\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003eput\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl http:\/\/127.0.0.1:8000\/api\/linkman\/ -u admin:123 -X POST -H \u0027Content-Type: application\/json\u0027 \r\n    \\ -d \u0027{\u0026quot;name\u0026quot;:\u0026quot;orz\u0026quot;,\u0026quot;sex\u0026quot;:1,\u0026quot;tel\u0026quot;:\u0026quot;123\u0026quot;,\u0026quot;email\u0026quot;:\u0026quot;qq@qq.qq\u0026quot;}\u0027\r\n{\u0026quot;name\u0026quot;:\u0026quot;orz\u0026quot;,\u0026quot;sex\u0026quot;:1,\u0026quot;tel\u0026quot;:\u0026quot;123\u0026quot;,\u0026quot;email\u0026quot;:\u0026quot;qq@qq.qq\u0026quot;,\u0026quot;created_at\u0026quot;:\u0026quot;2020-07-18T18:11:11.137940Z\u0026quot;,\u0026quot;updated_at\u0026quot;:\u0026quot;2020-07-18T18:48:53.737802Z\u0026quot;}\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003epatch\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ curl http:\/\/127.0.0.1:8000\/api\/linkman\/ -u admin:123 -X POST -H \u0027Content-Type: application\/json\u0027 \r\n    \\ -d \u0027{\u0026quot;sex\u0026quot;:2}\u0027\r\n{\u0026quot;name\u0026quot;:\u0026quot;orz\u0026quot;,\u0026quot;sex\u0026quot;:2,\u0026quot;tel\u0026quot;:\u0026quot;123\u0026quot;,\u0026quot;email\u0026quot;:\u0026quot;qq@qq.qq\u0026quot;,\u0026quot;created_at\u0026quot;:\u0026quot;2020-07-18T18:11:11.137940Z\u0026quot;,\u0026quot;updated_at\u0026quot;:\u0026quot;2020-07-18T18:52:53.737802Z\u0026quot;}\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e也有web可以提供使用\u003c\/p\u003e\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022150\u0022 src=\u00221.png\u0022\u003e\r\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022150\u0022 src=\u00222.png\u0022\u003e\r\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022150\u0022 src=\u00223.png\u0022\u003e',
    
    
      date: '2020-07-16',
    
    
      tags: '[Python Django]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007151013\/',
    
      title: '使用Django超高速部屬CRUD',
    
    
      summary: '\u003cp\u003e這次僅是做一個超級簡易，能做到Create、Read、Update、Delete的Web App，\u003cbr\u003e\n為了避免版面過長，此篇僅有陽春的Template View，並沒有做Filter及Pagenation…\u003c\/p\u003e',
      content: '\u003cp\u003e這次僅是做一個超級簡易，能做到Create、Read、Update、Delete的Web App，\u003cbr\u003e\n為了避免版面過長，此篇僅有陽春的Template View，並沒有做Filter及Pagenation…\u003c\/p\u003e\n\u003cp\u003ecode放在一樣放在GitHub上\n\u003ca href=\u0022https:\/\/github.com\/mikanbearer\/django_crud_example%3C\/a%3E\u0022\u003ehttps:\/\/github.com\/mikanbearer\/django_crud_example\u003c\/a\u003e\u003c\/p\u003e\n\u003cp\u003e環境大概是以下這樣\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ python --version\r\nPython 3.8.4\r\n$ pip list\r\n...\r\nDjango                  3.0\r\ndjango-bootstrap4       1.0.1\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e初期的幾個指令\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003edjango-admin startproject django_crud_example\r\ncd django_crud_example\r\npython manage.py startapp mainsite\r\npython manage.py migrate\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e完成後的樹狀圖\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e.\r\n│  db.sqlite3\r\n│  manage.py\r\n│\r\n├─django_crud_example\r\n│  │  asgi.py\r\n│  │  settings.py\r\n│  │  urls.py\r\n│  │  wsgi.py\r\n│  │  __init__.py\r\n│  │\r\n│  └─__pycache__\r\n│          settings.cpython-36.pyc\r\n│          urls.cpython-36.pyc\r\n│          __init__.cpython-36.pyc\r\n│\r\n└─mainsite\r\n    │  admin.py\r\n    │  apps.py\r\n    │  models.py\r\n    │  tests.py\r\n    │  views.py\r\n    │  __init__.py\r\n    │\r\n    ├─migrations\r\n    │      __init__.py\r\n    │\r\n    └─__pycache__\r\n            __init__.cpython-36.pyc\r\n\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003esettings.py追加剛才建立的app\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e41\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e42\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e43\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:django_crud_example\/settings.py\u0022 data-lang=\u0022:django_crud_example\/settings.py\u0022\u003e\nINSTALLED_APPS \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.admin\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.auth\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.contenttypes\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.sessions\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.messages\u0026#39;\u003c\/span\u003e,\n    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;django.contrib.staticfiles\u0026#39;\u003c\/span\u003e,\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;bootstrap4\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#75715e\u0022\u003e# 追加\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;mainsite\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#75715e\u0022\u003e# 追加\u003c\/span\u003e\n\u003c\/span\u003e]\n\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e順道追加未來會用到的設定\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e124\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e125\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e126\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e127\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:django_crud_example\/settings.py\u0022 data-lang=\u0022:django_crud_example\/settings.py\u0022\u003e\n\u003cspan style=\u0022color:#75715e\u0022\u003e# 使用django admin的login作為登入頁面\u003c\/span\u003e\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003eLOGIN_URL\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;admin:login\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003eLOGOUT_REDIRECT_URL\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\/\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e修改models.py\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:mainsite\/models.py\u0022 data-lang=\u0022:mainsite\/models.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.db \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e models\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.core \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e validators\n\u003c\/span\u003e\n\u003cspan style=\u0022color:#75715e\u0022\u003e# Create your models here.\u003c\/span\u003e\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eLinkman\u003c\/span\u003e(models\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eModel):\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    SEX_CHOICES \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e (\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        (\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;男\u0026#39;\u003c\/span\u003e),\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        (\u003cspan style=\u0022color:#ae81ff\u0022\u003e2\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;女\u0026#39;\u003c\/span\u003e),\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    )\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    name \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e models\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eCharField(\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        verbose_name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;姓名\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        max_length\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e15\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    )\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    sex \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e models\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eIntegerField(\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        verbose_name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;性別\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        choices\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eSEX_CHOICES,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        default\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    )\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    tel \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e models\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eCharField(\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        verbose_name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;電話\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        max_length\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e15\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    )\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    email \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e models\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eEmailField(\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        verbose_name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;電子郵件\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        validators\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e[validators\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eEmailValidator]\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    )\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    created_at \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e models\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eDateTimeField(\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        verbose_name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;建立日\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        auto_now_add\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    )\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    updated_at \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e models\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eDateTimeField(\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        verbose_name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;更新日\u0026#39;\u003c\/span\u003e,\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e        auto_now\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eTrue\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    )\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e使用以下兩個指令生成migration並建立table\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003epython manage.py makemigrations\r\npython manage.py migrate\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e完成後，能使用shell測試\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e$manage.py shell\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-python\u0022 data-lang=\u0022python\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u0026gt;\u0026gt;\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e mainsite.models \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e Linkman\n\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u0026gt;\u0026gt;\u003c\/span\u003e Linkman\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eobjects\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ecreate()\n\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003eLinkman: Linkman object (\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u003c\/span\u003e\n\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u0026gt;\u0026gt;\u003c\/span\u003e Linkman\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eobjects\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eall()\n\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003eQuerySet [\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003eLinkman: Linkman object (\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u003c\/span\u003e]\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u003c\/span\u003e\n\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u0026gt;\u0026gt;\u003c\/span\u003e Linkman\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eobjects\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eall()[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e]\n\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003eLinkman: Linkman object (\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e)\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u003c\/span\u003e\n\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u0026gt;\u0026gt;\u003c\/span\u003e Linkman\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eobjects\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eall()[\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e]\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003e__dict__\n{\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;_state\u0026#39;\u003c\/span\u003e: \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;\u003c\/span\u003edjango\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003edb\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003emodels\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003ebase\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eModelState object at \u003cspan style=\u0022color:#ae81ff\u0022\u003e0x000001B3C9A6F6D8\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;id\u0026#39;\u003c\/span\u003e: \u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;name\u0026#39;\u003c\/span\u003e: \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u003c\/span\u003e\nsex\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;: 1, \u0026#39;\u003c\/span\u003etel\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;: \u0026#39;\u0026#39;, \u0026#39;\u003c\/span\u003eemail\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;: \u0026#39;\u0026#39;, \u0026#39;\u003c\/span\u003ecreated_at\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;: datetime.datetime(2020, 7, 15, 6, 57, 48, 819583, t\u003c\/span\u003e\nzinfo\u003cspan style=\u0022color:#f92672\u0022\u003e=\u0026lt;\u003c\/span\u003eUTC\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u003c\/span\u003e)}\n\u003cspan style=\u0022color:#f92672\u0022\u003e\u0026gt;\u0026gt;\u0026gt;\u003c\/span\u003e\n\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e修改admin.py，也能在\/admin下管理剛才建立的model\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e1\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e2\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e4\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e5\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e6\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e7\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:mainsite\/admin.py\u0022 data-lang=\u0022:mainsite\/admin.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.contrib \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e admin\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e .models \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e Linkman\n\u003c\/span\u003e\n\u003cspan style=\u0022color:#75715e\u0022\u003e# Register your models here.\u003c\/span\u003e\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#a6e22e\u0022\u003e@admin.register\u003c\/span\u003e(Linkman)\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eLinkmanAdmin\u003c\/span\u003e(admin\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eModelAdmin):\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    \u003cspan style=\u0022color:#66d9ef\u0022\u003epass\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e接下來建立form，預設沒有檔案，直接建立一個新的\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:mainsite\/forms.py\u0022 data-lang=\u0022:mainsite\/forms.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e forms\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e .models \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e Linkman\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eLinkmanForm\u003c\/span\u003e(forms\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eModelForm):\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eMeta\u003c\/span\u003e:\n        model \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Linkman\n        fields \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e (\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;name\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;sex\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;tel\u0026#39;\u003c\/span\u003e, \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;email\u0026#39;\u003c\/span\u003e)\n        widgets \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e {\n            \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;name\u0026#39;\u003c\/span\u003e: forms\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eTextInput(),\n            \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;sex\u0026#39;\u003c\/span\u003e: forms\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eRadioSelect(),\n            \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;tel\u0026#39;\u003c\/span\u003e: forms\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eTextInput(),\n            \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;email\u0026#39;\u003c\/span\u003e: forms\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eEmailInput(),\n        }\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e接下來準備View，大概是這樣定義\u003c\/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e用途\u003c\/th\u003e\n\u003cth\u003eClassName\u003c\/th\u003e\n\u003cth\u003eUrl\u003c\/th\u003e\n\u003cth\u003eMethod\u003c\/th\u003e\n\u003c\/tr\u003e\n\u003c\/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e列表\u003c\/td\u003e\n\u003ctd\u003eListView\u003c\/td\u003e\n\u003ctd\u003e\/page\/\u003c\/td\u003e\n\u003ctd\u003eGET\u003c\/td\u003e\n\u003c\/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e詳細\u003c\/td\u003e\n\u003ctd\u003eDetailView\u003c\/td\u003e\n\u003ctd\u003e\/page\/id\u003c\/td\u003e\n\u003ctd\u003eGET\u003c\/td\u003e\n\u003c\/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e建立\u003c\/td\u003e\n\u003ctd\u003eCreateView\u003c\/td\u003e\n\u003ctd\u003e\/page\/\u003c\/td\u003e\n\u003ctd\u003eGET,POST\u003c\/td\u003e\n\u003c\/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e更新\u003c\/td\u003e\n\u003ctd\u003eUpdateView\u003c\/td\u003e\n\u003ctd\u003e\/page\/id\u003c\/td\u003e\n\u003ctd\u003eGET,POST\u003c\/td\u003e\n\u003c\/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e刪除\u003c\/td\u003e\n\u003ctd\u003eDeleteView\u003c\/td\u003e\n\u003ctd\u003e\/page\/id\u003c\/td\u003e\n\u003ctd\u003eGET,\u003c\/td\u003e\n\u003c\/tr\u003e\n\u003c\/tbody\u003e\n\u003c\/table\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:mainsite\/views.py\u0022 data-lang=\u0022:mainsite\/views.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.shortcuts \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e render\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.views.generic \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e ListView, DetailView, CreateView, UpdateView, DeleteView\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.contrib.auth.mixins \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e LoginRequiredMixin\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.urls \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e reverse_lazy\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e .models \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e Linkman\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e .forms \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e LinkmanForm\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e# Create your views here.\u003c\/span\u003e\n\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e# 列表\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eLinkmanListView\u003c\/span\u003e(LoginRequiredMixin, ListView):\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    model \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Linkman\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    template_name \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;mainsite\/linkman_list.html\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e# 詳細\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eLinkmanDetailView\u003c\/span\u003e(LoginRequiredMixin, DetailView):\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    model \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Linkman\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    template_name \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;mainsite\/linkman_detail.html\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e# 建立\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eLinkmanCreateView\u003c\/span\u003e(LoginRequiredMixin, CreateView):\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    model \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Linkman\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    form_class \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e LinkmanForm\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    template_name \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;mainsite\/linkman_form.html\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    success_url \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e reverse_lazy(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;list\u0026#39;\u003c\/span\u003e)\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e# 更新\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eLinkmanUpdateView\u003c\/span\u003e(LoginRequiredMixin, UpdateView):\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    model \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Linkman\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    form_class \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e LinkmanForm\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    template_name \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;mainsite\/linkman_form.html\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    success_url \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e reverse_lazy(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;list\u0026#39;\u003c\/span\u003e)\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e# 刪除\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eclass\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eLinkmanDeleteView\u003c\/span\u003e(LoginRequiredMixin, DeleteView):\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    model \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e Linkman\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    template_name \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;mainsite\/linkman_detail.html\u0026#39;\u003c\/span\u003e\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    success_url \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e reverse_lazy(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;list\u0026#39;\u003c\/span\u003e)\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e用include的方式包含app中的urls.py可以避免project的urlpattern亂成一團，更易於管理\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:django_crud_example\/urls.py\u0022 data-lang=\u0022:django_crud_example\/urls.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.contrib \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e admin\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.urls \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e path, include\n\u003c\/span\u003e\nurlpatterns \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;admin\/\u0026#39;\u003c\/span\u003e, admin\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003esite\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eurls),\n\u003cspan style=\u0022display:block;width:100%;background-color:#3c3d38\u0022\u003e    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e, include(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;mainsite.urls\u0026#39;\u003c\/span\u003e)),\n\u003c\/span\u003e]\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e當然預設app是沒有urls.py的，自己建立一個，並import剛才寫好的view\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:mainsite\/urls.py\u0022 data-lang=\u0022:mainsite\/urls.py\u0022\u003e\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e django.urls \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e path\n\u003cspan style=\u0022color:#f92672\u0022\u003efrom\u003c\/span\u003e .views \u003cspan style=\u0022color:#f92672\u0022\u003eimport\u003c\/span\u003e LinkmanListView, LinkmanDetailView, LinkmanCreateView, LinkmanUpdateView, LinkmanDeleteView\n\nurlpatterns \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e [\n    \u003cspan style=\u0022color:#75715e\u0022\u003e# 列表\u003c\/span\u003e\n    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;\u0026#39;\u003c\/span\u003e, LinkmanListView\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eas_view(), name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;list\u0026#39;\u003c\/span\u003e),\n    \u003cspan style=\u0022color:#75715e\u0022\u003e# 詳細\u003c\/span\u003e\n    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;detail\/\u0026lt;int:pk\u0026gt;\/\u0026#39;\u003c\/span\u003e, LinkmanDetailView\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eas_view(), name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;detail\u0026#39;\u003c\/span\u003e),\n    \u003cspan style=\u0022color:#75715e\u0022\u003e# 建立\u003c\/span\u003e\n    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;create\/\u0026#39;\u003c\/span\u003e, LinkmanCreateView\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eas_view(), name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;create\u0026#39;\u003c\/span\u003e),\n    \u003cspan style=\u0022color:#75715e\u0022\u003e# 更新\u003c\/span\u003e\n    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;update\/\u0026lt;int:pk\u0026gt;\/\u0026#39;\u003c\/span\u003e, LinkmanUpdateView\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eas_view(), name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;update\u0026#39;\u003c\/span\u003e),\n    \u003cspan style=\u0022color:#75715e\u0022\u003e# 刪除\u003c\/span\u003e\n    path(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;delete\/\u0026lt;int:pk\u0026gt;\/\u0026#39;\u003c\/span\u003e, LinkmanDeleteView\u003cspan style=\u0022color:#f92672\u0022\u003e.\u003c\/span\u003eas_view(), name\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;delete\u0026#39;\u003c\/span\u003e),\n]\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e接下來在app的目錄下建立以下目錄及檔案\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e.\r\n├─templates\r\n│  └─mainsite\r\n│          base.html\r\n│          linkman_detail.html\r\n│          linkman_form.html\r\n│          linkman_list.html\r\n|\r\n...\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e這次比較偷懶，只建立了四個，大致上使用如下\u003c\/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eTemplate\u003c\/th\u003e\n\u003cth\u003eView Class\u003c\/th\u003e\n\u003c\/tr\u003e\n\u003c\/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003elinkman_list.html\u003c\/td\u003e\n\u003ctd\u003eLinkmanListView\u003c\/td\u003e\n\u003c\/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003elinkman_detail.html\u003c\/td\u003e\n\u003ctd\u003eLinkmanDeleteView\u003c\/td\u003e\n\u003c\/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003elinkman_detail.html\u003c\/td\u003e\n\u003ctd\u003eLinkmanDetailView\u003c\/td\u003e\n\u003c\/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003elinkman_form.html\u003c\/td\u003e\n\u003ctd\u003eLinkmanCreateView\u003c\/td\u003e\n\u003c\/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003elinkman_form.html\u003c\/td\u003e\n\u003ctd\u003eLinkmanUpdateView\u003c\/td\u003e\n\u003c\/tr\u003e\n\u003c\/tbody\u003e\n\u003c\/table\u003e\n\u003cp\u003e首先是base.html，使用django-bootstrap4，盡可能讓版面看起來精簡了一些\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:mainsite\/templates\/mainsite\/base.html\u0022 data-lang=\u0022:mainsite\/templates\/mainsite\/base.html\u0022\u003e{% load bootstrap4 %}\n\u003cspan style=\u0022color:#75715e\u0022\u003e\u0026lt;!DOCTYPE html\u0026gt;\u003c\/span\u003e\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elang\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;en\u0026#34;\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n    {% bootstrap_css %}\n    {% bootstrap_javascript jquery=\u0026#39;full\u0026#39; %}\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003emeta\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003echarset\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;UTF-8\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;通訊錄\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003etitle\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehead\u003c\/span\u003e\u0026gt;\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003enav\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;navbar navbar-expand-lg navbar-light bg-light\u0026#34;\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;navbar-brand\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehref\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;#\u0026#34;\u003c\/span\u003e\u0026gt;通訊錄\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etype\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;button\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;navbar-toggler\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003edata-toggle\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;collapse\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003edata-target\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;#Navber\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003earia-controls\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Navber\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003earia-expanded\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;false\u0026#34;\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003espan\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;navbar-toggler-icon\u0026#34;\u003c\/span\u003e\u0026gt;\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003espan\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebutton\u003c\/span\u003e\u0026gt;\n\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;collapse navbar-collapse\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Navber\u0026#34;\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eul\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;navbar-nav mr-auto\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;nav-item\u0026#34;\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;nav-link\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ehref\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;{% url \u0026#39;admin:logout\u0026#39;%}\u0026#34;\u003c\/span\u003e\u0026gt;登出\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ea\u003c\/span\u003e\u0026gt;\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eul\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003enav\u003c\/span\u003e\u0026gt;\n    {% block content %}\n    {% endblock %}\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ebody\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ehtml\u003c\/span\u003e\u0026gt;\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e作為首頁的list.html，除了用比較多template tag外沒什麼特別\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e41\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e42\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e43\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e44\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e45\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e46\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e47\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e48\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e49\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e50\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e51\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e52\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e53\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e54\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e55\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e56\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e57\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e58\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e59\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:mainsite\/templates\/mainsite\/linkman_list.html\u0022 data-lang=\u0022:mainsite\/templates\/mainsite\/linkman_list.html\u0022\u003e{% extends \u0026#39;mainsite\/base.html\u0026#39; %}\n{% load bootstrap4 %}\n{% block content %}\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;container\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-12\u0026#34;\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;float-left\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eh3\u003c\/span\u003e\u0026gt;列表\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eh3\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;float-right\u0026#34;\u003c\/span\u003e\u0026gt;\n                {% url \u0026#39;create\u0026#39; as create %}\n                {% bootstrap_button \u0026#39;建立\u0026#39; button_type=\u0026#39;link\u0026#39; href=create button_class=\u0026#39;btn-primary\u0026#39; %}\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-12\u0026#34;\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eul\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;list-group\u0026#34;\u003c\/span\u003e\u0026gt;\n                {% for linkman in linkman_list %}\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;list-group-item\u0026#34;\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-3\u0026#34;\u003c\/span\u003e\u0026gt;\n                            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;姓名\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-9\u0026#34;\u003c\/span\u003e\u0026gt;\n                            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;{{ linkman.name }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-3\u0026#34;\u003c\/span\u003e\u0026gt;\n                            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;建立日\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-9\u0026#34;\u003c\/span\u003e\u0026gt;\n                            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;{{linkman.created_at|date:\u0026#34;Y\/m\/d G:i:s\u0026#34;}}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-12\u0026#34;\u003c\/span\u003e\u0026gt;\n                            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;float-right\u0026#34;\u003c\/span\u003e\u0026gt;\n                                {% url \u0026#39;detail\u0026#39; linkman.pk as detail %}\n                                {% url \u0026#39;update\u0026#39; linkman.pk as update %}\n                                {% url \u0026#39;delete\u0026#39; linkman.pk as delete %}\n                                {% bootstrap_button \u0026#39;詳細\u0026#39; button_type=\u0026#39;link\u0026#39; href=detail button_class=\u0026#39;btn-primary\u0026#39; %}\n                                {% bootstrap_button \u0026#39;更新\u0026#39; button_type=\u0026#39;link\u0026#39; href=update button_class=\u0026#39;btn-primary\u0026#39; %}\n                                {% bootstrap_button \u0026#39;刪除\u0026#39; button_type=\u0026#39;link\u0026#39; href=delete button_class=\u0026#39;btn-primary\u0026#39; %}\n                            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e\u0026gt;\n                {% empty %}\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;list-group-item\u0026#34;\u003c\/span\u003e\u0026gt;\n                    無資料\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eli\u003c\/span\u003e\u0026gt;\n                {% endfor %}\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eul\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n{% endblock %}\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e因為是兩個view共用一個template，所以用object來判斷是create還是update，作為頁面上小提示\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:mainsite\/templates\/mainsite\/linkman_form.html\u0022 data-lang=\u0022:mainsite\/templates\/mainsite\/linkman_form.html\u0022\u003e{% extends \u0026#34;.\/base.html\u0026#34; %}\n{% load bootstrap4 %}\n{% block content %}\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;container\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-12\u0026#34;\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;float-left\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eh3\u003c\/span\u003e\u0026gt;\n                    {% if linkman %}\n                        更新\n                    {% else %}\n                        建立\n                    {% endif %}\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eh3\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-12\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;float-right\u0026#34;\u003c\/span\u003e\u0026gt;\n                    {% url \u0026#39;list\u0026#39; as list %}\n                    {% bootstrap_button \u0026#39;回列表\u0026#39; button_type=\u0026#39;link\u0026#39; href=list button_class=\u0026#39;btn-primary\u0026#39; %}\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-12\u0026#34;\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emethod\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;post\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;myform\u0026#34;\u003c\/span\u003e\u0026gt;\n                {% csrf_token %}\n                {% bootstrap_form form %}\n                {% bootstrap_button \u0026#39;送出\u0026#39; button_type=\u0026#39;submit\u0026#39; button_class=\u0026#39;btn-primary\u0026#39; %}\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n{% endblock %}\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003edetail和delete共用的template，DeleteView有支援POST，DetailView則無，和上一個template不同，兩者皆有get object，所以利用{{ request.path }}來判斷現在是detail還是delete，如果是後者，才會出現form delete\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e15\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e16\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e17\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e18\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e19\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e20\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e21\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e22\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e23\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e24\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e25\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e26\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e27\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e28\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e29\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e30\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e31\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e32\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e33\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e34\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e35\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e36\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e37\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e38\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e39\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e40\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e41\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e42\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e43\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e44\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e45\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e46\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e47\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e48\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e49\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e50\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e51\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e52\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e53\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e54\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e55\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e56\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e57\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e58\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e59\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e60\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e61\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e62\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e63\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e64\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e65\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e66\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e67\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e68\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e69\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e70\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e71\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e72\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e73\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e74\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e75\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e76\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e77\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e78\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e79\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:mainsite\/templates\/mainsite\/linkman_detail.html\u0022 data-lang=\u0022:mainsite\/templates\/mainsite\/linkman_detail.html\u0022\u003e{% extends \u0026#34;.\/base.html\u0026#34; %}\n{% load bootstrap4 %}\n{% block content %}\n\u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;container\u0026#34;\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-12\u0026#34;\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;float-left\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eh3\u003c\/span\u003e\u0026gt;\n                    {% if \u0026#39;delete\u0026#39; in request.path %}\n                        刪除\n                    {% else %}\n                        詳細\n                    {% endif %}\n                \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eh3\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;float-right\u0026#34;\u003c\/span\u003e\u0026gt;\n                {% url \u0026#39;list\u0026#39; as list %}\n                {% bootstrap_button \u0026#39;回列表\u0026#39; button_type=\u0026#39;link\u0026#39; href=list button_class=\u0026#39;btn-primary\u0026#39; %}\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n    \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;container\u0026#34;\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-3\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;姓名\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-9\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;{{ linkman.name }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-3\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;性別\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-9\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;{{ linkman.get_sex_display }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-3\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;電話\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-9\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;{{ linkman.tel }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-3\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;電子郵件\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-9\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;{{ linkman.email }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-3\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;建立日\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-9\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;{{ linkman.created_at|date:\u0026#39;Y\/m\/d G:i:s\u0026#39; }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;row\u0026#34;\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-3\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;更新日\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eclass\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;col-9\u0026#34;\u003c\/span\u003e\u0026gt;\n                \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;{{ linkman.updated_at|date:\u0026#39;Y\/m\/d G:i:s\u0026#39; }}\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ep\u003c\/span\u003e\u0026gt;\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n        {% if \u0026#39;delete\u0026#39; in request.path %}\n            \u0026lt;\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emethod\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;post\u0026#34;\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eid\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;myform\u0026#34;\u003c\/span\u003e\u0026gt;\n                {% csrf_token %}\n                {% bootstrap_button \u0026#39;刪除\u0026#39; button_type=\u0026#39;submit\u0026#39; button_class=\u0026#39;btn-danger\u0026#39; %}\n            \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003eform\u003c\/span\u003e\u0026gt;\n        {% endif %}\n    \u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n\u0026lt;\/\u003cspan style=\u0022color:#f92672\u0022\u003ediv\u003c\/span\u003e\u0026gt;\n{% endblock %}\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e完成之後就可以看看結果了\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003epython manage.py runserver\r\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003e大概會像下圖\u003c\/p\u003e\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022150\u0022 src=\u0022list.png\u0022\u003e\r\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022150\u0022 src=\u0022create.png\u0022\u003e\r\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022150\u0022 src=\u0022update.png\u0022\u003e\r\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022150\u0022 src=\u0022detail.png\u0022\u003e\r\n\u003cimg style=\u0022display:inline;\u0022 width=\u0022150\u0022 src=\u0022delete.png\u0022\u003e',
    
    
      date: '2020-07-15',
    
    
      tags: '[Django Python]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007141604\/',
    
      title: '使用VBScript定期送出按鍵',
    
    
      summary: '\u003cp\u003e在客戶環境中操作，並需要客戶代為登入的情況下給自己用的小筆記，\n免得一不注意就被policy弄到進入省電模式\/登出，到時候又要請客戶的人來幫忙key帳號密碼…\n在不變更任何設定的情況下，VBScript還是很好用的東西，\u003cbr\u003e\n尤其是這個安全無害的method，\u003cstrong\u003eSendKeys\u003c\/strong\u003e\u003c\/p\u003e',
      content: '\u003cp\u003e在客戶環境中操作，並需要客戶代為登入的情況下給自己用的小筆記，\n免得一不注意就被policy弄到進入省電模式\/登出，到時候又要請客戶的人來幫忙key帳號密碼…\n在不變更任何設定的情況下，VBScript還是很好用的東西，\u003cbr\u003e\n尤其是這個安全無害的method，\u003cstrong\u003eSendKeys\u003c\/strong\u003e\u003c\/p\u003e\n\u003cp\u003e這種情況適合用Specify Key，就挑了Shift\u003c\/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eKey\u003c\/th\u003e\n\u003cth\u003eCode\u003c\/th\u003e\n\u003c\/tr\u003e\n\u003c\/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u002b\u003c\/td\u003e\n\u003ctd\u003eSHIFT\u003c\/td\u003e\n\u003c\/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e^\u003c\/td\u003e\n\u003ctd\u003eCTRL\u003c\/td\u003e\n\u003c\/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e%\u003c\/td\u003e\n\u003ctd\u003eALT\u003c\/td\u003e\n\u003c\/tr\u003e\n\u003c\/tbody\u003e\n\u003c\/table\u003e\n\u003cp\u003e以下範例就能在一小時中，每分鐘send一次Shift\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-vb\u0022 data-lang=\u0022vb\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eDim\u003c\/span\u003e WshShell, minutes, i\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eSet\u003c\/span\u003e WshShell \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e WScript.CreateObject(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;WScript.Shell\u0026#34;\u003c\/span\u003e)\nminutes \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e 60\n\u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e i\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e1 \u003cspan style=\u0022color:#66d9ef\u0022\u003eto\u003c\/span\u003e minutes\n\t\tWshShell.SendKeys(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;\u002b\u0026#34;\u003c\/span\u003e)\n\t\tWScript.Sleep(60000)\n\t\u003cspan style=\u0022color:#66d9ef\u0022\u003enext\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e以下範例加上簡單的判斷及InputBox\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-vb\u0022 data-lang=\u0022vb\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003eSub\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003eSendKeyPerMinute\u003c\/span\u003e(hours)\n\t\u003cspan style=\u0022color:#66d9ef\u0022\u003eDim\u003c\/span\u003e WshShell, minutes, i\n\t\u003cspan style=\u0022color:#66d9ef\u0022\u003eSet\u003c\/span\u003e WshShell \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e WScript.CreateObject(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;WScript.Shell\u0026#34;\u003c\/span\u003e)\n\tminutes \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e hours \u003cspan style=\u0022color:#f92672\u0022\u003e*\u003c\/span\u003e 60\n\t\u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e i\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e1 \u003cspan style=\u0022color:#66d9ef\u0022\u003eto\u003c\/span\u003e minutes\n\t\tWshShell.SendKeys(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;\u002b\u0026#34;\u003c\/span\u003e)\n\t\tWScript.Sleep(60000)\n\t\u003cspan style=\u0022color:#66d9ef\u0022\u003enext\u003c\/span\u003e\n\tMsgBox(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Time is up!\u0026#34;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eEnd\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eSub\u003c\/span\u003e\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eDim\u003c\/span\u003e hours\nhours\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003eInputBox(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Please enter a number of hours:\u0026#34;\u003c\/span\u003e)\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enot\u003c\/span\u003e IsEmpty(hours) \u003cspan style=\u0022color:#66d9ef\u0022\u003eThen\u003c\/span\u003e\n\t\u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e IsNumeric(hours) \u003cspan style=\u0022color:#66d9ef\u0022\u003eThen\u003c\/span\u003e\n\t\tSendKeyPerMinute(hours)\n\t\u003cspan style=\u0022color:#66d9ef\u0022\u003eElse\u003c\/span\u003e\n\t\tMsgBox(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Not a Number!\u0026#34;\u003c\/span\u003e)\n\t\u003cspan style=\u0022color:#66d9ef\u0022\u003eEnd\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eElse\u003c\/span\u003e\n\tMsgBox(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Cancelled\u0026#34;\u003c\/span\u003e)\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eEnd\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003e很醜但能用，時間內就不用擔心不小心被登出了！\n想到再補…\u003c\/p\u003e',
    
    
      date: '2020-07-14',
    
    
      tags: '[VBScript]',
    
    
      categories: '[小技巧]',
    
    
      author: '',
    
  },

  {
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007101327\/',
    
      title: '紀念用的第一篇',
    
    
      summary: '\u003cp\u003e最近想把學習過程中碰到的小問題做些筆記，剛好又對static site generator有些興趣，\n就到\u003ca href=\u0022https:\/\/www.staticgen.com\/\u0022\u003ehttps:\/\/www.staticgen.com\/\u003c\/a\u003e找個人氣度高的來用，之後就選上了這個\u003cstrong\u003eHugo\u003c\/strong\u003e，\n雖然這個Beautiful Hugo的theme挺好看的，之後還是要改一下，首先還是先搞定code block…\u003c\/p\u003e',
      content: '\u003cp\u003e最近想把學習過程中碰到的小問題做些筆記，剛好又對static site generator有些興趣，\n就到\u003ca href=\u0022https:\/\/www.staticgen.com\/\u0022\u003ehttps:\/\/www.staticgen.com\/\u003c\/a\u003e找個人氣度高的來用，之後就選上了這個\u003cstrong\u003eHugo\u003c\/strong\u003e，\n雖然這個Beautiful Hugo的theme挺好看的，之後還是要改一下，首先還是先搞定code block…\u003c\/p\u003e\n\u003cp\u003e預設的code black原本的是這樣\u003c\/p\u003e\n\u003cpre\u003e\u003ccode\u003e#include \u0026lt;stdio.h\u0026gt;\n\nint main(int argc, char *args[])\n{\n    printf(\u0026quot;Hello, world!\\n\u0026quot;);\n    return 0;\n}\n\u003c\/code\u003e\u003c\/pre\u003e\u003cp\u003eHugo有使用\u003cstrong\u003eChroma Highlighting\u003c\/strong\u003e，只要在\u003ccode\u003e```\u003c\/code\u003e後加上語言名稱即可\u003c\/p\u003e\n\u003cp\u003e範例：\u003c\/p\u003e\n\u003cpre\u003e\n\u003ccode\u003e```c\n#include \u003cstdio.h\u003e\n\nint main(int argc, char *args[])\n{\n    printf(\u0022Hello, world!\\n\u0022);\n    return 0;\n}\n```\u003c\/code\u003e\n\u003c\/pre\u003e\n\u003cp\u003e顯示：\u003c\/p\u003e\n\u003cp\u003e\u003cimg src=\u0022block-1.PNG\u0022 alt=\u0022\u0022\u003e\u003c\/p\u003e\n\u003cp\u003e不過個人偏好像\u003cstrong\u003e\u003ca href=\u0022https:\/\/qiita.com\/\u0022\u003eQiita\u003c\/a\u003e\u003c\/strong\u003e那樣能顯示title，\n如下圖：\n\u003cimg src=\u0022qiita-block.PNG\u0022 alt=\u0022\u0022\u003e\n所以剛好參考了這篇\u003cstrong\u003e\u003ca href=\u0022https:\/\/aakira.app\/blog\/2018\/12\/code-block-title\/\u0022\u003e\u003ca href=\u0022https:\/\/aakira.app\/blog\/2018\/12\/code-block-title\/\u0022\u003ehttps:\/\/aakira.app\/blog\/2018\/12\/code-block-title\/\u003c\/a\u003e\u003c\/a\u003e\u003c\/strong\u003e\n就開始動手了，但個人要的是有Line Number的版本：\u003c\/p\u003e\n\u003cp\u003e首先弄一個\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e7\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-c\u0022 data-lang=\u0022c\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e#include\u003c\/span\u003e \u003cspan style=\u0022color:#75715e\u0022\u003e\u0026lt;stdio.h\u0026gt;\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eint\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emain\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003eint\u003c\/span\u003e argc, \u003cspan style=\u0022color:#66d9ef\u0022\u003echar\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e*\u003c\/span\u003eargs[])\n{\n    printf(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Hello, world!\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;\u003c\/span\u003e);\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e;\n}\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e然後來找看看\u003ccode\u003e\u0026lt;code class=\u0026quot;\u0026quot;\u0026gt;\u003c\/code\u003e會跑到哪兒…\n\u003cimg src=\u0022inspector.PNG\u0022 alt=\u0022\u0022\u003e\n躲很深…\u003c\/p\u003e\n\u003cp\u003e知道大概位置就可以可以寫個js了\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 7\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 8\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e 9\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e10\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e11\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e12\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e13\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e14\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-js\u0022 data-lang=\u0022js\u0022\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elist\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e document.\u003cspan style=\u0022color:#a6e22e\u0022\u003ebody\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003egetElementsByClassName\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;highlight\u0026#39;\u003c\/span\u003e);\n\n\u003cspan style=\u0022color:#66d9ef\u0022\u003efor\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ei\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e; \u003cspan style=\u0022color:#a6e22e\u0022\u003ei\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e\u0026lt;=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elist\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003elength\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e-\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e; \u003cspan style=\u0022color:#a6e22e\u0022\u003ei\u003c\/span\u003e\u003cspan style=\u0022color:#f92672\u0022\u003e\u002b\u002b\u003c\/span\u003e){\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etable\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003elist\u003c\/span\u003e[\u003cspan style=\u0022color:#a6e22e\u0022\u003ei\u003c\/span\u003e].\u003cspan style=\u0022color:#a6e22e\u0022\u003efirstElementChild\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003efirstElementChild\u003c\/span\u003e;\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecode\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003etable\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003efirstElementChild\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003efirstElementChild\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003echildNodes\u003c\/span\u003e[\u003cspan style=\u0022color:#ae81ff\u0022\u003e2\u003c\/span\u003e].\u003cspan style=\u0022color:#a6e22e\u0022\u003efirstElementChild\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003efirstElementChild\u003c\/span\u003e;\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecodeName\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e  \u003cspan style=\u0022color:#a6e22e\u0022\u003ecode\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e?\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecode\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eclassName\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003esplit\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;:\u0026#39;\u003c\/span\u003e)[\u003cspan style=\u0022color:#ae81ff\u0022\u003e1\u003c\/span\u003e] \u003cspan style=\u0022color:#f92672\u0022\u003e:\u003c\/span\u003e \u003cspan style=\u0022color:#66d9ef\u0022\u003enull\u003c\/span\u003e;\n  \u003cspan style=\u0022color:#66d9ef\u0022\u003eif\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ecodeName\u003c\/span\u003e) {\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003evar\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ediv\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e document.\u003cspan style=\u0022color:#a6e22e\u0022\u003ecreateElement\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;div\u0026#39;\u003c\/span\u003e);\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003ediv\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003etextContent\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e=\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003ecodeName\u003c\/span\u003e;\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003ediv\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eclassList\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eadd\u003c\/span\u003e(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#39;code-name\u0026#39;\u003c\/span\u003e);\n    \u003cspan style=\u0022color:#a6e22e\u0022\u003etable\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003eparentNode\u003c\/span\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003einsertBefore\u003c\/span\u003e(\u003cspan style=\u0022color:#a6e22e\u0022\u003ediv\u003c\/span\u003e, \u003cspan style=\u0022color:#a6e22e\u0022\u003etable\u003c\/span\u003e);\n  }\n}\n\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003e感覺抓element的方式非常差勁，大概會是史上最醜的code之一…\u003c\/p\u003e\n\u003cp\u003e然後稍微用css修飾一下\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-css\u0022 data-lang=\u0022css\u0022\u003e.\u003cspan style=\u0022color:#a6e22e\u0022\u003ehighlight\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003etd\u003c\/span\u003e:\u003cspan style=\u0022color:#a6e22e\u0022\u003efirst-child\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003epre\u003c\/span\u003e {\n\t\u003cspan style=\u0022color:#66d9ef\u0022\u003eborder-top-left-radius\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eunset\u003c\/span\u003e;\n\t\u003cspan style=\u0022color:#66d9ef\u0022\u003eborder-top-right-radius\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eunset\u003c\/span\u003e;\n\t\u003cspan style=\u0022color:#66d9ef\u0022\u003eborder-bottom-left-radius\u003c\/span\u003e: \u003cspan style=\u0022color:#ae81ff\u0022\u003e4\u003c\/span\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003epx\u003c\/span\u003e;\n\t\u003cspan style=\u0022color:#66d9ef\u0022\u003eborder-bottom-right-radius\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eunset\u003c\/span\u003e;\n\t\u003cspan style=\u0022color:#66d9ef\u0022\u003eoverflow\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003ehidden\u003c\/span\u003e;\n}\n\n.\u003cspan style=\u0022color:#a6e22e\u0022\u003ehighlight\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003etd\u003c\/span\u003e:\u003cspan style=\u0022color:#a6e22e\u0022\u003elast-child\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003epre\u003c\/span\u003e {\n\t\u003cspan style=\u0022color:#66d9ef\u0022\u003eborder-top-left-radius\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eunset\u003c\/span\u003e;\n\t\u003cspan style=\u0022color:#66d9ef\u0022\u003eborder-top-right-radius\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eunset\u003c\/span\u003e;\n\t\u003cspan style=\u0022color:#66d9ef\u0022\u003eborder-bottom-left-radius\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003eunset\u003c\/span\u003e;\n\t\u003cspan style=\u0022color:#66d9ef\u0022\u003eborder-bottom-right-radius\u003c\/span\u003e: \u003cspan style=\u0022color:#ae81ff\u0022\u003e4\u003c\/span\u003e\u003cspan style=\u0022color:#66d9ef\u0022\u003epx\u003c\/span\u003e;\n\t\u003cspan style=\u0022color:#66d9ef\u0022\u003eoverflow\u003c\/span\u003e: \u003cspan style=\u0022color:#66d9ef\u0022\u003ehidden\u003c\/span\u003e;\n}\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\u003cp\u003ecss也寫得不高明…\u003c\/p\u003e\n\u003cp\u003e完成！\u003c\/p\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cdiv style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\n\u003ctable style=\u0022border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\u0022\u003e\u003ctr\u003e\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e1\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e2\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e3\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e4\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e5\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e6\n\u003c\/span\u003e\u003cspan style=\u0022margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\u0022\u003e7\n\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\n\u003ctd style=\u0022vertical-align:top;padding:0;margin:0;border:0;;width:100%\u0022\u003e\n\u003cpre style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\u0022\u003e\u003ccode class=\u0022language-:Hello.c\u0022 data-lang=\u0022:Hello.c\u0022\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e#include\u003c\/span\u003e \u003cspan style=\u0022color:#75715e\u0022\u003e\u0026lt;stdio.h\u0026gt;\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\n\u003c\/span\u003e\u003cspan style=\u0022color:#75715e\u0022\u003e\u003c\/span\u003e\n\u003cspan style=\u0022color:#66d9ef\u0022\u003eint\u003c\/span\u003e \u003cspan style=\u0022color:#a6e22e\u0022\u003emain\u003c\/span\u003e(\u003cspan style=\u0022color:#66d9ef\u0022\u003eint\u003c\/span\u003e argc, \u003cspan style=\u0022color:#66d9ef\u0022\u003echar\u003c\/span\u003e \u003cspan style=\u0022color:#f92672\u0022\u003e*\u003c\/span\u003eargs[])\n{\n    printf(\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;Hello, world!\u003c\/span\u003e\u003cspan style=\u0022color:#ae81ff\u0022\u003e\\n\u003c\/span\u003e\u003cspan style=\u0022color:#e6db74\u0022\u003e\u0026#34;\u003c\/span\u003e);\n    \u003cspan style=\u0022color:#66d9ef\u0022\u003ereturn\u003c\/span\u003e \u003cspan style=\u0022color:#ae81ff\u0022\u003e0\u003c\/span\u003e;\n}\n\u003c\/code\u003e\u003c\/pre\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e\n\u003c\/div\u003e\n\u003c\/div\u003e\u003cp\u003esyntax也可以用副檔名判斷，意外地貼心！\n現階段還是臨時成軍，之後再修正吧…大概\u003c\/p\u003e',
    
    
      date: '2020-07-10',
    
    
      tags: '[Hugo]',
    
    
      categories: '[雜記]',
    
    
      author: '',
    
  },

]

posts.forEach(element => {element.categories = element.categories.slice(1, -1).split(' ')})
posts.forEach(element => {element.tags = element.tags.slice(1, -1).split(' ')})

vm.$set(vm.$data, 'posts', posts)




  var alltags = [
  
  'Angular',
  
  'Ansible',
  
  'Apache',
  
  'Celery',
  
  'Channels',
  
  'Django',
  
  'Docker',
  
  'EVE-NG',
  
  'Echarts',
  
  'Excel',
  
  'Flask',
  
  'Flask-Login',
  
  'Flask-Migrate',
  
  'Flask-SQLAlchemy',
  
  'Flask-WTF',
  
  'Hugo',
  
  'JavaScript',
  
  'Jieba',
  
  'Matplotlib',
  
  'Moment.js',
  
  'Nginx',
  
  'Node.js',
  
  'Prometheus',
  
  'Python',
  
  'RabbitMQ',
  
  'Scrapy',
  
  'TypeScript',
  
  'VBA',
  
  'VBScript',
  
  'Vue.js',
  
  'Vuetify',
  
  'ZTPServer',
  
  'pandas',
  
  'scikit-learn',
  
  'seaborn',
  
  'uWSGI',
  
  'vEOS',
  

  ]

  vm.$set(vm.$data, 'tags', alltags.sort())




  var allcategories = [
  
  '問題紀錄',
  
  '小技巧',
  
  '網頁製作',
  
  '資料分析',
  
  '運維管理',
  
  '雜記',
  

  ]

  vm.$set(vm.$data, 'categories', allcategories.sort())





  vm.$watch(() => vm.seltags, (tags)=>{
    var filteredposts = []
    if (tags.length > 0) {
      for (const post of vm.posts) {
          let checker = (arr, target) => target.every(v => arr.includes(v))
         if (checker(post.tags, tags)) {
              filteredposts.push(post)
         }
      }
      vm.$set(vm.$data, 'tfilteredposts', filteredposts)
    }else{
      vm.$set(vm.$data, 'tfilteredposts', [])
    }
  })


  vm.$watch(() => vm.selcategories, (categories)=>{
    var filteredposts = []
    if (categories) {
      for (const post of vm.posts) {
          let checker = (arr, target) => arr.includes(target)
         if (checker(post.categories, categories)) {
              filteredposts.push(post)
         }
      }
      vm.$set(vm.$data, 'cfilteredposts', filteredposts)
    }else{
      vm.$set(vm.$data, 'cfilteredposts', [])
    }
  })


</script>

<script src="https://mikanbearer.github.io/js/code-block.js"></script>
 


<script>
  




</script>


  </body>
</html>
