



    
        
    




{
  "result": {
    "content": "\u003cp\u003e基於製作SPA的需求，總是會需要個routing的，但選擇之多讓人眼花撩亂…\u003c/p\u003e\n\u003cp\u003e這次嘗試使用的是\u003ca href=\"https://github.com/EmilTholin/svelte-routing\" target=\"_blank\"\u003eSvelte Routing\u003c/a\u003e與\n\u003ca href=\"https://github.com/pynnl/svelte-hash-router\" target=\"_blank\"\u003esvelte-hash-router\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e來個快速跳轉：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca onclick=\"window.scrollTo({top: document.getElementById(1).offsetTop, behavior: 'smooth'})\"\u003eSvelte Routing\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca onclick=\"window.scrollTo({top: document.getElementById(2).offsetTop, behavior: 'smooth'})\"\u003esvelte-hash-router\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003ch3 id=1\u003eSvelte Routing\u003c/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cp\u003e首先是基於history的\u003ca href=\"https://github.com/EmilTholin/svelte-routing\" target=\"_blank\"\u003eSvelte Routing\u003c/a\u003e，google到的第一個是它所以就用看看了，沒什麼特別的理由\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ npm install --save svelte-routing\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003ch4 id=\"routing測試\"\u003eRouting測試\u003c/h4\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\nSvelte Routing用起來比較簡單，就像是單純在控制child componrnts一般，只是url也會一併被變更\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-:src/App.svelte\" data-lang=\":src/App.svelte\"\u003e\u0026lt;script\u0026gt;\n  import { Router, Link, Route } from \u0026quot;svelte-routing\u0026quot;;\n  import Home from \u0026quot;./routes/Home.svelte\u0026quot;;\n  import Foo from \u0026quot;./routes/Foo.svelte\u0026quot;;\n  import Bar from \u0026quot;./routes/Bar.svelte\u0026quot;;\n\n  export let url = \u0026quot;\u0026quot;;\n\u0026lt;/script\u0026gt;\n\n\u0026lt;Router url=\u0026quot;{url}\u0026quot;\u0026gt;\n  \u0026lt;nav\u0026gt;\n    \u0026lt;Link to=\u0026quot;/\u0026quot;\u0026gt;Home\u0026lt;/Link\u0026gt;\n    \u0026lt;Link to=\u0026quot;Foo\u0026quot;\u0026gt;Foo\u0026lt;/Link\u0026gt;\n    \u0026lt;Link to=\u0026quot;Bar\u0026quot;\u0026gt;Bar\u0026lt;/Link\u0026gt;\n  \u0026lt;/nav\u0026gt;\n  \u0026lt;div\u0026gt;\n    \u0026lt;Route path=\u0026quot;/\u0026quot;\u0026gt;\u0026lt;Home /\u0026gt;\u0026lt;/Route\u0026gt;\n    \u0026lt;Route path=\u0026quot;Foo\u0026quot; component=\u0026quot;{Foo}\u0026quot; /\u0026gt;\n    \u0026lt;Route path=\u0026quot;Bar\u0026quot; component=\u0026quot;{Bar}\u0026quot; /\u0026gt;\n  \u0026lt;/div\u0026gt;\n\u0026lt;/Router\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n測試用的components\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-:src/Home.svelte\" data-lang=\":src/Home.svelte\"\u003e\u0026lt;p\u0026gt;Home\u0026lt;/p\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-:src/Foo.svelte\" data-lang=\":src/Foo.svelte\"\u003e\u0026lt;p\u0026gt;Foo\u0026lt;/p\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-:src/Bar.svelte\" data-lang=\":src/Bar.svelte\"\u003e\u0026lt;p\u0026gt;Bar\u0026lt;/p\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cp\u003e使用browser打開看看\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"1.gif\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003ch4 id=\"param測試\"\u003eParam測試\u003c/h4\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n傳遞params的方式也跟一般props的方式差不多\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-:src/App.svelte\" data-lang=\":src/App.svelte\"\u003e\u0026lt;script\u0026gt;\n  import { Router, Link, Route } from \u0026quot;svelte-routing\u0026quot;;\n  import Home from \u0026quot;./routes/Home.svelte\u0026quot;;\n  import Foo from \u0026quot;./routes/Foo.svelte\u0026quot;;\n  import Bar from \u0026quot;./routes/Bar.svelte\u0026quot;;\n\n  export let url = \u0026quot;\u0026quot;;\n\u0026lt;/script\u0026gt;\n\n\u0026lt;Router url=\u0026quot;{url}\u0026quot;\u0026gt;\n  \u0026lt;nav\u0026gt;\n    \u0026lt;Link to=\u0026quot;/\u0026quot;\u0026gt;Home\u0026lt;/Link\u0026gt;\n    \u0026lt;Link to=\u0026quot;foo\u0026quot;\u0026gt;Foo\u0026lt;/Link\u0026gt;\n    \u0026lt;Link to=\u0026quot;bar/123\u0026quot;\u0026gt;Bar\u0026lt;/Link\u0026gt;\n  \u0026lt;/nav\u0026gt;\n  \u0026lt;div\u0026gt;\n    \u0026lt;Route path=\u0026quot;/\u0026quot;\u0026gt;\u0026lt;Home /\u0026gt;\u0026lt;/Route\u0026gt;\n    \u0026lt;Route path=\u0026quot;foo\u0026quot; component=\u0026quot;{Foo}\u0026quot; /\u0026gt;\n    \u0026lt;Route path=\u0026quot;bar/:id\u0026quot; let:params\u0026gt;\n\t  \u0026lt;Bar params=\u0026quot;{params}\u0026quot; /\u0026gt;\n\t\u0026lt;/Route\u0026gt;\n  \u0026lt;/div\u0026gt;\n\u0026lt;/Router\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n倒楣被拿來測試的Bar\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-:src/Bar.svelte\" data-lang=\":src/Bar.svelte\"\u003e\u0026lt;script\u0026gt;\n  export let params;\n\u0026lt;/script\u0026gt;\n\n\u0026lt;p\u0026gt;Bar\u0026lt;/p\u0026gt;\n{#if Object.keys(params).length}\n\u0026lt;p\u0026gt;{JSON.stringify(params)}\u0026lt;/p\u0026gt;\n{/if}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cp\u003e從browser嘗試結果\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"2.gif\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003ch4 id=\"queqy測試\"\u003eQueqy測試\u003c/h4\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n似乎不支援query\n\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003ch3 id=2\u003esvelte-hash-router\u003c/h3\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n再來是\u003ca href=\"https://github.com/pynnl/svelte-hash-router\" target=\"_blank\"\u003esvelte-hash-router\u003c/a\u003e，\n其實這個跟\u003ca href=\"https://github.com/ItalyPaleAle/svelte-spa-router\" target=\"_blank\"\u003esvelte-spa-router\u003c/a\u003e雷同，一樣是hash based router，雖然後者較知名，但看到前者個README比較簡短且簡單裝簡單用就選擇前者了\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ npm install --save svelte-hash-router\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003ch4 id=\"routing測試-1\"\u003eRouting測試\u003c/h4\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n和剛才的Svelte Routing比較不同的是import到main.js，而不是當作App.svelte的components\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-:src/main.js\" data-lang=\":src/main.js\"\u003e\u003cspan style=\"color:#66d9ef\"\u003eimport\u003c/span\u003e { \u003cspan style=\"color:#a6e22e\"\u003eroutes\u003c/span\u003e } \u003cspan style=\"color:#a6e22e\"\u003efrom\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;svelte-hash-router\u0026#39;\u003c/span\u003e\n\u003cspan style=\"color:#66d9ef\"\u003eimport\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eApp\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efrom\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;./App.svelte\u0026#39;\u003c/span\u003e\n\u003cspan style=\"color:#66d9ef\"\u003eimport\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eHome\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efrom\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;./routes/Home.svelte\u0026#39;\u003c/span\u003e\n\u003cspan style=\"color:#66d9ef\"\u003eimport\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eFoo\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efrom\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;./routes/Foo.svelte\u0026#39;\u003c/span\u003e\n\u003cspan style=\"color:#66d9ef\"\u003eimport\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eBar\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efrom\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;./routes/Bar.svelte\u0026#39;\u003c/span\u003e\n\n\u003cspan style=\"color:#a6e22e\"\u003eroutes\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eset\u003c/span\u003e({\n  \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eHome\u003c/span\u003e,\n  \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/foo\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eFoo\u003c/span\u003e,\n  \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/bar\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eBar\u003c/span\u003e\n})\n\n\u003cspan style=\"color:#66d9ef\"\u003eexport\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003edefault\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003enew\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eApp\u003c/span\u003e({ \u003cspan style=\"color:#a6e22e\"\u003etarget\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e document.\u003cspan style=\"color:#a6e22e\"\u003ebody\u003c/span\u003e })\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cp\u003eNavbar寫在App.svelte，而Router view則做為作為一個nested component使用\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-:src/App.svelte\" data-lang=\":src/App.svelte\"\u003e\u0026lt;script\u0026gt;\nimport Router from 'svelte-hash-router'\n\u0026lt;/script\u0026gt;\n\u0026lt;nav\u0026gt;\n  \u0026lt;a href=\u0026quot;/\u0026quot;\u0026gt;Home\u0026lt;/a\u0026gt;\n  \u0026lt;a href=\u0026quot;#/foo\u0026quot;\u0026gt;Foo\u0026lt;/a\u0026gt;\n  \u0026lt;a href=\u0026quot;#/bar\u0026quot;\u0026gt;Bar\u0026lt;/a\u0026gt;\n\u0026lt;/nav\u0026gt;\n\u0026lt;Router/\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n和剛才一模一樣的components\n\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-:src/Home.svelte\" data-lang=\":src/Home.svelte\"\u003e\u0026lt;p\u0026gt;Home\u0026lt;/p\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-:src/Foo.svelte\" data-lang=\":src/Foo.svelte\"\u003e\u0026lt;p\u0026gt;Foo\u0026lt;/p\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-:src/Bar.svelte\" data-lang=\":src/Bar.svelte\"\u003e\u0026lt;p\u0026gt;Bar\u0026lt;/p\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cp\u003e測試\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"4.gif\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003ch4 id=\"query\"\u003eQuery\u003c/h4\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n有了\u0026quot;#\u0026ldquo;可以自由一些，這次用Home來作為layout出整個query的component\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-:src/Home.svelte\" data-lang=\":src/Home.svelte\"\u003e\u0026lt;script\u0026gt;\n  import { query } from 'svelte-hash-router'\n\u0026lt;/script\u0026gt;\n\n\u0026lt;p\u0026gt;Home\u0026lt;/p\u0026gt;\n\n{#if Object.keys($query).length}\n\u0026lt;p\u0026gt;{JSON.stringify($query)}\u0026lt;/p\u0026gt;\n{/if}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"5.gif\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003ch4 id=\"param\"\u003eParam\u003c/h4\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n這次在routes中動手腳\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-:src/main.js\" data-lang=\":src/main.js\"\u003e\u003cspan style=\"color:#66d9ef\"\u003eimport\u003c/span\u003e { \u003cspan style=\"color:#a6e22e\"\u003eroutes\u003c/span\u003e } \u003cspan style=\"color:#a6e22e\"\u003efrom\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;svelte-hash-router\u0026#39;\u003c/span\u003e\n\u003cspan style=\"color:#66d9ef\"\u003eimport\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eApp\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efrom\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;./App.svelte\u0026#39;\u003c/span\u003e\n\u003cspan style=\"color:#66d9ef\"\u003eimport\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eHome\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efrom\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;./routes/Home.svelte\u0026#39;\u003c/span\u003e\n\u003cspan style=\"color:#66d9ef\"\u003eimport\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eFoo\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efrom\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;./routes/Foo.svelte\u0026#39;\u003c/span\u003e\n\u003cspan style=\"color:#66d9ef\"\u003eimport\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eBar\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efrom\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;./routes/Bar.svelte\u0026#39;\u003c/span\u003e\n\n\u003cspan style=\"color:#a6e22e\"\u003eroutes\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eset\u003c/span\u003e({\n  \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/:test\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eHome\u003c/span\u003e,\n  \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/foo\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eFoo\u003c/span\u003e,\n  \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/bar\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eBar\u003c/span\u003e\n})\n\n\u003cspan style=\"color:#66d9ef\"\u003eexport\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003edefault\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003enew\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eApp\u003c/span\u003e({ \u003cspan style=\"color:#a6e22e\"\u003etarget\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e document.\u003cspan style=\"color:#a6e22e\"\u003ebody\u003c/span\u003e })\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n一樣為了layout出整個params的component\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-:src/Home.svelte\" data-lang=\":src/Home.svelte\"\u003e\u0026lt;script\u0026gt;\n  import { params } from 'svelte-hash-router'\n\u0026lt;/script\u0026gt;\n\n\u0026lt;p\u0026gt;Home\u0026lt;/p\u0026gt;\n\n{#if Object.keys($params).length}\n\u0026lt;p\u0026gt;{JSON.stringify($params)}\u0026lt;/p\u0026gt;\n{/if}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"6.gif\" alt=\"\"\u003e\u003c/p\u003e",
    "kind": "page",
    "params": {
      "categories": [
        "Web Development"
      ],
      "date": "2020-12-07T17:23:59+08:00",
      "draft": false,
      "iscjklanguage": true,
      "lastmod": "2020-12-07T17:23:59+08:00",
      "publishdate": "2020-12-07T17:23:59+08:00",
      "tags": [
        "Svelte",
        "JavaScript"
      ],
      "title": "兩種Svelte的Router練習"
    },
    "permalink": "https://mikanbearer.github.io/posts/2020/12/202012071723/index.json",
    "type": "posts",
    "wordcount": 886
  }
}