



    
        
    




{
  "result": {
    "content": "\u003cp\u003e回味一下以前用過的工具們，唯一不同的就是在Docker host上安裝，因為速度很快很適合測試之用，用在正式環境的話稍微tuning一下也不是不能用\u003c/p\u003e\n\u003cp\u003e這次部屬的有Cacti、Nagios、LibreNMS，單獨部屬太空洞所以三個塞一篇\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca onclick=\"window.scrollTo({top: document.getElementById(1).offsetTop, behavior: 'smooth'})\"\u003eLibreNMS\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca onclick=\"window.scrollTo({top: document.getElementById(2).offsetTop, behavior: 'smooth'})\"\u003eCacti\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca onclick=\"window.scrollTo({top: document.getElementById(3).offsetTop, behavior: 'smooth'})\"\u003eNagios\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n本篇以最少最快為宗旨，以盡可能不變更任何檔案為原則\u003c/p\u003e\n\u003ch3 id=1\u003eLibreNMS\u003c/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n首先是\u003cstrong\u003eLibreNMS\u003c/strong\u003e(\u003ca href=\"https://www.librenms.org/\"\u003ehttps://www.librenms.org/\u003c/a\u003e)，算是個人比較喜歡的一個RRDtool based的監控工具，有點後起之秀的感覺，官方有提供docker的方式安裝，簡單快速\u003c/p\u003e\n\u003cp\u003e先下載librenms/docker的git repository\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ git clone https://github.com/librenms/docker/\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cp\u003e裡面很貼心的有個範例的compose file，而有些environment variable則放在兩個.env的檔案中，標註在下列四行\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\n\u003ctable style=\"border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\"\u003e\u003ctr\u003e\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e  1\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e  2\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e  3\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e  4\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e  5\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e  6\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e  7\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e  8\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e  9\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 10\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 11\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 12\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 13\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 14\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 15\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 16\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 17\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 18\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 19\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 20\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 21\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 22\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 23\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 24\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 25\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 26\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 27\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 28\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 29\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 30\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 31\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 32\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 33\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 34\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 35\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 36\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 37\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 38\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 39\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 40\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 41\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 42\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 43\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 44\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 45\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 46\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 47\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 48\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 49\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 50\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 51\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 52\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 53\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 54\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 55\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 56\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 57\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 58\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 59\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 60\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 61\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 62\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 63\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 64\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 65\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 66\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 67\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 68\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 69\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 70\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 71\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 72\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 73\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 74\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 75\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 76\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 77\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 78\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 79\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 80\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 81\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 82\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 83\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 84\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 85\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 86\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 87\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 88\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 89\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 90\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 91\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 92\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 93\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 94\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 95\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 96\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 97\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 98\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 99\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e100\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e101\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e102\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e103\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e104\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e105\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e106\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e107\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e108\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e109\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e110\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e111\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e112\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e113\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e114\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e115\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e116\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e117\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e118\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e119\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e120\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e121\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e122\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e123\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e124\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e125\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e126\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e127\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e128\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e129\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e130\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e131\n\u003c/span\u003e\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e132\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e133\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e134\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e135\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e136\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e137\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e138\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e139\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e140\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e141\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e142\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e143\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;;width:100%\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-:docker/examples/compose/docker-compose.yml\" data-lang=\":docker/examples/compose/docker-compose.yml\"\u003e\u003cspan style=\"color:#f92672\"\u003eversion\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;3.5\u0026#34;\u003c/span\u003e\n\n\u003cspan style=\"color:#f92672\"\u003eservices\u003c/span\u003e:\n  \u003cspan style=\"color:#f92672\"\u003edb\u003c/span\u003e:\n    \u003cspan style=\"color:#f92672\"\u003eimage\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003emariadb:10.4\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003econtainer_name\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003elibrenms_db\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003ecommand\u003c/span\u003e:\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;mysqld\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;--innodb-file-per-table=1\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;--lower-case-table-names=0\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;--character-set-server=utf8\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;--collation-server=utf8_unicode_ci\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003evolumes\u003c/span\u003e:\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;./db:/var/lib/mysql\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003eenvironment\u003c/span\u003e:\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;TZ=${TZ}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;MYSQL_ALLOW_EMPTY_PASSWORD=yes\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;MYSQL_DATABASE=${MYSQL_DATABASE}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;MYSQL_USER=${MYSQL_USER}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;MYSQL_PASSWORD=${MYSQL_PASSWORD}\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003erestart\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003ealways\u003c/span\u003e\n\n  \u003cspan style=\"color:#f92672\"\u003ememcached\u003c/span\u003e:\n    \u003cspan style=\"color:#f92672\"\u003eimage\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003ememcached:alpine\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003econtainer_name\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003elibrenms_memcached\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003eenvironment\u003c/span\u003e:\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;TZ=${TZ}\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003erestart\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003ealways\u003c/span\u003e\n\n  \u003cspan style=\"color:#f92672\"\u003eredis\u003c/span\u003e:\n    \u003cspan style=\"color:#f92672\"\u003eimage\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003eredis:5.0-alpine\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003econtainer_name\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003elibrenms_redis\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003eenvironment\u003c/span\u003e:\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;TZ=${TZ}\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003erestart\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003ealways\u003c/span\u003e\n\n  \u003cspan style=\"color:#f92672\"\u003errdcached\u003c/span\u003e:\n    \u003cspan style=\"color:#f92672\"\u003eimage\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003ecrazymax/rrdcached\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003econtainer_name\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003elibrenms_rrdcached\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003evolumes\u003c/span\u003e:\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;./librenms/rrd:/data/db\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;./rrd-journal:/data/journal\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003eenvironment\u003c/span\u003e:\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;TZ=${TZ}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;PUID=${PUID}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;PGID=${PGID}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;LOG_LEVEL=LOG_INFO\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;WRITE_TIMEOUT=1800\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;WRITE_JITTER=1800\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;WRITE_THREADS=4\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;FLUSH_DEAD_DATA_INTERVAL=3600\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003erestart\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003ealways\u003c/span\u003e\n\n  \u003cspan style=\"color:#f92672\"\u003emsmtpd\u003c/span\u003e:\n    \u003cspan style=\"color:#f92672\"\u003eimage\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003ecrazymax/msmtpd:latest\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003econtainer_name\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003elibrenms_msmtpd\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003eenv_file\u003c/span\u003e:\n\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;./msmtpd.env\u0026#34;\u003c/span\u003e\n\u003c/span\u003e    \u003cspan style=\"color:#f92672\"\u003erestart\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003ealways\u003c/span\u003e\n\n  \u003cspan style=\"color:#f92672\"\u003elibrenms\u003c/span\u003e:\n    \u003cspan style=\"color:#f92672\"\u003eimage\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003elibrenms/librenms:latest\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003econtainer_name\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003elibrenms\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003ehostname\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003elibrenms\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003eports\u003c/span\u003e:\n      - \u003cspan style=\"color:#f92672\"\u003etarget\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003e8000\u003c/span\u003e\n        \u003cspan style=\"color:#f92672\"\u003epublished\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003e8000\u003c/span\u003e\n        \u003cspan style=\"color:#f92672\"\u003eprotocol\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003etcp\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003edepends_on\u003c/span\u003e:\n      - \u003cspan style=\"color:#ae81ff\"\u003edb\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003ememcached\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003errdcached\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003emsmtpd\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003evolumes\u003c/span\u003e:\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;./librenms:/data\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003eenv_file\u003c/span\u003e:\n\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;./librenms.env\u0026#34;\u003c/span\u003e\n\u003c/span\u003e    \u003cspan style=\"color:#f92672\"\u003eenvironment\u003c/span\u003e:\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;TZ=${TZ}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;PUID=${PUID}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;PGID=${PGID}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;DB_HOST=db\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;DB_NAME=${MYSQL_DATABASE}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;DB_USER=${MYSQL_USER}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;DB_PASSWORD=${MYSQL_PASSWORD}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;DB_TIMEOUT=60\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003erestart\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003ealways\u003c/span\u003e\n\n  \u003cspan style=\"color:#f92672\"\u003edispatcher\u003c/span\u003e:\n    \u003cspan style=\"color:#f92672\"\u003eimage\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003elibrenms/librenms:latest\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003econtainer_name\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003elibrenms_dispatcher\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003ehostname\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003elibrenms-dispatcher\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003edepends_on\u003c/span\u003e:\n      - \u003cspan style=\"color:#ae81ff\"\u003elibrenms\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003eredis\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003evolumes\u003c/span\u003e:\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;./librenms:/data\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003eenv_file\u003c/span\u003e:\n\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;./librenms.env\u0026#34;\u003c/span\u003e\n\u003c/span\u003e    \u003cspan style=\"color:#f92672\"\u003eenvironment\u003c/span\u003e:\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;TZ=${TZ}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;PUID=${PUID}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;PGID=${PGID}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;DB_HOST=db\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;DB_NAME=${MYSQL_DATABASE}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;DB_USER=${MYSQL_USER}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;DB_PASSWORD=${MYSQL_PASSWORD}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;DB_TIMEOUT=60\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;DISPATCHER_NODE_ID=dispatcher1\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;REDIS_HOST=redis\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;REDIS_PORT=6379\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;REDIS_DB=0\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;SIDECAR_DISPATCHER=1\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003erestart\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003ealways\u003c/span\u003e\n\n  \u003cspan style=\"color:#f92672\"\u003esyslogng\u003c/span\u003e:\n    \u003cspan style=\"color:#f92672\"\u003eimage\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003elibrenms/librenms:latest\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003econtainer_name\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003elibrenms_syslogng\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003ehostname\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003elibrenms-syslogng\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003edepends_on\u003c/span\u003e:\n      - \u003cspan style=\"color:#ae81ff\"\u003elibrenms\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003eports\u003c/span\u003e:\n      - \u003cspan style=\"color:#f92672\"\u003etarget\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003e514\u003c/span\u003e\n        \u003cspan style=\"color:#f92672\"\u003epublished\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003e514\u003c/span\u003e\n        \u003cspan style=\"color:#f92672\"\u003eprotocol\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003etcp\u003c/span\u003e\n      - \u003cspan style=\"color:#f92672\"\u003etarget\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003e514\u003c/span\u003e\n        \u003cspan style=\"color:#f92672\"\u003epublished\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003e514\u003c/span\u003e\n        \u003cspan style=\"color:#f92672\"\u003eprotocol\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003eudp\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003evolumes\u003c/span\u003e:\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;./librenms:/data\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003eenv_file\u003c/span\u003e:\n\u003cspan style=\"display:block;width:100%;background-color:#3c3d38\"\u003e      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;./librenms.env\u0026#34;\u003c/span\u003e\n\u003c/span\u003e    \u003cspan style=\"color:#f92672\"\u003eenvironment\u003c/span\u003e:\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;TZ=${TZ}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;PUID=${PUID}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;PGID=${PGID}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;DB_HOST=db\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;DB_NAME=${MYSQL_DATABASE}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;DB_USER=${MYSQL_USER}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;DB_PASSWORD=${MYSQL_PASSWORD}\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;DB_TIMEOUT=60\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;SIDECAR_SYSLOGNG=1\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003erestart\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003ealways\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n兩個.env的檔案\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-:docker/examples/compose/librenms.env\" data-lang=\":docker/examples/compose/librenms.env\"\u003eMEMORY_LIMIT=256M\r\nUPLOAD_MAX_SIZE=16M\r\nOPCACHE_MEM_SIZE=128\r\nREAL_IP_FROM=0.0.0.0/32\r\nREAL_IP_HEADER=X-Forwarded-For\r\nLOG_IP_VAR=remote_addr\r\n\r\nLIBRENMS_SNMP_COMMUNITY=librenmsdocker\r\nMEMCACHED_HOST=memcached\r\nMEMCACHED_PORT=11211\r\nRRDCACHED_HOST=rrdcached\r\nRRDCACHED_PORT=42217\r\n\r\nLIBRENMS_WEATHERMAP=false\r\nLIBRENMS_WEATHERMAP_SCHEDULE=*/5 * * * *\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-:docker/examples/compose/msmtpd.env\" data-lang=\":docker/examples/compose/msmtpd.env\"\u003e# https://github.com/crazy-max/docker-msmtpd\r\nSMTP_HOST=smtp.gmail.com\r\nSMTP_PORT=587\r\nSMTP_TLS=on\r\nSMTP_STARTTLS=on\r\nSMTP_TLS_CHECKCERT=on\r\nSMTP_AUTH=on\r\nSMTP_USER=foo\r\nSMTP_PASSWORD=bar\r\nSMTP_FROM=foo@gmail.com\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e如此一來能輕鬆部屬在任何docker-compose環境或swarm cluster\n\u003cbr\u003e\u003c/br\u003e\n只要簡簡單單的指令就能使用了\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ cd docker/examples/compose/\r\n# docker-compose up\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n連上剛才compose file裡記述的port 8000就能看到登入畫面，預設的帳號密碼皆為librenms\u003c/p\u003e\n\u003cimg style=\"display:inline;\" width=\"50%\" src=\"1.png\"\u003e\r\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003ch3 id=2\u003eCacti\u003c/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n老牌的RRDtool based監控工具\u003cstrong\u003eCacti\u003c/strong\u003e(\u003ca href=\"https://www.cacti.net/index.php\"\u003ehttps://www.cacti.net/\u003c/a\u003e)，和前面的LibreNMS不同，官方沒有docker的安裝方式\u003c/p\u003e\n\u003cp\u003e但這裡有大佬的範例\u003ca href=\"https://github.com/scline/docker-cacti\"\u003ehttps://github.com/scline/docker-cacti\u003c/a\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ mkdir cacti\r\n$ cd cacti\r\n$ git clone https://github.com/scline/docker-cacti\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n這裡選擇的是cacti_single_install.yml，cacti_multi_.yml與cacti_multi_shared.yml是multi node用的\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-:docker-cacti/docker-compose/cacti_single_install.yml\" data-lang=\":docker-cacti/docker-compose/cacti_single_install.yml\"\u003e\u003cspan style=\"color:#f92672\"\u003eversion\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;2\u0026#39;\u003c/span\u003e\n\u003cspan style=\"color:#f92672\"\u003eservices\u003c/span\u003e:\n\n\n  \u003cspan style=\"color:#f92672\"\u003ecacti\u003c/span\u003e:\n    \u003cspan style=\"color:#f92672\"\u003eimage\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;smcline06/cacti\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003econtainer_name\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003ecacti\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003edomainname\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003eexample.com\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003ehostname\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003ecacti\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003eports\u003c/span\u003e:\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;80:80\u0026#34;\u003c/span\u003e\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;443:443\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003eenvironment\u003c/span\u003e:\n      - \u003cspan style=\"color:#ae81ff\"\u003eDB_NAME=cacti_master\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003eDB_USER=cactiuser\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003eDB_PASS=cactipassword\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003eDB_HOST=db\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003eDB_PORT=3306\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003eDB_ROOT_PASS=rootpassword\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003eINITIALIZE_DB=1\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003eTZ=America/Los_Angeles\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003evolumes\u003c/span\u003e:\n      - \u003cspan style=\"color:#ae81ff\"\u003ecacti-data:/cacti\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003ecacti-spine:/spine\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003ecacti-backups:/backups\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003elinks\u003c/span\u003e:\n      - \u003cspan style=\"color:#ae81ff\"\u003edb\u003c/span\u003e\n\n\n  \u003cspan style=\"color:#f92672\"\u003edb\u003c/span\u003e:\n    \u003cspan style=\"color:#f92672\"\u003eimage\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;mariadb:10.3\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003econtainer_name\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003ecacti_db\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003edomainname\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003eexample.com\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003ehostname\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003edb\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003eports\u003c/span\u003e:\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;3306:3306\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003ecommand\u003c/span\u003e:\n      - \u003cspan style=\"color:#ae81ff\"\u003emysqld\u003c/span\u003e\n      - --\u003cspan style=\"color:#ae81ff\"\u003echaracter-set-server=utf8mb4\u003c/span\u003e\n      - --\u003cspan style=\"color:#ae81ff\"\u003ecollation-server=utf8mb4_unicode_ci\u003c/span\u003e\n      - --\u003cspan style=\"color:#ae81ff\"\u003emax_connections=200\u003c/span\u003e\n      - --\u003cspan style=\"color:#ae81ff\"\u003emax_heap_table_size=128M\u003c/span\u003e\n      - --\u003cspan style=\"color:#ae81ff\"\u003emax_allowed_packet=32M\u003c/span\u003e\n      - --\u003cspan style=\"color:#ae81ff\"\u003etmp_table_size=128M\u003c/span\u003e\n      - --\u003cspan style=\"color:#ae81ff\"\u003ejoin_buffer_size=128M\u003c/span\u003e\n      - --\u003cspan style=\"color:#ae81ff\"\u003einnodb_buffer_pool_size=1G\u003c/span\u003e\n      - --\u003cspan style=\"color:#ae81ff\"\u003einnodb_doublewrite=ON\u003c/span\u003e\n      - --\u003cspan style=\"color:#ae81ff\"\u003einnodb_flush_log_at_timeout=3\u003c/span\u003e\n      - --\u003cspan style=\"color:#ae81ff\"\u003einnodb_read_io_threads=32\u003c/span\u003e\n      - --\u003cspan style=\"color:#ae81ff\"\u003einnodb_write_io_threads=16\u003c/span\u003e\n      - --\u003cspan style=\"color:#ae81ff\"\u003einnodb_buffer_pool_instances=9\u003c/span\u003e\n      - --\u003cspan style=\"color:#ae81ff\"\u003einnodb_file_format=Barracuda\u003c/span\u003e\n      - --\u003cspan style=\"color:#ae81ff\"\u003einnodb_large_prefix=1\u003c/span\u003e\n      - --\u003cspan style=\"color:#ae81ff\"\u003einnodb_io_capacity=5000\u003c/span\u003e\n      - --\u003cspan style=\"color:#ae81ff\"\u003einnodb_io_capacity_max=10000\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003eenvironment\u003c/span\u003e:\n      - \u003cspan style=\"color:#ae81ff\"\u003eMYSQL_ROOT_PASSWORD=rootpassword\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003eTZ=America/Los_Angeles\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003evolumes\u003c/span\u003e:\n      - \u003cspan style=\"color:#ae81ff\"\u003ecacti-db:/var/lib/mysql\u003c/span\u003e\n\n\n\u003cspan style=\"color:#f92672\"\u003evolumes\u003c/span\u003e:\n  \u003cspan style=\"color:#f92672\"\u003ecacti-db\u003c/span\u003e:\n  \u003cspan style=\"color:#f92672\"\u003ecacti-data\u003c/span\u003e:\n  \u003cspan style=\"color:#f92672\"\u003ecacti-spine\u003c/span\u003e:\n  \u003cspan style=\"color:#f92672\"\u003ecacti-backups\u003c/span\u003e:\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\ndocker-compose的設定預設是抓docker-compose.yml或docker-compose.yaml，不更改檔名的話就加上-f這個option\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ cd docker-cacti/docker-compose\r\n# docker-compose -f cacti_single_install.yml up\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n連上compose file內記載的port 80即可看到招牌仙人掌，帳號密碼皆為admin，登入就可以開始初期設定了\u003c/p\u003e\n\u003cimg style=\"display:inline;\" width=\"50%\" src=\"2.png\"\u003e\r\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\u003c/p\u003e\n\u003ch3 id=3\u003eNagios\u003c/h3\u003e\r\n\u003chr\u003e\n\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n最後是\u003cstrong\u003eNagios\u003c/strong\u003e(\u003ca href=\"https://www.nagios.org/\"\u003ehttps://www.nagios.org/\u003c/a\u003e)，也是知名度挺高的老牌工具，似乎比Cacti年輕一點點，和cacti一樣使用大佬寫好的compose file\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/ethnchao/docker-nagios\"\u003ehttps://github.com/ethnchao/docker-nagios\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e一樣先下載git repo\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ mkdir nagios\r\n# git clone https://github.com/ethnchao/docker-nagios\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n裡面就一個compose file\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-:docker-nagios/docker-compose.yml\" data-lang=\":docker-nagios/docker-compose.yml\"\u003e\u003cspan style=\"color:#f92672\"\u003eversion\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;2\u0026#39;\u003c/span\u003e\n\u003cspan style=\"color:#f92672\"\u003eservices\u003c/span\u003e:\n  \u003cspan style=\"color:#f92672\"\u003enagios\u003c/span\u003e:\n    \u003cspan style=\"color:#f92672\"\u003eimage\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003eethnchao/nagios\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003econtainer_name\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003enagios\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003ecommand\u003c/span\u003e: --\u003cspan style=\"color:#ae81ff\"\u003eenable-ndo --create-db --server-url http://192.168.101.100:4000\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003eports\u003c/span\u003e:\n      - \u003cspan style=\"color:#ae81ff\"\u003e4000\u003c/span\u003e:\u003cspan style=\"color:#ae81ff\"\u003e80\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003e4001\u003c/span\u003e:\u003cspan style=\"color:#ae81ff\"\u003e3000\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003erestart\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003ealways\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003elogging\u003c/span\u003e:\n      \u003cspan style=\"color:#f92672\"\u003eoptions\u003c/span\u003e:\n        \u003cspan style=\"color:#f92672\"\u003emax-size\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;10m\u0026#34;\u003c/span\u003e\n        \u003cspan style=\"color:#f92672\"\u003emax-file\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;10\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003edepends_on\u003c/span\u003e:\n      - \u003cspan style=\"color:#ae81ff\"\u003enagios_mysql\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003evolumes\u003c/span\u003e:\n      - \u003cspan style=\"color:#ae81ff\"\u003e./data/plugin:/data/plugin\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003e./data/conf:/usr/local/nagios/etc/mount\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003e./data/example:/data/example\u003c/span\u003e\n\n  \u003cspan style=\"color:#f92672\"\u003enagios_mysql\u003c/span\u003e:\n    \u003cspan style=\"color:#f92672\"\u003eimage\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003emysql:5.6\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003econtainer_name\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003emysql\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003eports\u003c/span\u003e:\n      - \u003cspan style=\"color:#ae81ff\"\u003e3306\u003c/span\u003e:\u003cspan style=\"color:#ae81ff\"\u003e3306\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003erestart\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003ealways\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003elogging\u003c/span\u003e:\n      \u003cspan style=\"color:#f92672\"\u003eoptions\u003c/span\u003e:\n        \u003cspan style=\"color:#f92672\"\u003emax-size\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;10m\u0026#34;\u003c/span\u003e\n        \u003cspan style=\"color:#f92672\"\u003emax-file\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;10\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003eenvironment\u003c/span\u003e:\n      - \u003cspan style=\"color:#ae81ff\"\u003eMYSQL_USER=nagios\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003eMYSQL_PASSWORD=nagios\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003eMYSQL_ADDRESS=nagios_mysql\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003eMYSQL_DATABASE=nagios\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003eMYSQL_RANDOM_ROOT_PASSWORD=yes\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003evolumes\u003c/span\u003e:\n      - \u003cspan style=\"color:#ae81ff\"\u003enagios_db_data:/var/lib/mysql\u003c/span\u003e\n\n\u003cspan style=\"color:#f92672\"\u003evolumes\u003c/span\u003e:\n  \u003cspan style=\"color:#f92672\"\u003enagios_db_data\u003c/span\u003e:\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n指令按下去就能部屬了\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ cd docker-nagios\r\n# docker-compose up\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003c/br\u003e\n完成後有port 4000的nagios(user: nagiosadmin, pass: nagios)與port 4001的grafana (user: admin, pass: admin)\u003c/p\u003e\n\u003cimg width=\"50%\" src=\"3.png\"\u003e\r\n\u003cimg width=\"50%\" src=\"4.png\"\u003e",
    "kind": "page",
    "params": {
      "categories": [
        "Deployment"
      ],
      "date": "2020-10-19T14:29:51+08:00",
      "draft": false,
      "iscjklanguage": true,
      "lastmod": "2020-10-19T14:29:51+08:00",
      "publishdate": "2020-10-19T14:29:51+08:00",
      "tags": [
        "Docker",
        "LibreNMS",
        "Cacti",
        "Nagios"
      ],
      "title": "使用docker-compose輕鬆部屬監控工具"
    },
    "permalink": "https://mikanbearer.github.io/posts/2020/10/202010191429/index.json",
    "type": "posts",
    "wordcount": 1591
  }
}