



    
        
    




{
  "result": {
    "content": "\u003cp\u003e雖然docker-compose真的很方便，為了一鍵部屬些東西，還是爬一下文，避免處處碰壁…\u003c/p\u003e\n\u003cp\u003e這次使用以下兩篇舊文的範例來練習\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://mikanbearer.github.io/myblog/posts/202007262314/\"\u003e使用製作Vue.js + Vuetify製作SPA登入畫面\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://mikanbearer.github.io/myblog/posts/202007201501/\"\u003e使用Django REST framework超高速部屬RESTful API (2)\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e練習中使用compose file來部屬，所以建立兩個container，\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e第一個問題來了\u003c/strong\u003e \n既然是SPA，在不使用localhost的情況，client要怎麼知道API的位置在哪呢？\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e讓兩個IP相同就好啦\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e只要像以下連線方式就可以了：\nclient → nginx web server → django wsgi\u003c/p\u003e\n\u003cp\u003e嗯…一整串，這樣的意思就是讓nginx在同一個server上提供靜態檔案及wsgi，\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e※本範例因為使用同一個port，所以不會CORS的問題，故Nginx上並沒有設定相關的header\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e首先要把front-end弄出來，靠的是webpack來編譯\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003enpm run build\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e會產生一個叫做dist的目錄，編譯好的東西預設都在這裡\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003edist\r\n  │  favicon.ico\r\n  │  index.html\r\n  │\r\n  ├─css\r\n  │      chunk-vendors.69d077a6.css\r\n  │\r\n  └─js\r\n          app.7215ebfd.js\r\n          app.7215ebfd.js.map\r\n          chunk-vendors.7993b17d.js\r\n          chunk-vendors.7993b17d.js.map\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e然後做一個名為demo的目錄，把東西都扔進來\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003edemo\r\n│  docker-compose.yml\r\n│\r\n├─api ★ 新增\r\n│  │  Dockerfile ★ 新增\r\n│  │  requirements.txt ★ 新增\r\n│  │  usgsi.ini ★ 新增\r\n│  │\r\n│  └─django_rest_example ★ 移動自API的Django Project\r\n│      │  db.sqlite3\r\n│      │  manage.py\r\n│      │\r\n│      ├─api\r\n│      │  │  ...\r\n|      |\r\n│      └─django_rest_example\r\n│          │  ...\r\n│\r\n├─nginx ★ 新增\r\n│      default.conf ★新增\r\n│\r\n└─web ★ 移動至dist，改名web方便辨識\r\n    │  favicon.ico\r\n    │  index.html\r\n    │\r\n    ├─css\r\n    │      chunk-vendors.69d077a6.css\r\n    │\r\n    └─js\r\n            app.7215ebfd.js\r\n            app.7215ebfd.js.map\r\n            chunk-vendors.7993b17d.js\r\n            chunk-vendors.7993b17d.js.map\r\n\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e接下來是重點的docker-compose file，因為api的container會需要下載一些package，所以額外做成一個image會比較方便，\n而web server的container就沒有這樣的需求，所以精簡就好，照一開始的規劃，\nweb server要使用tcp socket連到api，所以兩者使用一個docker network來通訊\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\n\u003ctable style=\"border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\"\u003e\u003ctr\u003e\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 1\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 2\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 3\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 4\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 5\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 6\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 7\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 8\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e 9\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e10\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e11\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e12\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e13\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e14\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e15\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e16\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e17\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e18\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e19\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e20\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e21\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e22\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e23\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e24\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e25\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e26\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e27\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e28\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e29\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e30\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e31\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e32\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e33\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e34\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e35\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;;width:100%\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-:docker-compose.yml\" data-lang=\":docker-compose.yml\"\u003e\u003cspan style=\"color:#f92672\"\u003eversion\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;3\u0026#39;\u003c/span\u003e\n\u003cspan style=\"color:#f92672\"\u003eservices\u003c/span\u003e:\n  \u003cspan style=\"color:#f92672\"\u003eapi\u003c/span\u003e:\n    \u003cspan style=\"color:#f92672\"\u003erestart\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003ealways\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003ebuild\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003e./api\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003eports\u003c/span\u003e:\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;8000:8000\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003evolumes\u003c/span\u003e:\n      - \u003cspan style=\"color:#ae81ff\"\u003e./api:/api\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003enetworks\u003c/span\u003e:\n      \u003cspan style=\"color:#f92672\"\u003ebackend\u003c/span\u003e:\n        \u003cspan style=\"color:#f92672\"\u003eipv4_address\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003e172.16.238.11\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003edeploy\u003c/span\u003e:\n      \u003cspan style=\"color:#f92672\"\u003erestart_policy\u003c/span\u003e:\n        \u003cspan style=\"color:#f92672\"\u003econdition\u003c/span\u003e: \u003cspan style=\"color:#66d9ef\"\u003eon\u003c/span\u003e-\u003cspan style=\"color:#ae81ff\"\u003efailure\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003ecommand\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003euwsgi --ini uwsgi.ini\u003c/span\u003e\n  \u003cspan style=\"color:#f92672\"\u003eweb\u003c/span\u003e:\n    \u003cspan style=\"color:#f92672\"\u003eimage\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003enginx:1.19.1\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003eports\u003c/span\u003e:\n      - \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;80:80\u0026#34;\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003evolumes\u003c/span\u003e:\n      - \u003cspan style=\"color:#ae81ff\"\u003e./web:/usr/share/nginx/html\u003c/span\u003e\n      - \u003cspan style=\"color:#ae81ff\"\u003e./nginx:/etc/nginx/conf.d\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003enetworks\u003c/span\u003e:\n      \u003cspan style=\"color:#f92672\"\u003ebackend\u003c/span\u003e:\n        \u003cspan style=\"color:#f92672\"\u003eipv4_address\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003e172.16.238.10\u003c/span\u003e\n    \u003cspan style=\"color:#f92672\"\u003edeploy\u003c/span\u003e:\n      \u003cspan style=\"color:#f92672\"\u003erestart_policy\u003c/span\u003e:\n        \u003cspan style=\"color:#f92672\"\u003econdition\u003c/span\u003e: \u003cspan style=\"color:#66d9ef\"\u003eon\u003c/span\u003e-\u003cspan style=\"color:#ae81ff\"\u003efailure\u003c/span\u003e\n\u003cspan style=\"color:#f92672\"\u003enetworks\u003c/span\u003e:\n  \u003cspan style=\"color:#f92672\"\u003ebackend\u003c/span\u003e: \n      \u003cspan style=\"color:#f92672\"\u003eipam\u003c/span\u003e:\n        \u003cspan style=\"color:#f92672\"\u003edriver\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003edefault\u003c/span\u003e\n        \u003cspan style=\"color:#f92672\"\u003econfig\u003c/span\u003e:\n          - \u003cspan style=\"color:#f92672\"\u003esubnet\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;172.16.238.0/24\u0026#34;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003eDockerfile如下，使用python 3.8.4的image\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\n\u003ctable style=\"border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\"\u003e\u003ctr\u003e\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e1\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e2\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e3\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e4\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e5\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;;width:100%\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-:api/Dockerfile\" data-lang=\":api/Dockerfile\"\u003e\u003cspan style=\"color:#66d9ef\"\u003eFROM\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e python:3.8.4\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eRUN\u003c/span\u003e mkdir -p /api\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eWORKDIR\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e /api\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eADD\u003c/span\u003e requirements.txt .\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eRUN\u003c/span\u003e pip install -r requirements.txt\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e必要的幾個包\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-requirements.txt\" data-lang=\"requirements.txt\"\u003eDjango == 3.0\ndjango-cors-headers == 3.2.1\ndjangorestframework == 3.11.0\ndjangorestframework-jwt == 1.11.0\nuWSGI == 2.0.19.1\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003euWSGI的設定可以精簡一點\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\n\u003ctable style=\"border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;\"\u003e\u003ctr\u003e\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e1\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e2\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e3\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e4\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e5\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e6\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e7\n\u003c/span\u003e\u003cspan style=\"margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f\"\u003e8\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd style=\"vertical-align:top;padding:0;margin:0;border:0;;width:100%\"\u003e\n\u003cpre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"\u003e\u003ccode class=\"language-:api/uwsgi.ini\" data-lang=\":api/uwsgi.ini\"\u003e\u003cspan style=\"color:#66d9ef\"\u003e[uwsgi]\u003c/span\u003e\n\n\u003cspan style=\"color:#a6e22e\"\u003echdir\u003c/span\u003e           \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e/api/django_rest_example\u003c/span\u003e\n\u003cspan style=\"color:#a6e22e\"\u003emodule\u003c/span\u003e          \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003edjango_rest_example.wsgi\u003c/span\u003e\n\u003cspan style=\"color:#a6e22e\"\u003emaster\u003c/span\u003e          \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003etrue\u003c/span\u003e\n\u003cspan style=\"color:#a6e22e\"\u003eprocesses\u003c/span\u003e       \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e2\u003c/span\u003e\n\u003cspan style=\"color:#a6e22e\"\u003esocket\u003c/span\u003e          \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e172.16.238.11:8000 \u003c/span\u003e\n\u003cspan style=\"color:#a6e22e\"\u003evacuum\u003c/span\u003e          \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003etrue\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003enginx用的conf，由location /api來和uWSGI通訊，使用tcp socket\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-:nginx/default.conf\" data-lang=\":nginx/default.conf\"\u003eserver {\r\n    listen       80;\r\n    listen  [::]:80;\r\n    server_name  localhost;\r\n\r\n    location / {\r\n        root   /usr/share/nginx/html;\r\n        index  index.html;\r\n    }\r\n\r\n    location /api {\r\n        uwsgi_pass 172.16.238.11:8000;\r\n        include uwsgi_params;\r\n    }\r\n}\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e下接來只要以下指令就部屬完成了\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003edemo# docker-compose up\r\n\u003c/code\u003e\u003c/pre\u003e",
    "kind": "page",
    "params": {
      "categories": [
        "WebDevelopment"
      ],
      "date": "2020-07-29T16:42:11+08:00",
      "draft": false,
      "iscjklanguage": true,
      "lastmod": "2020-07-29T16:42:11+08:00",
      "publishdate": "2020-07-29T16:42:11+08:00",
      "tags": [
        "Docker",
        "Nginx",
        "uWSGI"
      ],
      "title": "使用docker-compose部屬Nginx + uWSGI + Django"
    },
    "permalink": "https://mikanbearer.github.io/posts/202007291642/index.json",
    "type": "posts",
    "wordcount": 1061
  }
}