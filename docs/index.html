<!DOCTYPE html>
<html><head>
	<meta name="generator" content="Hugo 0.73.0" />
    <title>垃圾堆</title>

    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300&display=swap" rel="stylesheet"> 
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@5.x/css/materialdesignicons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/vue-loading-overlay@3/dist/vue-loading.css" rel="stylesheet">
    <link rel="stylesheet" href="https://mikanbearer.github.io/css/main.css" />
    <link rel="stylesheet" href="https://mikanbearer.github.io/css/code-block.css" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
    
    <style>
      .site-title {
        font-family: 'Noto Sans TC', sans-serif !important;
      }
 

      .post-title {
        font-family: 'Noto Sans TC', sans-serif !important;
      }

      .post-subtitle {
        font-family: 'Noto Sans TC', sans-serif !important;
      }

      .post-content {
        font-family: 'Noto Sans TC', sans-serif !important;
      }


      body {
        width: 100%;
        height: 100%;
        background-attachment: fixed;
        top: 0;
        left: 0;
        background-size: cover;
        background-color: #272727;        
      }
  
      #inspire {
        background: none;
      }
      

      div.v-input__prepend-inner div.v-input__icon {
        margin-top: 4px;
      }

      a.v-chip--active.accent {
        -webkit-filter: brightness(1.1);
      }

      a.v-chip--active.accent span {
        color: #ffffff;
      }

      img {
        max-width: 100%;
      }

      .post-list .theme--dark.v-expansion-panels .v-expansion-panel--active {
        background-color: #333a40;
      }

      
    </style>
  
  </head>
  <body><div id="content">
<div id="app">
    <v-app id="inspire">
      <v-app-bar
        app
        hide-on-scroll
        
        fade-img-on-scroll
        src="https://mikanbearer.github.io/img/0.jpg"    
      >

      

      <v-toolbar-title class="mr-12 align-center">
        <span class="site-title">垃圾堆</span>
      </v-toolbar-title>

      <v-spacer></v-spacer>
      <v-btn v-if="notInSearch" icon @click.stop="searchModal = !searchModal">
        <v-icon>mdi-magnify</v-icon>
      </v-btn>
      <v-btn v-else icon @click.stop="searchModal = !searchModal"  color="error">
        <v-icon>mdi-magnify</v-icon>
      </v-btn>
  
      <template v-slot:img="{ props }">
        <v-img
          v-bind="props"
          gradient="to top right, rgba(31,49,52,.7), rgba(69,87,101,.7)"
        ></v-img>
      </template>
    
    
      <template v-slot:extension>
        <v-tabs align-with-title>
          <v-tab v-if="$route.path == '/'"  to="/" :class="['v-tab--active']">Posts</v-tab>
          <v-tab v-else to="/">Posts</v-tab>
          <v-tab to="/works">Works</v-tab>
          <v-tab to="/about">About</v-tab>
        </v-tabs>
      </template>
    
    </v-app-bar>

    <v-main>
      <v-container>
        <v-row>
          <v-col>
            <v-scroll-x-transition>
              <router-view></router-view>
            </v-scroll-x-transition>
            <v-card class="mt-5 content" v-show="this.$route.path === '/post' && commentBlock">
              <v-card-text>
                <div id="disqus_thread"></div>
                <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
              </v-card-text>
            </v-card>
          </v-col>
        </v-row>
      </v-container>
    </v-main> 


    <v-dialog v-model="searchModal" max-width="600" light>
      <v-card color="#e6eae3">
        <v-card-title>
          Search Posts
        </v-card-title>
    
            <v-card-text>
              <v-combobox 
                v-model="searchConditions.keyword"
                :items="titles"
                clearable
                hide-selected
                hide-details
                prepend-inner-icon="mdi-text"
                label="Title"
                height="42"
              >  
              </v-combobox>
    
              <v-combobox 
                v-model="searchConditions.selectedTags"
                :items="tags"
                chips
                clearable
                multiple
                hide-selected
                hide-details
                prepend-inner-icon="mdi-tag-multiple"
                label="Tags"
              >
                <template v-slot:selection="{ attrs, item, select, selected }">
                  <v-chip
                    color="accent"
                    v-bind="attrs"
                    :input-value="selected"
                    close
                    @click:close="removeItem('selectedTags', item)"
                  >
                   [[ item ]]
                  </v-chip>
                </template>              
              </v-combobox>
      
              <v-combobox 
                v-model="searchConditions.selectedCategories"
                :items="categories"
                clearable
                multiple
                hide-selected
                hide-details
                prepend-inner-icon="mdi-folder-multiple"
                label="Categories"
                height="42"
              >  
              </v-combobox>
            </v-card-text>
    
            <v-card-actions>
              <v-spacer></v-spacer>
              <v-btn
                :disabled="notInSearch"
                color="error"
                @click="$router.history.push('/')"
                small
              >
                Clear
              </v-btn>
              <v-btn color="primary" @click="toFilteredList" small>
                Search
              </v-btn>
            </v-card-actions>

        </v-tabs-items>
      </v-card>
    </v-dialog>


  </v-app>
</div>

<script>
</script>

        </div>
<script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue-loading-overlay@3"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
<script type="text/x-template" id="list">

    <div :key="count">
        <div class="post-list">
            <v-expansion-panels v-model="postPanel" focusable multiple popout dark>
                <v-expansion-panel v-for="(post, index) in displayPosts" :key="index">
                    <v-expansion-panel-header class="text-h6 grey--text text--lighten-5 header">
                        <div class="post-title">
                            [[ post.title ]]
                        </div>
                    </v-expansion-panel-header>
                    <v-expansion-panel-content>
                        <div class="text-body-1 grey--text text--lighten-2 mt-1">
                            <div class="post-subtitle">
                                [[ post.date ]]
                                <router-link
                                    v-for="category in post.categories"
                                    :key="category"
                                    :to="{path: '/', query: {category: category}}"
                                >
                                    [[ category ]]
                                </router-link>
                            </div>

                            <div>
                                <v-icon small color="grey lighten-2">
                                    mdi-tag-multiple
                                </v-icon>
                                <div v-for="tag in post.tags" class="d-inline">
                                

                                    <v-chip
                                        color="accent"
                                        label
                                        text-color="grey lighten-4"
                                        x-small
                                        class="mr-1"
                                        :key="tag"
                                        :to="{path: '/', query: {tag: tag}}"
                                        v-if="searchConditions.selectedTags.includes(tag)"
                                        :class="['v-chip--active']"
                                    >
                                        [[ tag ]]
                                    </v-chip>
                                    <v-chip
                                        color="accent"
                                        label
                                        text-color="grey lighten-4"
                                        x-small
                                        class="mr-1"
                                        :key="tag"
                                        :to="{path: '/', query: {tag: tag}}"
                                        v-else

                                    >
                                        [[ tag ]]
                                    </v-chip>
                                </div>
                            </div>
                        </div>
                        <v-divider></v-divider>
                    
                        <div class="text-body-2 grey--text text--lighten-2 mt-4">
                            <div class="post-content" v-html="post.summary">
                            </div>
                            <div>
                                <v-btn :to="{path: 'post', query: {url: post.url}}" color="primary" small>Read More</v-btn>
                            </div>
                        </div>

                    </v-expansion-panel-content>
                </v-expansion-panel>
            </v-expansion-panels>
            <v-pagination v-if="displayPosts.length" v-model="page" :length=pageLength @input="pageChange" class="mt-4"></v-pagination>
        </div>

        <v-snackbar
            v-model="resultSnackbar"
            :timeout=3000
        >
            Found [[ filteredPosts.length ]] Posts.
            <template v-slot:action="{ attrs }">
                <v-btn
                    color="primary"
                    icon
                    v-bind="attrs"
                    @click="resultSnackbar = false"
                >
                    <v-icon>
                        mdi-close
                    </v-icon>
                </v-btn>
            </template>
        </v-snackbar>
    </div>

</script>
<script type="text/x-template" id="post">
    <div v-if="content">
        <v-card class="content" id="post-content">
            <v-card-title class="text-h6 grey--text text--lighten-4 justify-space-between" style="background-color: #556265;">
                <div class="ml-2 post-title">
                    [[ post.title ]]
                </div>
            </v-card-title>
            <v-card-subtitle class="text-body-1 grey--text text--lighten-2 mt-1 mr-2 ml-2">
                <div class="post-subtitle">
                    [[ post.date ]]
                    <router-link
                        v-for="category in post.categories"
                        :key="category"
                        :to="{path: '/', query: {category: category}}"
                    >
                        [[ category ]]
                    </router-link>
                </div>
                <div>
                    <v-icon small color="grey lighten-2">
                        mdi-tag-multiple
                    </v-icon>
                    <v-chip
                        color="accent"
                        label
                        text-color="grey lighten-4"
                        x-small
                        class="mr-1"
                        v-for="tag in post.tags"
                        :key="tag"
                        :to="{path: '/', query: {tag: tag}}"
                    >
                        [[ tag ]]
                    </v-chip>
                </div>
                <v-divider></v-divider>
            </v-card-subtitle>
            <v-card-text class="text-body-2 grey--text text--lighten-2">
                <div class="mr-2 ml-2 post-content" v-html="content">

                </div>
            </v-card-text>
        </v-card>

 
    </div>
</script>
<script type="text/x-template" id="works">
    <div v-if="content">
        <v-card class="content" id="post-content">
            <v-card-title class="text-h6 grey--text text--lighten-4 justify-space-between" style="background-color: #556265;">
                <div class="ml-2 post-title">
                    Works
                </div>
            </v-card-title>

            <v-card-text class="text-body-2 grey--text text--lighten-2 mt-2">
                <div class="mr-2 ml-2 post-content">
                    Comming soon...
                </div>
            </v-card-text>
        </v-card>
    </div>
</script>
<script type="text/x-template" id="about">
    <div v-if="content">
        <v-card class="content" id="post-content">
            <v-card-title class="text-h6 grey--text text--lighten-4 justify-space-between" style="background-color: #556265;">
                <div class="ml-2 post-title">
                    About
                </div>
            </v-card-title>

            <v-card-text class="text-body-2 grey--text text--lighten-2 mt-2">
                <div class="mr-2 ml-2 post-content" v-html="content">

                </div>
            </v-card-text>
        </v-card>
    </div>

</script>



<script>
  const posts = [

  {
    id:  0 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/202010081713\/',
    
      title: '主題更新',
    
    
      summary: '\u003cp\u003e心一橫把整個BLOG做成Single Page了，但目前還只是雛形，記錄下幾個主要的變更點、想法及待解決的問題\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-10-08 17:13',
    
    
      tags: '[Hugo Vue.js]',
    
    
      categories: '[雜記]',
    
    
      author: '',
    
  },

  {
    id:  1 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/202010061053\/',
    
      title: 'Vue Router在同一route component傳遞新的query string',
    
    
      summary: '\u003cp\u003e弄這個blog遇到的問題，想使用Vue Router來取代Hugo部分list功能的小筆記\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-10-06 10:53',
    
    
      tags: '[Vue.js]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  2 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/202009261450\/',
    
      title: '使用Vue Loading Overlay追加過場動畫',
    
    
      summary: '\u003cp\u003e不久前才想用vuetify的v-overlay與v-progress-circular來做個loading的延遲畫面，就意外發現了這個好東西：\u003c\/p\u003e\n\u003cp\u003e\u003ca href=\u0022https:\/\/www.npmjs.com\/package\/vue-loading-overlay\u0022\u003evue-loading-overlay\u003c\/a\u003e，馬上就來試一下\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-09-26 14:50',
    
    
      tags: '[Vue.js]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  3 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/202009251338\/',
    
      title: 'Python收送log',
    
    
      summary: '\u003cp\u003e工作測試用的放上來自己參考\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-09-25 13:38',
    
    
      tags: '[Python]',
    
    
      categories: '[雜記]',
    
    
      author: '',
    
  },

  {
    id:  4 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009221717\/',
    
      title: '讓Hugo輸出JSON格式',
    
    
      summary: '\u003cp\u003e計畫使用Hugo來製作Single Page，有JSON會方便很多，許多地方寫得不是很清楚所以筆記一下\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-09-22 17:17',
    
    
      tags: '[Hugo]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  5 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009211136\/',
    
      title: '使用Angular嘗試製作SPA登入畫面',
    
    
      summary: '\u003cp\u003e練習的時候到啦，這次一樣是用登入畫面，本篇寫作風格有點改變，嘗試放多一點圖(尤其gif)，內文不包含API的部分，大部分都是盲做，不完善的地方非常之多…\u003c\/p\u003e\n\u003cp\u003e畢竟，熟能生巧嘛(;´Д`A ```\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-09-21 11:36',
    
    
      tags: '[Angular Node.js TypeScript]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  6 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009181018\/',
    
      title: '從今天開始學Angular',
    
    
      summary: '\u003cp\u003e從今天開始系列最新作，沒方向的時候就是學framework的最好時機(？\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-09-18 10:18',
    
    
      tags: '[Angular Node.js TypeScript]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  7 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009161132\/',
    
      title: 'scikit-learn新手入門之決策樹篇',
    
    
      summary: '\u003cp\u003e身為資料分析\u0026amp;機器學習的超級新手，個人還是覺得實際操作一遍比理論更好理解，\n這次練習的是之前曾草草帶過的機械學習工具scikit-learn，主題就決定是決策樹了\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-09-16 11:32',
    
    
      tags: '[Python scikit-learn]',
    
    
      categories: '[資料分析]',
    
    
      author: '',
    
  },

  {
    id:  8 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009151049\/',
    
      title: '【Flask入門練習-CRUD篇4】使用Flask-WTF導入CSRF Protection',
    
    
      summary: '\u003cp\u003e暫定是最後一個入門練習，這次使用Flask-WTF來做CSRF Protection，Flask-WTF是WTForms結合Flask用的module\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-09-15 10:49',
    
    
      tags: '[Flask Flask-WTF Python]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  9 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009141257\/',
    
      title: '【Flask入門練習-CRUD篇3】使用Flask-Login實作登入畫面',
    
    
      summary: '\u003cp\u003e這次實作目標是導入Flask-Login，讓咱們的app受驗證機制保護\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-09-14 12:57',
    
    
      tags: '[Flask Flask-Login Python]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  10 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009111635\/',
    
      title: '【Flask入門練習-CRUD篇2】製作簡單的CRUD',
    
    
      summary: '\u003cp\u003e經過了前面的練習，咱們的小App已經有了ORM，既然有了ORM，不做成CRUD(Create、Read、Update、Delete)怎麼行？\u003c\/p\u003e\n\u003cp\u003e所以繼續動手做\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-09-11 16:35',
    
    
      tags: '[Flask Flask-Migrate Python]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  11 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009101608\/',
    
      title: '安裝並嘗試使用Arista ZTPServer',
    
    
      summary: '\u003cp\u003e繼之前在架設lab的過程中被許許多多的狀況「折磨」過後(參照\u003ca href=\u0022https:\/\/mikanbearer.github.io\/posts\/202007241554\/\u0022\u003e這裡\u003c\/a\u003e)，終於找到時間接續下去了，這次就來部屬\u003ca href=\u0022https:\/\/github.com\/arista-eosplus\/ztpserver\u0022\u003eArista ZTPServer\u003c\/a\u003e，並稍微驗證一下client與server之間的動作，以確定正常能用\n，畢竟就算是最新的1.5.0版也很久沒更新了\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-09-10 16:08',
    
    
      tags: '[EVE-NG vEOS ZTPServer]',
    
    
      categories: '[運維管理]',
    
    
      author: '',
    
  },

  {
    id:  12 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009091346\/',
    
      title: '【Python資料分析練習-入門篇2】自然語言處理與機器學習',
    
    
      summary: '\u003cp\u003e這次的練習就稍微複雜一點，使用的是機械學習常用的工具scikit-learn，一樣是朝著可視化的目標前進，所以也會做張圖…\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-09-09 13:46',
    
    
      tags: '[Python pandas scikit-learn seaborn]',
    
    
      categories: '[資料分析]',
    
    
      author: '',
    
  },

  {
    id:  13 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009081138\/',
    
      title: '結巴分詞工具的簡單筆記',
    
    
      summary: '\u003cp\u003e這次來使用大名鼎鼎的\u0026quot;結巴中文分詞\u0026quot;了，應該是目前最好的的斷詞工具，之後的實作會用上所以稍微筆記一下\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-09-08 11:38',
    
    
      tags: '[Jieba Python]',
    
    
      categories: '[資料分析]',
    
    
      author: '',
    
  },

  {
    id:  14 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009070954\/',
    
      title: '【Python資料分析練習-入門篇1】使用Scrapy爬取PTT貼文',
    
    
      summary: '\u003cp\u003e從爬蟲開始的實作，分析資料前總得先有資料吧(;\u0026lsquo;∀\u0026rsquo;)\u003c\/p\u003e\n\u003cp\u003e作為資料分析的前置作業，就來爬取媒體最愛的PTT，畢竟BBS類型的資料還蠻標準的，雖然本人不太逛PTT就是了…\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-09-07 09:54',
    
    
      tags: '[Matplotlib Python Scrapy]',
    
    
      categories: '[資料分析]',
    
    
      author: '',
    
  },

  {
    id:  15 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009031456\/',
    
      title: '使用Ansible部屬Docker Swarm',
    
    
      summary: '\u003cp\u003e偶然看到這個\u003ca href=\u0022https:\/\/github.com\/atosatto\/ansible-dockerswarm\u0022\u003eAnsible Role: Docker\u003c\/a\u003e就想嘗試一下，用得順的話就能輕鬆部屬swarm cluster了，所以試著操作一遍\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-09-03 14:56',
    
    
      tags: '[Ansible Docker]',
    
    
      categories: '[運維管理]',
    
    
      author: '',
    
  },

  {
    id:  16 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/09\/202009011649\/',
    
      title: '從今天開始學Ansible',
    
    
      summary: '\u003cp\u003e雖然久仰Ansible大名，但總是停留在紙上談兵的階段，這次就先練習一遍，熟悉點再來自己寫role\u003c\/p\u003e\n\u003cp\u003e參考文件：\u003ca href=\u0022https:\/\/docs.ansible.com\/\u0022\u003ehttps:\/\/docs.ansible.com\/\u003c\/a\u003e\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-09-01 16:49',
    
    
      tags: '[Ansible]',
    
    
      categories: '[運維管理]',
    
    
      author: '',
    
  },

  {
    id:  17 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008281726\/',
    
      title: '從Scrapy開始玩爬蟲',
    
    
      summary: '\u003cp\u003e為了之後的學習方向做準備，來練習一下Scrapy，Scrapy就是處理response的工具，並從中取得自己需要的資料，\u003c\/p\u003e\n\u003cp\u003e這次就做個最低限度的練習\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-08-28 17:26',
    
    
      tags: '[Python Scrapy]',
    
    
      categories: '[資料分析]',
    
    
      author: '',
    
  },

  {
    id:  18 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008271612\/',
    
      title: '【Flask入門練習-CRUD篇1】在Flask中導入ORM操作',
    
    
      summary: '\u003cp\u003eFlask本身沒自帶ORM對製作CRUD而言是略為麻煩，這裡就使用SQLAlchemy來操作資料庫，剛好有個\u003ca href=\u0022https:\/\/flask-sqlalchemy.palletsprojects.com\/en\/2.x\/\u0022\u003eFlask-SQLAlchemy\u003c\/a\u003e可使用，大大縮短coding時間\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-08-27 16:12',
    
    
      tags: '[Flask Flask-SQLAlchemy Python]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  19 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008241004\/',
    
      title: '【Prometheus入門練習-自訂篇2】將Prometheus API取得的資料搭配Vue.js製作Echarts動態圖表',
    
    
      summary: '\u003cp\u003e要是不想用自帶的UI，也不想用Grafana怎麼辦！！那當然就是自己動手做啦，自己動手做的好處就是能整合其他功能做成多合一的Web app，但這次就先練習如何取用Prometheus上的資料，製作成動態圖表\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-08-24 10:04',
    
    
      tags: '[Echarts JavaScript Prometheus Vue.js]',
    
    
      categories: '[運維管理]',
    
    
      author: '',
    
  },

  {
    id:  20 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008191354\/',
    
      title: '從今天開始學Flask',
    
    
      summary: '\u003cp\u003e以往用的framework都是Django，但總不可能靠一招就打天下…所以便來轉戰Flask了，畢竟在某些情境下，使用這種輕量化的framework會更合適\u003c\/p\u003e\n\u003cp\u003e和Django不同，Flask不像Django這麼複雜，預設也只有最低限度的功能，也不像Django自帶ORM，\n因此是個自由度相當高的framework，接下來就開始動手練習\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-08-19 13:54',
    
    
      tags: '[Flask Python]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  21 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008181609\/',
    
      title: '【Prometheus入門練習-基本操作篇3】使用Prometheus監控RabbitMQ',
    
    
      summary: '\u003cp\u003e想特地找個一個有自帶plugin的軟體練習一下幫助記憶，剛剛好是常常使用RabbitMQ！這次就來測試看看，當作實務運用的練習\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-08-18 16:09',
    
    
      tags: '[Prometheus RabbitMQ]',
    
    
      categories: '[運維管理]',
    
    
      author: '',
    
  },

  {
    id:  22 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008171709\/',
    
      title: '【Prometheus入門練習-自訂篇1】使用Prometheus client library自訂metrics',
    
    
      summary: '\u003cp\u003e作為往後可能需要自訂Exporter的預習，就試著拿\u003ca href=\u0022https:\/\/prometheus.io\/docs\/instrumenting\/clientlibs\/\u0022\u003ePrometheus client library\u003c\/a\u003e來玩玩…這次使用官方提供的Python版本，藉由這次練習來更加熟練操作Exporter\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-08-17 17:09',
    
    
      tags: '[Prometheus Python]',
    
    
      categories: '[運維管理]',
    
    
      author: '',
    
  },

  {
    id:  23 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008151135\/',
    
      title: '使用Moment.js處理日期時間',
    
    
      summary: '\u003cp\u003e一個處理時間的library，覺得蠻好用得所以筆記一下\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-08-15 11:35',
    
    
      tags: '[JavaScript Moment.js]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  24 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008140913\/',
    
      title: '【Prometheus入門練習-基本操作篇2】使用Pushgateway進行監控',
    
    
      summary: '\u003cp\u003ePrometheus在設計上是採用pull的模式，但在網路架構的規劃上，並不是所有的target能讓Prometheus去pull，這時候就是Pushgateway出馬的時候了\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-08-14 09:13',
    
    
      tags: '[Prometheus]',
    
    
      categories: '[運維管理]',
    
    
      author: '',
    
  },

  {
    id:  25 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008131707\/',
    
      title: '【Prometheus入門練習-基本操作篇1】從零開始學Prometheus',
    
    
      summary: '\u003cp\u003ePrometheus是最近非常流行的Pull-based monitoring，主要的角色是以下兩者：\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003ePrometheus：監控方，定期收集資料並存在資料庫\u003c\/li\u003e\n\u003cli\u003eExporter：被監控方，回傳監控方需要的資料\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003e為了往後學習方便，先來實作一遍這個方便利用的工具\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-08-13 17:07',
    
    
      tags: '[Prometheus]',
    
    
      categories: '[運維管理]',
    
    
      author: '',
    
  },

  {
    id:  26 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008100108\/',
    
      title: '使用Django \u002b Channels部屬WebSocket簡易聊天室',
    
    
      summary: '\u003cp\u003e製作一個網頁聊天室，首先要讓服務端和用戶端實現異步通訊，而服務端要包含一個訊息貯列，讓所有符合條件的用戶端都能收到相應的訊息，\n剛好可作為Message Queue及Web Socket的練習。\u003c\/p\u003e\n\u003cp\u003e本篇Message Queue使用RabbitMQ，Framework使用Django，並且由Channels來實現Web Socket\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-08-10 01:08',
    
    
      tags: '[Channels Django Python RabbitMQ]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  27 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008092021\/',
    
      title: '動態更新Echarts',
    
    
      summary: '\u003cp\u003e之前工作上需要一個前端的圖表庫，最後就相中了百度的Echarts，像是要做監控的話，前端的圖表要動態更新就變得很重要了\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-08-09 20:21',
    
    
      tags: '[Echarts JavaScript]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  28 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/08\/202008070930\/',
    
      title: '新主題上線！',
    
    
      summary: '\u003cp\u003e原本使用\u003ca href=\u0022https:\/\/github.com\/halogenica\/beautifulhugo\u0022\u003eBeautifulhugo\u003c\/a\u003e(個人蠻喜歡的)，但發現會有一些小問題…\u003c\/p\u003e\n\u003cp\u003e這個主題是使用bootstrap3製作，但也會因此有一些特殊字元問題…\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-08-07 09:30',
    
    
      tags: '[Hugo Vuetify Vue.js]',
    
    
      categories: '[雜記]',
    
    
      author: '',
    
  },

  {
    id:  29 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007301419\/',
    
      title: '在Nginx或Apache上設定CORS',
    
    
      summary: '\u003cp\u003eWeb Server沒定義相關的Header的話，就沒辦法Preflight Request，所以必須額外設定，使用\u003ca href=\u0022https:\/\/mikanbearer.github.io\/myblog\/posts\/202007291642\/\u0022\u003e這篇\u003c\/a\u003e來實作，本篇包含Nginx及Apache的設定範例\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-07-30 14:19',
    
    
      tags: '[Apache Nginx]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  30 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007291642\/',
    
      title: '使用docker-compose部屬Nginx \u002b uWSGI \u002b Django',
    
    
      summary: '\u003cp\u003e雖然docker-compose真的很方便，為了一鍵部屬些東西，還是爬一下文，避免處處碰壁…\u003c\/p\u003e\n\u003cp\u003e這次使用以下兩篇舊文的範例來練習\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-07-29 16:42',
    
    
      tags: '[Docker Nginx uWSGI]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  31 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007262314\/',
    
      title: '使用Vue.js \u002b Vuetify製作SPA登入畫面',
    
    
      summary: '\u003cp\u003e利用Vuetify這個最近蠻流行的UI Kit來做一個SPA的練習，當然首選就是登入畫面了，這次順帶附加上nested route，\n往後可作為隨時能取用的範例，code依然很醜，不合理及多餘的部分之後再慢慢修正…\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-07-26 23:14',
    
    
      tags: '[JavaScript Node.js Vue.js]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  32 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007241554\/',
    
      title: '【2020\/07\/25解決】在EVE-NG上部屬vEOS LAB',
    
    
      summary: '\u003cp\u003e第一篇挫折問題紀錄，各種鬼打牆…\n原本想在EVE-NG上做個簡單的LAB，沒想到問題還真不少…\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-07-24 15:54',
    
    
      tags: '[EVE-NG]',
    
    
      categories: '[問題紀錄]',
    
    
      author: '',
    
  },

  {
    id:  33 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007221111\/',
    
      title: '使用Django \u002b Celery進行異步處理',
    
    
      summary: '\u003cp\u003e本篇旨在project中增加異步執行的功能，增進使用者體驗，避免東西沒跑完response等了老半天等不到的窘境，\n目前只提供簡單的範例，不包含異步任務的情境應用\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-07-22 11:11',
    
    
      tags: '[Celery Django Python RabbitMQ]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  34 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007211516\/',
    
      title: '用VBA在Excel中使用nslookup',
    
    
      summary: '\u003cp\u003e工作中常常用到的功能，不筆記會忘記，\n主要是在Excel Macro調用Wshshell，把A欄的結果輸出到B欄\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-07-21 15:16',
    
    
      tags: '[Excel VBA]',
    
    
      categories: '[小技巧]',
    
    
      author: '',
    
  },

  {
    id:  35 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007201501\/',
    
      title: '【Django API實作-入門篇2】在Django REST framework上導入JWT驗證',
    
    
      summary: '\u003cp\u003e承之前的範例，這次要用JSON Web Token驗證，並加上Cross-Origin Resource Sharing\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-07-20 15:01',
    
    
      tags: '[Django Python]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  36 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007201139\/',
    
      title: '使用watch監控的一些寫法',
    
    
      summary: '\u003cp\u003e想到要利用watch來監視複數data property，但寫出來都是重是又冗長，所以整理了一些比較彈性的寫法\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-07-20 11:39',
    
    
      tags: '[JavaScript Vue.js]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  37 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007161628\/',
    
      title: '【Django API實作-入門篇1】使用Django REST framework超高速部屬RESTful API',
    
    
      summary: '\u003cp\u003e這次作為複習，利用djangorestframework製作一個陽春的REST API\n何謂RESTful就不贅述了，直接開始實做\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-07-16 16:28',
    
    
      tags: '[Python Django]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  38 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007151013\/',
    
      title: '使用Django超高速部屬CRUD',
    
    
      summary: '\u003cp\u003e這次僅是做一個超級簡易，能做到Create、Read、Update、Delete的Web App，\u003cbr\u003e\n為了避免版面過長，此篇僅有陽春的Template View，並沒有做Filter及Pagenation…\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-07-15 10:14',
    
    
      tags: '[Django Python]',
    
    
      categories: '[網頁製作]',
    
    
      author: '',
    
  },

  {
    id:  39 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007141604\/',
    
      title: '使用VBScript定期送出按鍵',
    
    
      summary: '\u003cp\u003e在客戶環境中操作，並需要客戶代為登入的情況下給自己用的小筆記，\n免得一不注意就被policy弄到進入省電模式\/登出，到時候又要請客戶的人來幫忙key帳號密碼…\n在不變更任何設定的情況下，VBScript還是很好用的東西，\u003cbr\u003e\n尤其是這個安全無害的method，\u003cstrong\u003eSendKeys\u003c\/strong\u003e\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-07-14 16:04',
    
    
      tags: '[VBScript]',
    
    
      categories: '[小技巧]',
    
    
      author: '',
    
  },

  {
    id:  40 ,
    url: 'https:\/\/mikanbearer.github.io\/posts\/2020\/07\/202007101327\/',
    
      title: '紀念用的第一篇',
    
    
      summary: '\u003cp\u003e最近想把學習過程中碰到的小問題做些筆記，剛好又對static site generator有些興趣，\n就到\u003ca href=\u0022https:\/\/www.staticgen.com\/\u0022\u003ehttps:\/\/www.staticgen.com\/\u003c\/a\u003e找個人氣度高的來用，之後就選上了這個\u003cstrong\u003eHugo\u003c\/strong\u003e，\n雖然這個Beautiful Hugo的theme挺好看的，之後還是要改一下，首先還是先搞定code block…\u003c\/p\u003e',
      content: '',
    
    
      date: '2020-07-10 13:27',
    
    
      tags: '[Hugo]',
    
    
      categories: '[雜記]',
    
    
      author: '',
    
  },

]

posts.forEach(element => {element.categories = element.categories.slice(1, -1).split(' ')})
posts.forEach(element => {element.tags = element.tags.slice(1, -1).split(' ')})

const titles = [

  
      '主題更新',
  

  
      'Vue Router在同一route component傳遞新的query string',
  

  
      '使用Vue Loading Overlay追加過場動畫',
  

  
      'Python收送log',
  

  
      '讓Hugo輸出JSON格式',
  

  
      '使用Angular嘗試製作SPA登入畫面',
  

  
      '從今天開始學Angular',
  

  
      'scikit-learn新手入門之決策樹篇',
  

  
      '【Flask入門練習-CRUD篇4】使用Flask-WTF導入CSRF Protection',
  

  
      '【Flask入門練習-CRUD篇3】使用Flask-Login實作登入畫面',
  

  
      '【Flask入門練習-CRUD篇2】製作簡單的CRUD',
  

  
      '安裝並嘗試使用Arista ZTPServer',
  

  
      '【Python資料分析練習-入門篇2】自然語言處理與機器學習',
  

  
      '結巴分詞工具的簡單筆記',
  

  
      '【Python資料分析練習-入門篇1】使用Scrapy爬取PTT貼文',
  

  
      '使用Ansible部屬Docker Swarm',
  

  
      '從今天開始學Ansible',
  

  
      '從Scrapy開始玩爬蟲',
  

  
      '【Flask入門練習-CRUD篇1】在Flask中導入ORM操作',
  

  
      '【Prometheus入門練習-自訂篇2】將Prometheus API取得的資料搭配Vue.js製作Echarts動態圖表',
  

  
      '從今天開始學Flask',
  

  
      '【Prometheus入門練習-基本操作篇3】使用Prometheus監控RabbitMQ',
  

  
      '【Prometheus入門練習-自訂篇1】使用Prometheus client library自訂metrics',
  

  
      '使用Moment.js處理日期時間',
  

  
      '【Prometheus入門練習-基本操作篇2】使用Pushgateway進行監控',
  

  
      '【Prometheus入門練習-基本操作篇1】從零開始學Prometheus',
  

  
      '使用Django \u002b Channels部屬WebSocket簡易聊天室',
  

  
      '動態更新Echarts',
  

  
      '新主題上線！',
  

  
      '在Nginx或Apache上設定CORS',
  

  
      '使用docker-compose部屬Nginx \u002b uWSGI \u002b Django',
  

  
      '使用Vue.js \u002b Vuetify製作SPA登入畫面',
  

  
      '【2020\/07\/25解決】在EVE-NG上部屬vEOS LAB',
  

  
      '使用Django \u002b Celery進行異步處理',
  

  
      '用VBA在Excel中使用nslookup',
  

  
      '【Django API實作-入門篇2】在Django REST framework上導入JWT驗證',
  

  
      '使用watch監控的一些寫法',
  

  
      '【Django API實作-入門篇1】使用Django REST framework超高速部屬RESTful API',
  

  
      '使用Django超高速部屬CRUD',
  

  
      '使用VBScript定期送出按鍵',
  

  
      '紀念用的第一篇',
  

]




  const tags = [
  
  'Angular',
  
  'Ansible',
  
  'Apache',
  
  'Celery',
  
  'Channels',
  
  'Django',
  
  'Docker',
  
  'EVE-NG',
  
  'Echarts',
  
  'Excel',
  
  'Flask',
  
  'Flask-Login',
  
  'Flask-Migrate',
  
  'Flask-SQLAlchemy',
  
  'Flask-WTF',
  
  'Hugo',
  
  'JavaScript',
  
  'Jieba',
  
  'Matplotlib',
  
  'Moment.js',
  
  'Nginx',
  
  'Node.js',
  
  'Prometheus',
  
  'Python',
  
  'RabbitMQ',
  
  'Scrapy',
  
  'TypeScript',
  
  'VBA',
  
  'VBScript',
  
  'Vue.js',
  
  'Vuetify',
  
  'ZTPServer',
  
  'pandas',
  
  'scikit-learn',
  
  'seaborn',
  
  'uWSGI',
  
  'vEOS',
  

  ]





  const categories = [
  
  '問題紀錄',
  
  '小技巧',
  
  '網頁製作',
  
  '資料分析',
  
  '運維管理',
  
  '雜記',
  

  ]




  Vue.use(VueLoading)
  Vue.component('loading', VueLoading)

  const About = {
    template: '#about',
    delimiters: ['[[', ']]'],

    data () {
      return {
        content: null
      }
    },
    created () {
      axios.get('https:\/\/mikanbearer.github.io\/about/').then(response => {
          setTimeout(() => {this.content = response.data}, 300)
      })
    },
  }

  const Works = {
    template: '#works',
    delimiters: ['[[', ']]'],

    data () {
      return {
        content: null
      }
    },

    created () {
      setTimeout(() => {this.content = true}, 300)
    },
  }


  const Post = {
    template: '#post',
    delimiters: ['[[', ']]'],

    data () {
      return {
        post: {
          title: null,
          date: null,
          categories: null,
          tags: null
        },
        content: null
      }
    },

    created () {
      this.getPost(this.$route.query.url)
    },

    updated () {
      setTimeout(this.resetDisqus, 150, this.$route.query.url)
      this.replaceImgSrc()
      this.addCodeBlockTitle()
    },

    methods: {
      replaceImgSrc () {
        var contents = document.getElementsByClassName('content')

        Array.prototype.forEach.call(contents, content => {
          var imgs = content.getElementsByTagName('img')
          Array.prototype.forEach.call(imgs, img => {
            if (img.attributes.src.value.indexOf('http') == -1) {
              img.src = this.post.url + img.attributes.src.value
            }
          })
        })        
      },

      addCodeBlockTitle () {
        var code_list = document.body.getElementsByTagName('code')
        for (i=0; i <= code_list.length-1; i++) {
          var codeParent = code_list[i].closest('pre')
          if (codeParent) {
            if (!codeParent.closest('div.highlight')) {
              if (/^language-:+/.test(code_list[i].className)) {
                var div = document.createElement('div')
                div.classList.add('highlight')
                var pre = codeParent.cloneNode(true)
                div.appendChild(pre)
                codeParent.replaceWith(div)
              }
            }
          }
        }

        var list = document.body.getElementsByClassName('highlight')

        for(i=0; i <= list.length-1; i++){
          var table = list[i].firstElementChild.firstElementChild
          if (table.nodeName == 'TABLE') {
            var code = table.firstElementChild.firstElementChild.childNodes[2].firstElementChild.firstElementChild
            var codeName =  code ? code.className.split(':')[1] : null
            if(codeName) {
              var div = document.createElement('div')
              div.textContent = codeName
              div.classList.add('code-name')
              table.parentNode.insertBefore(div, table)
            }
          } else {
            var code = table
            var codeName =  code ? code.className.split(':')[1] : null
          
            if(codeName) {
              var div = document.createElement('div')
              var br = document.createElement('br')
              div.textContent = codeName
              div.classList.add('code-name')
              code.parentNode.insertBefore(div, code)
              code.parentNode.insertBefore(br, code)
            }
          }
        }
      },

      getPost (url) {
        axios.get(url + 'index.json').then(response => {
          this.post = response.data.result
        })
        axios.get(url).then(response => {
          setTimeout(() => {this.content = response.data}, 300)
        })
      },

      resetDisqus (url) {
        if (window.DISQUS) {
          window.DISQUS.reset({
            reload: true,
            config: function () {  
              this.page.url = url
            }
          })
        }
      },


    }
  }
  

  const List = {
    template: '#list',
    delimiters: ['[[', ']]'],
    data () {
      return {
        postPanel: [],
        page: 1,
        pageSize: 10,
        pageLength: null,
        filteredPosts: posts,
        displayPosts: [],
        count: 0,
        resultSnackbar: false,
        searchConditions: {
          selectedCategories: [],
          selectedTags: [],
          keyword: ''
        }
      }
    },

    computed: {
      getQuery () {
        return this.$route.query
      }
    },

    mounted () {
      this.postsInit()
    },

    watch: {
      getQuery (to, from) {
        this.searchPosts()
      },
    },
    methods: {
      getSearchConditions () {
        var query = this.getQuery
        const convertToArray = (value) => {
          if (Array.isArray(value)) {
            return value
          } else if (typeof value === 'string') {
            return value.split(',')
          } else {
            return []
          }
        }

        var searchConditions = {}

        searchConditions.selectedCategories = convertToArray(query.category)
        searchConditions.selectedTags = convertToArray(query.tag)
        if (typeof query.keyword === 'string') {
          searchConditions.keyword = query.keyword
        } else {
          searchConditions.keyword = ''
        }
        return searchConditions
      },

      postsInit () {
        if (Object.keys(this.$route.query).length) {
          this.searchPosts()
        }
        else {
          this.pageInit()
        }
      },

      pageInit () {
        this.pageLength = Math.ceil(this.filteredPosts.length/this.pageSize)
        setTimeout(this.pageChange, 200, 1)
      },

      pageChange (pageNumber) {
        this.displayPosts = this.filteredPosts.slice(this.pageSize*(pageNumber -1), this.pageSize*(pageNumber))
        this.postPanel = [...Array(this.pageSize).keys()].map((k, i) => i)
        if (window.pageYOffset >= 60) {
          window.scroll({top: 60, behavior: 'instant'})
        }
        setTimeout(window.scroll, 5, {top: 0, behavior: 'smooth'})
        this.count ++
      },

      searchPosts () {
        var searchConditions = this.getSearchConditions()
        this.searchConditions = searchConditions
        var keyword = searchConditions.keyword
        var selectedTags = searchConditions.selectedTags
        var selectedCategories = searchConditions.selectedCategories
        var filteredPosts = []

        const arrayChecker = (arr, target) => {
          if (target) {
            return target.every(v => arr.includes(v))
          }
          return true
        }

        const stringChecker = (str, target) => {
          if (target) {
            return str.indexOf(target) != -1
          }
          return true
        }

        for (const post of posts) {
          if (arrayChecker(post.tags, selectedTags) && arrayChecker(post.categories, selectedCategories) && stringChecker(post.title, keyword)) {
            filteredPosts.push(post)
          }
        }

        this.filteredPosts = filteredPosts
        this.resultSnackbar = true
        this.pageInit()
      },
    }
  }


  const routes = [
    { path: '/', component: List },
    { path: '/post', component: Post },
    { path: '/works', component: Works },
    { path: '/about', component: About }
  ]

  const router = new VueRouter({
    routes
  })


  
  router.beforeEach((to, from, next) => {
    if (window.pageYOffset >= 60) {
      window.scroll({top: 60, behavior: 'instant'})
    }
    setTimeout(window.scroll, 5, {top: 0, behavior: 'smooth'})
    next()
  })


  

  var vm = new Vue({
    router,
    delimiters: ['[[', ']]'],
    el: '#app',
    vuetify: new Vuetify(),
    data: {
      titles: titles,
      tags: tags,
      categories: categories,
      posts: posts,
      searchConditions: {
        selectedCategories: [],
        selectedTags: [],
        keyword: ''
      },
      searchModal: false,
      commentBlock: false
    },

    computed: {
      getQuery () {
        return this.$route.query
      },
      notInSearch () {
        const queryKeys = Object.keys(this.$route.query)
        if (queryKeys.length === 0) {
          return true
        }
        return !queryKeys.every(v => ['keyword', 'category', 'tag'].includes(v))
      }
    },

    watch: {
      getQuery (to, from) {
        if (this.$route.path == '/') {
          this.setSearchConditionsToData()
        }
      }
    },

    created () {
      this.$vuetify.theme.dark = true
      this.loader = this.$loading.show(
        {loader: 'dots', color: '#fff', backgroundColor: '#272727', opacity: 1}
          )
      this.setSearchConditionsToData()
      this.addingDISQUS()
    },

    mounted () {
      this.loader.hide()
      this.showComment()
    },

    updated () {
      this.showComment()
    },

    methods: {
      getSearchConditions () {
        var query = this.getQuery
        const convertToArray = (value) => {
          if (Array.isArray(value)) {
            return value
          } else if (typeof value === 'string') {
            return value.split(',')
          } else {
            return []
          }
        }

        var searchConditions = {}

        searchConditions.selectedCategories = convertToArray(query.category)
        searchConditions.selectedTags = convertToArray(query.tag)
        if (typeof query.keyword === 'string') {
          searchConditions.keyword = query.keyword
        } else {
          searchConditions.keyword = ''
        }
        return searchConditions
      },

      setSearchConditionsToData () {
        this.searchConditions = this.getSearchConditions()
      },

      toFilteredList () {
        var query = {}

        if (this.searchConditions.keyword) {
          query.keyword = this.searchConditions.keyword
        }
        if (this.searchConditions.selectedCategories.length) {
          query.category = this.searchConditions.selectedCategories
        }
        if (this.searchConditions.selectedTags.length) {
          query.tag = this.searchConditions.selectedTags
        }
        if (this.$route.path == '/') {
          this.$router.history.push({
            query: query
          })
        }
        else {
          this.$router.push({
            path: '/',
            query: query
          })
        }
      },

      removeItem (target, item) {
        const index = this.searchConditions[target].indexOf(item)
        if (index >= 0) {
          this.searchConditions[target].splice(index, 1)
        }
      },

      addingDISQUS () {
        (() => {
          if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.'
            return
        }
        var d = document, s = d.createElement('script')
        s.async = true

        var disqus_shortname = 'mikanmimi'
        s.src = '//' + disqus_shortname + '.disqus.com/embed.js'
        s.setAttribute('data-timestamp', +new Date())
        d.body.appendChild(s)
        })()
      },

      showComment () {
        if (this.$route.path === '/post') {
          setTimeout(() => {this.commentBlock = true}, 500)
        } else {
          this.commentBlock = false
        }
      }
    }
  })

  vm.$vuetify.theme.themes.light.primary = '#007C8A'
  vm.$vuetify.theme.themes.light.secondary = '#44617B'
  vm.$vuetify.theme.themes.light.accent = '#009BAC'
  vm.$vuetify.theme.themes.light.error = '#D7003A'
  vm.$vuetify.theme.themes.light.warning = '#F08300'


  vm.$vuetify.theme.themes.dark.primary = '#F08300'
  vm.$vuetify.theme.themes.dark.secondary = '#006e54'
  vm.$vuetify.theme.themes.dark.warning = '#d3381c'
  vm.$vuetify.theme.themes.dark.error = '#D7003A'
  vm.$vuetify.theme.themes.dark.accent = '#009988'


  vm.$vuetify.theme.themes.dark.header = '#1f3134'
  vm.$vuetify.theme.themes.dark.content = '#333a40'

















</script>


 
</body>
</html>
